exports.ids=[1],exports.modules={"4Pm/":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return ng_gallery_GalleryComponent}),__webpack_require__.d(__webpack_exports__,"b",function(){return GalleryModule}),__webpack_require__.d(__webpack_exports__,"c",function(){return ImageItem});var core=__webpack_require__("fXoL"),Subject=__webpack_require__("XNiG"),BehaviorSubject=__webpack_require__("2Vo4"),of=__webpack_require__("LRne"),empty=__webpack_require__("EY2u"),Subscription=__webpack_require__("quSY"),fromEvent=__webpack_require__("xgIS"),fromArray=__webpack_require__("yCtX"),isArray=__webpack_require__("DH7j"),Subscriber=__webpack_require__("7o/Q"),iterator=__webpack_require__("Lhse"),innerSubscribe=__webpack_require__("zx2A");class ZipOperator{constructor(resultSelector){this.resultSelector=resultSelector}call(subscriber,source){return source.subscribe(new zip_ZipSubscriber(subscriber,this.resultSelector))}}class zip_ZipSubscriber extends Subscriber.a{constructor(destination,resultSelector,values=Object.create(null)){super(destination),this.resultSelector=resultSelector,this.iterators=[],this.active=0,this.resultSelector="function"==typeof resultSelector?resultSelector:void 0}_next(value){const iterators=this.iterators;Object(isArray.a)(value)?iterators.push(new zip_StaticArrayIterator(value)):"function"==typeof value[iterator.a]?iterators.push(new StaticIterator(value[iterator.a]())):iterators.push(new zip_ZipBufferIterator(this.destination,this,value))}_complete(){const iterators=this.iterators,len=iterators.length;if(this.unsubscribe(),0!==len){this.active=len;for(let i=0;i<len;i++){let iterator=iterators[i];if(iterator.stillUnsubscribed){this.destination.add(iterator.subscribe())}else this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const iterators=this.iterators,len=iterators.length,destination=this.destination;for(let i=0;i<len;i++){let iterator=iterators[i];if("function"==typeof iterator.hasValue&&!iterator.hasValue())return}let shouldComplete=!1;const args=[];for(let i=0;i<len;i++){let iterator=iterators[i],result=iterator.next();if(iterator.hasCompleted()&&(shouldComplete=!0),result.done)return void destination.complete();args.push(result.value)}this.resultSelector?this._tryresultSelector(args):destination.next(args),shouldComplete&&destination.complete()}_tryresultSelector(args){let result;try{result=this.resultSelector.apply(this,args)}catch(err){return void this.destination.error(err)}this.destination.next(result)}}class StaticIterator{constructor(iterator){this.iterator=iterator,this.nextResult=iterator.next()}hasValue(){return!0}next(){const result=this.nextResult;return this.nextResult=this.iterator.next(),result}hasCompleted(){const nextResult=this.nextResult;return Boolean(nextResult&&nextResult.done)}}class zip_StaticArrayIterator{constructor(array){this.array=array,this.index=0,this.length=0,this.length=array.length}[iterator.a](){return this}next(value){const i=this.index++,array=this.array;return i<this.length?{value:array[i],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class zip_ZipBufferIterator extends innerSubscribe.b{constructor(destination,parent,observable){super(destination),this.parent=parent,this.observable=observable,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[iterator.a](){return this}next(){const buffer=this.buffer;return 0===buffer.length&&this.isComplete?{value:null,done:!0}:{value:buffer.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(innerValue){this.buffer.push(innerValue),this.parent.checkIterators()}subscribe(){return Object(innerSubscribe.c)(this.observable,new innerSubscribe.a(this))}}var filter=__webpack_require__("pLZG"),switchMap=__webpack_require__("eIep"),delay=__webpack_require__("3E0/"),tap=__webpack_require__("vkgz"),map=__webpack_require__("lJxs"),debounceTime=__webpack_require__("Kj3r"),platform_browser=__webpack_require__("jhN1"),animations=__webpack_require__("GS7A"),common=__webpack_require__("ofXK");const _c0=["*"],_c1=["iframe"];function GalleryImageComponent_div_2_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"div",4),2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275styleProp"]("background-image",ctx_r0.imageUrl),core["\u0275\u0275property"]("@fadeIn",void 0)}}function GalleryImageComponent_div_3_div_1_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"div",8),2&rf){const ctx_r3=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("innerHTML",ctx_r3.errorTemplate,core["\u0275\u0275sanitizeHtml"])}}function GalleryImageComponent_div_3_ng_template_2_ng_container_0_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275elementStart"](1,"h4"),core["\u0275\u0275text"](2,"\u26a0"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementContainerEnd"]())}function GalleryImageComponent_div_3_ng_template_2_ng_template_1_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"h2"),core["\u0275\u0275text"](1,"\u26a0"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](2,"p"),core["\u0275\u0275text"](3,"Unable to load the image!"),core["\u0275\u0275elementEnd"]())}function GalleryImageComponent_div_3_ng_template_2_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275template"](0,GalleryImageComponent_div_3_ng_template_2_ng_container_0_Template,3,0,"ng-container",9),core["\u0275\u0275template"](1,GalleryImageComponent_div_3_ng_template_2_ng_template_1_Template,4,0,"ng-template",null,10,core["\u0275\u0275templateRefExtractor"])),2&rf){const _r7=core["\u0275\u0275reference"](2),ctx_r5=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("ngIf",ctx_r5.isThumbnail)("ngIfElse",_r7)}}function GalleryImageComponent_div_3_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",5),core["\u0275\u0275template"](1,GalleryImageComponent_div_3_div_1_Template,1,1,"div",6),core["\u0275\u0275template"](2,GalleryImageComponent_div_3_ng_template_2_Template,3,2,"ng-template",null,7,core["\u0275\u0275templateRefExtractor"]),core["\u0275\u0275elementEnd"]()),2&rf){const _r4=core["\u0275\u0275reference"](3),ctx_r1=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx_r1.errorTemplate)("ngIfElse",_r4)}}function GalleryImageComponent_ng_container_4_div_1_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"div",13),2&rf){const ctx_r9=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("innerHTML",ctx_r9.loaderTemplate,core["\u0275\u0275sanitizeHtml"])}}function GalleryImageComponent_ng_container_4_ng_template_2_div_0_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"div",15)}function GalleryImageComponent_ng_container_4_ng_template_2_Template(rf,ctx){if(1&rf&&core["\u0275\u0275template"](0,GalleryImageComponent_ng_container_4_ng_template_2_div_0_Template,1,0,"div",14),2&rf){const ctx_r11=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("ngIf",ctx_r11.isThumbnail)}}function GalleryImageComponent_ng_container_4_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275template"](1,GalleryImageComponent_ng_container_4_div_1_Template,1,1,"div",11),core["\u0275\u0275template"](2,GalleryImageComponent_ng_container_4_ng_template_2_Template,1,1,"ng-template",null,12,core["\u0275\u0275templateRefExtractor"]),core["\u0275\u0275elementContainerEnd"]()),2&rf){const _r10=core["\u0275\u0275reference"](3),ctx_r2=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx_r2.loaderTemplate)("ngIfElse",_r10)}}const _c2=["video"];function GalleryVideoComponent_source_2_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"source",3),2&rf){const src_r2=ctx.$implicit;core["\u0275\u0275property"]("src",null==src_r2?null:src_r2.url,core["\u0275\u0275sanitizeUrl"])("type",null==src_r2?null:src_r2.type)}}function GalleryNavComponent_i_0_Template(rf,ctx){if(1&rf){const _r3=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"i",2),core["\u0275\u0275listener"]("tapClick",function GalleryNavComponent_i_0_Template_i_tapClick_0_listener(){core["\u0275\u0275restoreView"](_r3);return core["\u0275\u0275nextContext"]().action.emit("prev")}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("innerHtml",ctx_r0.navIcon,core["\u0275\u0275sanitizeHtml"])}}function GalleryNavComponent_i_1_Template(rf,ctx){if(1&rf){const _r5=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"i",3),core["\u0275\u0275listener"]("tapClick",function GalleryNavComponent_i_1_Template_i_tapClick_0_listener(){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"]().action.emit("next")}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("innerHtml",ctx_r1.navIcon,core["\u0275\u0275sanitizeHtml"])}}function GalleryCoreComponent_gallery_thumbs_0_Template(rf,ctx){if(1&rf){const _r5=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-thumbs",5),core["\u0275\u0275listener"]("action",function GalleryCoreComponent_gallery_thumbs_0_Template_gallery_thumbs_action_0_listener($event){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"]().action.emit($event)})("thumbClick",function GalleryCoreComponent_gallery_thumbs_0_Template_gallery_thumbs_thumbClick_0_listener($event){core["\u0275\u0275restoreView"](_r5);return core["\u0275\u0275nextContext"]().thumbClick.emit($event)}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("state",ctx_r0.state)("config",ctx_r0.config)}}function GalleryCoreComponent_gallery_nav_3_Template(rf,ctx){if(1&rf){const _r8=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-nav",6),core["\u0275\u0275listener"]("action",function GalleryCoreComponent_gallery_nav_3_Template_gallery_nav_action_0_listener($event){core["\u0275\u0275restoreView"](_r8);return core["\u0275\u0275nextContext"]().action.emit($event)}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r1=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("state",ctx_r1.state)("config",ctx_r1.config)}}function GalleryCoreComponent_gallery_dots_4_Template(rf,ctx){if(1&rf){const _r10=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-dots",6),core["\u0275\u0275listener"]("action",function GalleryCoreComponent_gallery_dots_4_Template_gallery_dots_action_0_listener($event){core["\u0275\u0275restoreView"](_r10);return core["\u0275\u0275nextContext"]().action.emit($event)}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("state",ctx_r2.state)("config",ctx_r2.config)}}function GalleryCoreComponent_gallery_counter_5_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"gallery-counter",7),2&rf){const ctx_r3=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("state",ctx_r3.state)}}function GalleryDotsComponent_div_0_Template(rf,ctx){if(1&rf){const _r4=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275listener"]("tapClick",function GalleryDotsComponent_div_0_Template_div_tapClick_0_listener(){core["\u0275\u0275restoreView"](_r4);const i_r2=ctx.index;return core["\u0275\u0275nextContext"]().action.emit(i_r2)}),core["\u0275\u0275element"](1,"div",2),core["\u0275\u0275elementEnd"]()}if(2&rf){const i_r2=ctx.index,ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275styleProp"]("width",null==ctx_r0.config?null:ctx_r0.config.dotsSize,"px")("height",null==ctx_r0.config?null:ctx_r0.config.dotsSize,"px"),core["\u0275\u0275classProp"]("g-dot-active",i_r2===ctx_r0.state.currIndex)}}function GalleryThumbsComponent_div_0_gallery_thumb_2_Template(rf,ctx){if(1&rf){const _r6=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-thumb",4),core["\u0275\u0275listener"]("tapClick",function GalleryThumbsComponent_div_0_gallery_thumb_2_Template_gallery_thumb_tapClick_0_listener(){core["\u0275\u0275restoreView"](_r6);const i_r4=ctx.index;return core["\u0275\u0275nextContext"](2).thumbClick.emit(i_r4)})("error",function GalleryThumbsComponent_div_0_gallery_thumb_2_Template_gallery_thumb_error_0_listener($event){core["\u0275\u0275restoreView"](_r6);const i_r4=ctx.index;return core["\u0275\u0275nextContext"](2).error.emit({itemIndex:i_r4,error:$event})}),core["\u0275\u0275elementEnd"]()}if(2&rf){const item_r3=ctx.$implicit,i_r4=ctx.index,ctx_r2=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("type",item_r3.type)("config",ctx_r2.config)("data",item_r3.data)("currIndex",ctx_r2.state.currIndex)("index",i_r4)("tapClickDisabled",ctx_r2.config.disableThumb)}}function GalleryThumbsComponent_div_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275elementStart"](1,"div",2),core["\u0275\u0275template"](2,GalleryThumbsComponent_div_0_gallery_thumb_2_Template,1,6,"gallery-thumb",3),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()),2&rf){const sliderState_r1=ctx.$implicit,ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275classProp"]("g-contain",ctx_r0.config.thumbView===ctx_r0.thumbnailsView.Contain)("g-contain-small-content",ctx_r0.thumbnailsLessThanSlider)("g-no-transition",sliderState_r1.active),core["\u0275\u0275property"]("ngStyle",sliderState_r1.style),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngForOf",ctx_r0.state.items)}}function GallerySliderComponent_div_0_gallery_item_2_Template(rf,ctx){if(1&rf){const _r6=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-item",4),core["\u0275\u0275listener"]("tapClick",function GallerySliderComponent_div_0_gallery_item_2_Template_gallery_item_tapClick_0_listener(){core["\u0275\u0275restoreView"](_r6);const i_r4=ctx.index;return core["\u0275\u0275nextContext"](2).itemClick.emit(i_r4)})("error",function GallerySliderComponent_div_0_gallery_item_2_Template_gallery_item_error_0_listener($event){core["\u0275\u0275restoreView"](_r6);const i_r4=ctx.index;return core["\u0275\u0275nextContext"](2).error.emit({itemIndex:i_r4,error:$event})}),core["\u0275\u0275elementEnd"]()}if(2&rf){const item_r3=ctx.$implicit,i_r4=ctx.index,ctx_r2=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("type",item_r3.type)("config",ctx_r2.config)("data",item_r3.data)("currIndex",ctx_r2.state.currIndex)("index",i_r4)}}function GallerySliderComponent_div_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",1),core["\u0275\u0275elementStart"](1,"div",2),core["\u0275\u0275template"](2,GallerySliderComponent_div_0_gallery_item_2_Template,1,5,"gallery-item",3),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementEnd"]()),2&rf){const sliderState_r1=ctx.$implicit,ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("ngStyle",ctx_r0.zoom),core["\u0275\u0275advance"](1),core["\u0275\u0275classProp"]("g-no-transition",sliderState_r1.active),core["\u0275\u0275property"]("ngStyle",sliderState_r1.style),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngForOf",ctx_r0.state.items)}}function GalleryItemComponent_ng_container_0_ng_container_1_ng_container_3_Template(rf,ctx){1&rf&&core["\u0275\u0275elementContainer"](0)}const _c3=function(a0,a1,a2,a3){return{index:a0,currIndex:a1,type:a2,data:a3}};function GalleryItemComponent_ng_container_0_ng_container_1_Template(rf,ctx){if(1&rf){const _r8=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275elementStart"](1,"gallery-image",7),core["\u0275\u0275listener"]("error",function GalleryItemComponent_ng_container_0_ng_container_1_Template_gallery_image_error_1_listener($event){core["\u0275\u0275restoreView"](_r8);return core["\u0275\u0275nextContext"](2).error.emit($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementStart"](2,"div",8),core["\u0275\u0275template"](3,GalleryItemComponent_ng_container_0_ng_container_1_ng_container_3_Template,1,0,"ng-container",9),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementContainerEnd"]()}if(2&rf){const ctx_r1=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("src",ctx_r1.data.src)("loadingIcon",ctx_r1.config.loadingIcon)("loadingError",ctx_r1.config.loadingError),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngTemplateOutlet",ctx_r1.config.itemTemplate)("ngTemplateOutletContext",core["\u0275\u0275pureFunction4"](5,_c3,ctx_r1.index,ctx_r1.currIndex,ctx_r1.type,ctx_r1.data))}}function GalleryItemComponent_ng_container_0_gallery_video_2_Template(rf,ctx){if(1&rf){const _r10=core["\u0275\u0275getCurrentView"]();core["\u0275\u0275elementStart"](0,"gallery-video",10),core["\u0275\u0275listener"]("error",function GalleryItemComponent_ng_container_0_gallery_video_2_Template_gallery_video_error_0_listener($event){core["\u0275\u0275restoreView"](_r10);return core["\u0275\u0275nextContext"](2).error.emit($event)}),core["\u0275\u0275elementEnd"]()}if(2&rf){const ctx_r2=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("src",ctx_r2.data.src)("poster",ctx_r2.data.poster)("controls",ctx_r2.data.controls)("play",ctx_r2.isAutoPlay)("pause",ctx_r2.currIndex!==ctx_r2.index)}}function GalleryItemComponent_ng_container_0_gallery_iframe_3_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"gallery-iframe",11),2&rf){const ctx_r3=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("src",ctx_r3.youtubeSrc)("autoplay",ctx_r3.isAutoPlay)("pause",ctx_r3.currIndex!==ctx_r3.index)}}function GalleryItemComponent_ng_container_0_gallery_iframe_4_Template(rf,ctx){if(1&rf&&core["\u0275\u0275element"](0,"gallery-iframe",12),2&rf){const ctx_r4=core["\u0275\u0275nextContext"](2);core["\u0275\u0275property"]("src",ctx_r4.data.src)}}function GalleryItemComponent_ng_container_0_ng_container_5_ng_container_2_Template(rf,ctx){1&rf&&core["\u0275\u0275elementContainer"](0)}function GalleryItemComponent_ng_container_0_ng_container_5_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementContainerStart"](0),core["\u0275\u0275elementStart"](1,"div",8),core["\u0275\u0275template"](2,GalleryItemComponent_ng_container_0_ng_container_5_ng_container_2_Template,1,0,"ng-container",9),core["\u0275\u0275elementEnd"](),core["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r5=core["\u0275\u0275nextContext"](2);core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngTemplateOutlet",ctx_r5.config.itemTemplate)("ngTemplateOutletContext",core["\u0275\u0275pureFunction4"](2,_c3,ctx_r5.index,ctx_r5.currIndex,ctx_r5.type,ctx_r5.data))}}function GalleryItemComponent_ng_container_0_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementContainerStart"](0,1),core["\u0275\u0275template"](1,GalleryItemComponent_ng_container_0_ng_container_1_Template,4,10,"ng-container",2),core["\u0275\u0275template"](2,GalleryItemComponent_ng_container_0_gallery_video_2_Template,1,5,"gallery-video",3),core["\u0275\u0275template"](3,GalleryItemComponent_ng_container_0_gallery_iframe_3_Template,1,3,"gallery-iframe",4),core["\u0275\u0275template"](4,GalleryItemComponent_ng_container_0_gallery_iframe_4_Template,1,1,"gallery-iframe",5),core["\u0275\u0275template"](5,GalleryItemComponent_ng_container_0_ng_container_5_Template,3,7,"ng-container",6),core["\u0275\u0275elementContainerEnd"]()),2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275property"]("ngSwitch",ctx_r0.type),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase",ctx_r0.Types.Image),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase",ctx_r0.Types.Video),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase",ctx_r0.Types.Youtube),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase",ctx_r0.Types.Iframe)}}function GalleryThumbComponent_div_1_ng_container_1_Template(rf,ctx){1&rf&&core["\u0275\u0275elementContainer"](0)}const _c4=function(a0,a1,a2){return{index:a0,type:a1,data:a2}};function GalleryThumbComponent_div_1_Template(rf,ctx){if(1&rf&&(core["\u0275\u0275elementStart"](0,"div",2),core["\u0275\u0275template"](1,GalleryThumbComponent_div_1_ng_container_1_Template,1,0,"ng-container",3),core["\u0275\u0275elementEnd"]()),2&rf){const ctx_r0=core["\u0275\u0275nextContext"]();core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngTemplateOutlet",ctx_r0.config.thumbTemplate)("ngTemplateOutletContext",core["\u0275\u0275pureFunction3"](2,_c4,ctx_r0.index,ctx_r0.type,ctx_r0.data))}}var GalleryAction,ImageSize,LoadingStrategy,ThumbnailsPosition,ImageLoaderMode,DotsPosition,CounterPosition,ThumbnailsMode,SlidingDirection,GalleryItemType,ThumbnailsView;!function(GalleryAction){GalleryAction.INITIALIZED="initialized",GalleryAction.ITEMS_CHANGED="itemsChanged",GalleryAction.INDEX_CHANGED="indexChanged",GalleryAction.PLAY="play",GalleryAction.STOP="stop"}(GalleryAction||(GalleryAction={})),function(ImageSize){ImageSize.Cover="cover",ImageSize.Contain="contain"}(ImageSize||(ImageSize={})),function(LoadingStrategy){LoadingStrategy.Preload="preload",LoadingStrategy.Lazy="lazy",LoadingStrategy.Default="default"}(LoadingStrategy||(LoadingStrategy={})),function(ThumbnailsPosition){ThumbnailsPosition.Top="top",ThumbnailsPosition.Left="left",ThumbnailsPosition.Right="right",ThumbnailsPosition.Bottom="bottom"}(ThumbnailsPosition||(ThumbnailsPosition={})),function(ImageLoaderMode){ImageLoaderMode.Determinate="determinate",ImageLoaderMode.Indeterminate="indeterminate"}(ImageLoaderMode||(ImageLoaderMode={})),function(DotsPosition){DotsPosition.Top="top",DotsPosition.Bottom="bottom"}(DotsPosition||(DotsPosition={})),function(CounterPosition){CounterPosition.Top="top",CounterPosition.Bottom="bottom"}(CounterPosition||(CounterPosition={})),function(ThumbnailsMode){ThumbnailsMode.Free="free",ThumbnailsMode.Strict="strict"}(ThumbnailsMode||(ThumbnailsMode={})),function(SlidingDirection){SlidingDirection.Horizontal="horizontal",SlidingDirection.Vertical="vertical"}(SlidingDirection||(SlidingDirection={})),function(GalleryItemType){GalleryItemType.Image="image",GalleryItemType.Video="video",GalleryItemType.Youtube="youtube",GalleryItemType.Iframe="iframe"}(GalleryItemType||(GalleryItemType={})),function(ThumbnailsView){ThumbnailsView.Default="default",ThumbnailsView.Contain="contain"}(ThumbnailsView||(ThumbnailsView={}));const defaultState={action:GalleryAction.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},defaultConfig={nav:!0,loop:!0,zoomOut:0,dots:!1,thumb:!0,dotsSize:30,counter:!0,gestures:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,panSensitivity:25,disableThumb:!1,playerInterval:3e3,imageSize:ImageSize.Contain,thumbMode:ThumbnailsMode.Strict,dotsPosition:DotsPosition.Bottom,counterPosition:CounterPosition.Top,thumbPosition:ThumbnailsPosition.Bottom,loadingStrategy:LoadingStrategy.Default,slidingDirection:SlidingDirection.Horizontal,navIcon:'<?xml version="1.0" encoding="UTF-8"?><svg width="512px" height="512px" enable-background="new 0 0 240.823 240.823" version="1.1" viewBox="0 0 240.823 240.823" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z" fill="#fff"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'};class ImageItem{constructor(data){this.data=data,this.type=GalleryItemType.Image}}class VideoItem{constructor(data){this.data=data,this.type=GalleryItemType.Video}}class IframeItem{constructor(data){this.data=data,this.type=GalleryItemType.Iframe}}class YoutubeItem{constructor(data){this.data=Object.assign(Object.assign({},data),{src:`https://youtube.com/embed/${data.src}`,thumb:data.thumb?data.thumb:`//img.youtube.com/vi/${data.src}/default.jpg`}),this.type=GalleryItemType.Youtube}}const filterActions=actions=>Object(filter.a)(state=>actions.indexOf(state.action)>-1);class ng_gallery_GalleryRef{constructor(config,deleteInstance){this.deleteInstance=deleteInstance,this.itemClick=new Subject.a,this.thumbClick=new Subject.a,this.error=new Subject.a,this._state=new BehaviorSubject.a(defaultState),this._config=new BehaviorSubject.a(config),this.state=this._state.asObservable(),this.config=this._config.asObservable()}get stateSnapshot(){return this._state.value}get initialized(){return this.state.pipe(filterActions([GalleryAction.INITIALIZED]))}get itemsChanged(){return this.state.pipe(filterActions([GalleryAction.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(filterActions([GalleryAction.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(filterActions([GalleryAction.PLAY,GalleryAction.STOP]))}get playerActions(){return this.state.pipe(filterActions([GalleryAction.PLAY,GalleryAction.STOP,GalleryAction.INDEX_CHANGED]))}activatePlayer(){return this.playerActions.pipe(Object(switchMap.a)(e=>e.isPlaying?Object(of.a)({}).pipe(Object(delay.a)(this._config.value.playerInterval),Object(tap.a)(()=>this.next())):empty.a))}setState(state){this._state.next(Object.assign(Object.assign({},this.stateSnapshot),state))}setConfig(config){this._config.next(Object.assign(Object.assign({},this._config.value),config))}add(item,active){const items=[...this.stateSnapshot.items,item];this.setState({action:GalleryAction.ITEMS_CHANGED,items:items,hasNext:items.length>1,currIndex:active?items.length-1:this.stateSnapshot.currIndex})}addImage(data,active){this.add(new ImageItem(data),active)}addVideo(data,active){this.add(new VideoItem(data),active)}addIframe(data,active){this.add(new IframeItem(data),active)}addYoutube(data,active){this.add(new YoutubeItem(data),active)}remove(i){const state=this.stateSnapshot,items=[...state.items.slice(0,i),...state.items.slice(i+1,state.items.length)];this.setState({action:GalleryAction.ITEMS_CHANGED,currIndex:i<1?state.currIndex:i-1,items:items,hasNext:items.length>1,hasPrev:i>0})}load(items){items&&this.setState({action:GalleryAction.ITEMS_CHANGED,items:items,hasNext:items.length>1,hasPrev:!1})}set(i){i!==this.stateSnapshot.currIndex&&this.setState({action:GalleryAction.INDEX_CHANGED,currIndex:i,hasNext:i<this.stateSnapshot.items.length-1,hasPrev:i>0})}next(){this.stateSnapshot.hasNext?this.set(this.stateSnapshot.currIndex+1):this._config.value.loop&&this.set(0)}prev(){this.stateSnapshot.hasPrev?this.set(this.stateSnapshot.currIndex-1):this._config.value.loop&&this.set(this.stateSnapshot.items.length-1)}play(interval){interval&&this.setConfig({playerInterval:interval}),this.setState({action:GalleryAction.PLAY,isPlaying:!0})}stop(){this.setState({action:GalleryAction.STOP,isPlaying:!1})}reset(){this.setState(defaultState)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}}const GALLERY_CONFIG=new core.InjectionToken("GALLERY_CONFIG");class Gallery{constructor(config){this._instances=new Map,this.config=config?Object.assign(Object.assign({},defaultConfig),config):defaultConfig}ref(id="root",config){if(this._instances.has(id)){const galleryRef=this._instances.get(id);return config&&galleryRef.setConfig(Object.assign(Object.assign({},this.config),config)),galleryRef}return this._instances.set(id,new ng_gallery_GalleryRef(Object.assign(Object.assign({},this.config),config),this.deleteInstance(id))).get(id)}destroyAll(){this._instances.forEach(ref=>ref.destroy())}resetAll(){this._instances.forEach(ref=>ref.reset())}deleteInstance(id){return()=>{this._instances.has(id)&&this._instances.delete(id)}}}Gallery.\u0275fac=function Gallery_Factory(t){return new(t||Gallery)(core["\u0275\u0275inject"](GALLERY_CONFIG,8))},Gallery.\u0275prov=Object(core["\u0275\u0275defineInjectable"])({factory:function Gallery_Factory(){return new Gallery(Object(core["\u0275\u0275inject"])(GALLERY_CONFIG,8))},token:Gallery,providedIn:"root"}),Gallery.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Optional},{type:core.Inject,args:[GALLERY_CONFIG]}]}];class ng_gallery_GalleryComponent{constructor(_gallery){this._gallery=_gallery,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.thumb=this._gallery.config.thumb,this.zoomOut=this._gallery.config.zoomOut,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.gestures=this._gallery.config.gestures,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.panSensitivity=this._gallery.config.panSensitivity,this.playerInterval=this._gallery.config.playerInterval,this.itemTemplate=this._gallery.config.itemTemplate,this.thumbTemplate=this._gallery.config.thumbTemplate,this.thumbMode=this._gallery.config.thumbMode,this.imageSize=this._gallery.config.imageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.thumbView=this._gallery.config.thumbView,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new core.EventEmitter,this.thumbClick=new core.EventEmitter,this.playingChange=new core.EventEmitter,this.indexChange=new core.EventEmitter,this.itemsChange=new core.EventEmitter,this.error=new core.EventEmitter,this._itemClick$=Subscription.a.EMPTY,this._thumbClick$=Subscription.a.EMPTY,this._itemChange$=Subscription.a.EMPTY,this._indexChange$=Subscription.a.EMPTY,this._playingChange$=Subscription.a.EMPTY,this._playerListener$=Subscription.a.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,thumb:this.thumb,zoomOut:this.zoomOut,counter:this.counter,autoPlay:this.autoPlay,gestures:this.gestures,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbMode:this.thumbMode,thumbView:this.thumbView,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,itemTemplate:this.itemTemplate,thumbTemplate:this.thumbTemplate,thumbPosition:this.thumbPosition,panSensitivity:this.panSensitivity,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDirection:this.slidingDirection}}onAction(i){switch(i){case"next":this.galleryRef.next();break;case"prev":this.galleryRef.prev();break;default:this.galleryRef.set(i)}}ngOnChanges(changes){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),changes.items&&changes.items.currentValue!==changes.items.previousValue&&this.load(this.items))}ngOnInit(){this.skipInitConfig?this.galleryRef=this._gallery.ref(this.id):this.galleryRef=this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observers.length&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(state=>this.indexChange.emit(state))),this.itemsChange.observers.length&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(state=>this.itemsChange.emit(state))),this.playingChange.observers.length&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(state=>this.playingChange.emit(state))),this.autoPlay&&this.play()}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(i){this.itemClick.emit(i),this.galleryRef.itemClick.next(i)}onThumbClick(i){this.galleryRef.set(i),this.thumbClick.emit(i),this.galleryRef.thumbClick.next(i)}onError(err){this.error.emit(err),this.galleryRef.error.next(err)}load(items){this.galleryRef.load(items)}add(item,active){this.galleryRef.add(item,active)}addImage(data,active){this.add(new ImageItem(data),active)}addVideo(data,active){this.add(new VideoItem(data),active)}addIframe(data,active){this.add(new IframeItem(data),active)}addYoutube(data,active){this.add(new YoutubeItem(data),active)}remove(i){this.galleryRef.remove(i)}next(){this.galleryRef.next()}prev(){this.galleryRef.prev()}set(i){this.galleryRef.set(i)}reset(){this.galleryRef.reset()}play(interval){this.galleryRef.play(interval)}stop(){this.galleryRef.stop()}}ng_gallery_GalleryComponent.\u0275fac=function GalleryComponent_Factory(t){return new(t||ng_gallery_GalleryComponent)(core["\u0275\u0275directiveInject"](Gallery))},ng_gallery_GalleryComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryComponent,selectors:[["gallery"]],inputs:{nav:"nav",dots:"dots",loop:"loop",thumb:"thumb",zoomOut:"zoomOut",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",gestures:"gestures",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",panSensitivity:"panSensitivity",playerInterval:"playerInterval",itemTemplate:"itemTemplate",thumbTemplate:"thumbTemplate",thumbMode:"thumbMode",imageSize:"imageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",thumbView:"thumbView",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig",id:"id",items:"items"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[core["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:_c0,decls:4,vars:6,consts:[[3,"state","config","action","itemClick","thumbClick","error"]],template:function GalleryComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275projectionDef"](),core["\u0275\u0275elementStart"](0,"gallery-core",0),core["\u0275\u0275listener"]("action",function GalleryComponent_Template_gallery_core_action_0_listener($event){return ctx.onAction($event)})("itemClick",function GalleryComponent_Template_gallery_core_itemClick_0_listener($event){return ctx.onItemClick($event)})("thumbClick",function GalleryComponent_Template_gallery_core_thumbClick_0_listener($event){return ctx.onThumbClick($event)})("error",function GalleryComponent_Template_gallery_core_error_0_listener($event){return ctx.onError($event)}),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275pipe"](2,"async"),core["\u0275\u0275elementEnd"](),core["\u0275\u0275projection"](3)),2&rf&&core["\u0275\u0275property"]("state",core["\u0275\u0275pipeBind1"](1,2,ctx.galleryRef.state))("config",core["\u0275\u0275pipeBind1"](2,4,ctx.galleryRef.config))},directives:function(){return[ng_gallery_GalleryCoreComponent]},pipes:function(){return[common.AsyncPipe]},styles:['gallery-core[dotsPosition=top] gallery-dots{top:0}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}  gallery-dots{left:50%;margin:7px;position:absolute;transform:translateX(-50%)}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}  .g-dot-inner{background-color:#fff;border-radius:50%;box-shadow:0 0 1px #000;height:30%;opacity:.6;transition:all .2s ease;width:30%}  .g-dot,   .g-dot-inner,   gallery-dots{align-items:center;display:flex;justify-content:center}  .g-nav-next,   .g-nav-prev{cursor:pointer;height:40px;position:absolute;top:50%;width:30px;z-index:999}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width:480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  .g-items-container{height:100%}  .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}  gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}  gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}  gallery-thumbs{display:block;overflow:unset;z-index:1}  .g-thumbs-container{display:flex;height:100%;left:0;overflow:unset;position:relative;top:0;width:100%;z-index:206}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider,   gallery-core[thumbPosition=top] gallery-thumbs .g-slider{flex-direction:row;left:50%;top:0}  gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain,   gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain{left:0}  gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain.g-contain-small-content,   gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain.g-contain-small-content{left:50%;transform:translate3d(-50%,0,0)!important}  gallery-core[thumbPosition=bottom] gallery-thumb,   gallery-core[thumbPosition=top] gallery-thumb{padding:1px 0 1px 1px}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;left:0;top:50%}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain{top:0}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain.g-contain-small-content,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain.g-contain-small-content{top:50%;transform:translate3d(0,-50%,0)!important}  gallery-core[thumbPosition=left] gallery-thumb,   gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{background-color:#262626;height:100%;overflow:hidden;position:relative}  .g-thumb-loading:before{-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(90deg,hsla(0,0%,100%,0) 46%,hsla(0,0%,100%,.35) 50%,hsla(0,0%,100%,0) 54%) 50% 50%;bottom:0;content:"";left:50%;margin-left:-250%;position:absolute;right:0;top:0;width:500%;z-index:1}@-webkit-keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}@keyframes phAnimation{0%{transform:translate3d(-30%,0,0)}to{transform:translate3d(30%,0,0)}}  gallery-core[counterPosition=top] .g-counter{border-bottom-left-radius:4px;border-bottom-right-radius:4px;top:0}  gallery-core[counterPosition=bottom] .g-counter{border-top-left-radius:4px;border-top-right-radius:4px;bottom:0}  .g-counter{background-color:rgba(0,0,0,.5);color:#fff;font-size:12px;left:50%;padding:4px 10px;position:absolute;transform:translateX(-50%) perspective(1px);z-index:50}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-item,   gallery-thumb{display:block;height:100%;overflow:hidden;position:relative;width:100%}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item{z-index:10}  gallery-item iframe,   gallery-item video{height:100%;position:absolute;width:100%}  gallery-thumb{cursor:pointer;opacity:.5;transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-thumb.g-active-thumb{opacity:1}  .g-image-item{background-position:50%;background-repeat:no-repeat;background-size:cover;height:100%;width:100%}  .g-image-error-message,   .g-template{align-items:center;bottom:0;color:#fff;display:flex;flex-direction:column;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:10}  .g-loading{height:80px;left:50%;position:absolute;top:50%;transform:translate3d(-50%,-50%,0);width:80px}  gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}  gallery-image{align-items:center;display:flex;height:100%;justify-content:center}  gallery{background-color:#000;display:block;height:500px;overflow:hidden;position:relative;z-index:1}  gallery *{box-sizing:border-box}  gallery,   gallery-core{overflow:hidden;position:relative}  .g-box,   .g-slider,   gallery-core{display:flex;height:100%;width:100%}  gallery[fluid]{left:50%;transform:translateX(-50vw);width:100vw}  gallery[fluid][fluid=false]{left:auto;transform:none;width:auto}  .g-no-transition{transition:unset!important}  .g-box,   gallery-slider{display:flex;flex:1;flex-direction:column;height:100%;order:1;overflow:hidden;position:relative}  .g-btn-close svg,   gallery-nav svg{filter:drop-shadow(0 0 1px black);height:100%;opacity:.6;transition:opacity .2s linear;width:100%}  .g-btn-close svg:hover,   gallery-nav svg:hover{opacity:1}'],changeDetection:0}),ng_gallery_GalleryComponent.ctorParameters=()=>[{type:Gallery}],ng_gallery_GalleryComponent.propDecorators={id:[{type:core.Input}],items:[{type:core.Input}],nav:[{type:core.Input}],dots:[{type:core.Input}],loop:[{type:core.Input}],thumb:[{type:core.Input}],zoomOut:[{type:core.Input}],counter:[{type:core.Input}],dotsSize:[{type:core.Input}],autoPlay:[{type:core.Input}],gestures:[{type:core.Input}],thumbWidth:[{type:core.Input}],thumbHeight:[{type:core.Input}],disableThumb:[{type:core.Input}],panSensitivity:[{type:core.Input}],playerInterval:[{type:core.Input}],itemTemplate:[{type:core.Input}],thumbTemplate:[{type:core.Input}],thumbMode:[{type:core.Input}],imageSize:[{type:core.Input}],dotsPosition:[{type:core.Input}],counterPosition:[{type:core.Input}],slidingDirection:[{type:core.Input}],loadingStrategy:[{type:core.Input}],thumbPosition:[{type:core.Input}],thumbView:[{type:core.Input}],destroyRef:[{type:core.Input}],skipInitConfig:[{type:core.Input}],itemClick:[{type:core.Output}],thumbClick:[{type:core.Output}],playingChange:[{type:core.Output}],indexChange:[{type:core.Output}],itemsChange:[{type:core.Output}],error:[{type:core.Output}]};class GalleryIframeComponent{constructor(_sanitizer){this._sanitizer=_sanitizer}set src(src){this.videoSrc=src,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(src)}set pauseVideo(shouldPause){if(this.iframe.nativeElement&&shouldPause){this.iframe.nativeElement.src=null,!this.autoplay&&this.videoSrc&&(this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc))}}}GalleryIframeComponent.\u0275fac=function GalleryIframeComponent_Factory(t){return new(t||GalleryIframeComponent)(core["\u0275\u0275directiveInject"](platform_browser.b))},GalleryIframeComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:GalleryIframeComponent,selectors:[["gallery-iframe"]],viewQuery:function GalleryIframeComponent_Query(rf,ctx){if(1&rf&&core["\u0275\u0275viewQuery"](_c1,3),2&rf){let _t;core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx.iframe=_t.first)}},inputs:{src:"src",pauseVideo:["pause","pauseVideo"],autoplay:"autoplay"},decls:2,vars:2,consts:[["frameborder","0","allowfullscreen","",3,"src"],["iframe",""]],template:function GalleryIframeComponent_Template(rf,ctx){1&rf&&core["\u0275\u0275element"](0,"iframe",0,1),2&rf&&(core["\u0275\u0275property"]("src",ctx.iframeSrc,core["\u0275\u0275sanitizeResourceUrl"]),core["\u0275\u0275attribute"]("allow",ctx.autoplay?"autoplay":""))},encapsulation:2,changeDetection:0}),GalleryIframeComponent.ctorParameters=()=>[{type:platform_browser.b}],GalleryIframeComponent.propDecorators={src:[{type:core.Input,args:["src"]}],pauseVideo:[{type:core.Input,args:["pause"]}],autoplay:[{type:core.Input}],iframe:[{type:core.ViewChild,args:["iframe",{static:!0}]}]};class ng_gallery_GalleryImageComponent{constructor(_sanitizer){this._sanitizer=_sanitizer,this._state=new BehaviorSubject.a("loading"),this.state=this._state.asObservable(),this.progress=0,this.error=new core.EventEmitter}get imageLoadSuccess(){return!!this.imageUrl}get imageLoadFailed(){return!!this.loadError}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError))}ngOnDestroy(){this._state.complete()}onProgress({loaded:loaded,total:total}){this.progress=100*loaded/total}onLoaded(blobUrl){this.imageUrl=this._sanitizer.bypassSecurityTrustStyle(`url("${blobUrl}")`),this._state.next("success")}onError(err){this.loadError=err,this._state.next("failed"),this.error.emit(err)}}ng_gallery_GalleryImageComponent.\u0275fac=function GalleryImageComponent_Factory(t){return new(t||ng_gallery_GalleryImageComponent)(core["\u0275\u0275directiveInject"](platform_browser.b))},ng_gallery_GalleryImageComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryImageComponent,selectors:[["gallery-image"]],hostVars:4,hostBindings:function GalleryImageComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275classProp"]("g-image-loaded",ctx.imageLoadSuccess)("g-image-error",ctx.imageLoadFailed)},inputs:{isThumbnail:"isThumbnail",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError"},outputs:{error:"error"},decls:5,vars:7,consts:[[3,"lazyImage","ngSwitch","progress","loaded","error"],["class","g-image-item",3,"backgroundImage",4,"ngSwitchCase"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-item"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],["defaultError",""],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["isLarge",""],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],["defaultLoader",""],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function GalleryImageComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementContainerStart"](0,0),core["\u0275\u0275listener"]("progress",function GalleryImageComponent_Template_ng_container_progress_0_listener($event){return ctx.onProgress($event)})("loaded",function GalleryImageComponent_Template_ng_container_loaded_0_listener($event){return ctx.onLoaded($event)})("error",function GalleryImageComponent_Template_ng_container_error_0_listener($event){return ctx.onError($event)}),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275template"](2,GalleryImageComponent_div_2_Template,1,3,"div",1),core["\u0275\u0275template"](3,GalleryImageComponent_div_3_Template,4,2,"div",2),core["\u0275\u0275template"](4,GalleryImageComponent_ng_container_4_Template,4,2,"ng-container",3),core["\u0275\u0275elementContainerEnd"]()),2&rf&&(core["\u0275\u0275property"]("lazyImage",ctx.src)("ngSwitch",core["\u0275\u0275pipeBind1"](1,5,ctx.state)),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngSwitchCase","success"),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase","failed"),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngSwitchCase","loading"))},directives:function(){return[ng_gallery_LazyImage,common.NgSwitch,common.NgSwitchCase,common.NgIf]},pipes:function(){return[common.AsyncPipe]},encapsulation:2,data:{animation:[Object(animations.m)("fadeIn",[Object(animations.l)(":enter",[Object(animations.k)({opacity:0}),Object(animations.e)("300ms ease-in",Object(animations.k)({opacity:1}))])])]},changeDetection:0}),ng_gallery_GalleryImageComponent.ctorParameters=()=>[{type:platform_browser.b}],ng_gallery_GalleryImageComponent.propDecorators={isThumbnail:[{type:core.Input}],src:[{type:core.Input}],loadingIcon:[{type:core.Input}],loadingError:[{type:core.Input}],error:[{type:core.Output}],imageLoadSuccess:[{type:core.HostBinding,args:["class.g-image-loaded"]}],imageLoadFailed:[{type:core.HostBinding,args:["class.g-image-error"]}]};class ng_gallery_GalleryVideoComponent{constructor(){this.error=new core.EventEmitter}set pauseVideo(shouldPause){if(this.video.nativeElement){const video=this.video.nativeElement;shouldPause&&!video.paused&&video.pause()}}set playVideo(shouldPlay){if(this.video.nativeElement){const video=this.video.nativeElement;shouldPlay&&video.play()}}ngOnInit(){this.src instanceof Array?this.videoSources=[...this.src]:this.videoSources=[{url:this.src}],this.controls="boolean"!=typeof this.controlsEnabled||this.controlsEnabled}}ng_gallery_GalleryVideoComponent.\u0275fac=function GalleryVideoComponent_Factory(t){return new(t||ng_gallery_GalleryVideoComponent)},ng_gallery_GalleryVideoComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryVideoComponent,selectors:[["gallery-video"]],viewQuery:function GalleryVideoComponent_Query(rf,ctx){if(1&rf&&core["\u0275\u0275viewQuery"](_c2,3),2&rf){let _t;core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx.video=_t.first)}},inputs:{pauseVideo:["pause","pauseVideo"],playVideo:["play","playVideo"],src:"src",poster:"poster",controlsEnabled:["controls","controlsEnabled"]},outputs:{error:"error"},decls:3,vars:3,consts:[[3,"controls","poster","error"],["video",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function GalleryVideoComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"video",0,1),core["\u0275\u0275listener"]("error",function GalleryVideoComponent_Template_video_error_0_listener($event){return ctx.error.emit($event)}),core["\u0275\u0275template"](2,GalleryVideoComponent_source_2_Template,1,2,"source",2),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275property"]("controls",ctx.controls)("poster",ctx.poster,core["\u0275\u0275sanitizeUrl"]),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("ngForOf",ctx.videoSources))},directives:[common.NgForOf],encapsulation:2,changeDetection:0}),ng_gallery_GalleryVideoComponent.propDecorators={src:[{type:core.Input}],poster:[{type:core.Input}],controlsEnabled:[{type:core.Input,args:["controls"]}],pauseVideo:[{type:core.Input,args:["pause"]}],playVideo:[{type:core.Input,args:["play"]}],error:[{type:core.Output}],video:[{type:core.ViewChild,args:["video",{static:!0}]}]};class ng_gallery_GalleryNavComponent{constructor(_sanitizer){this._sanitizer=_sanitizer,this.action=new core.EventEmitter}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}}ng_gallery_GalleryNavComponent.\u0275fac=function GalleryNavComponent_Factory(t){return new(t||ng_gallery_GalleryNavComponent)(core["\u0275\u0275directiveInject"](platform_browser.b))},ng_gallery_GalleryNavComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryNavComponent,selectors:[["gallery-nav"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous",3,"innerHtml","tapClick",4,"ngIf"],["class","g-nav-next","aria-label","Next",3,"innerHtml","tapClick",4,"ngIf"],["aria-label","Previous",1,"g-nav-prev",3,"innerHtml","tapClick"],["aria-label","Next",1,"g-nav-next",3,"innerHtml","tapClick"]],template:function GalleryNavComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,GalleryNavComponent_i_0_Template,1,1,"i",0),core["\u0275\u0275template"](1,GalleryNavComponent_i_1_Template,1,1,"i",1)),2&rf&&(core["\u0275\u0275property"]("ngIf",ctx.config.loop||ctx.state.hasPrev),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.config.loop||ctx.state.hasNext))},directives:function(){return[common.NgIf,ng_gallery_TapClick]},encapsulation:2,changeDetection:0}),ng_gallery_GalleryNavComponent.ctorParameters=()=>[{type:platform_browser.b}],ng_gallery_GalleryNavComponent.propDecorators={state:[{type:core.Input}],config:[{type:core.Input}],action:[{type:core.Output}]};class ng_gallery_GalleryCoreComponent{constructor(){this.action=new core.EventEmitter,this.itemClick=new core.EventEmitter,this.thumbClick=new core.EventEmitter,this.error=new core.EventEmitter}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}}ng_gallery_GalleryCoreComponent.\u0275fac=function GalleryCoreComponent_Factory(t){return new(t||ng_gallery_GalleryCoreComponent)},ng_gallery_GalleryCoreComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryCoreComponent,selectors:[["gallery-core"]],hostVars:6,hostBindings:function GalleryCoreComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275attribute"]("thumbPosition",ctx.thumbPosition)("slidingDirection",ctx.slidingDirection)("disableThumb",ctx.disableThumb)("imageSize",ctx.imageSize)("dotsPosition",ctx.dotsPosition)("counterPosition",ctx.counterPosition)},inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:6,vars:6,consts:[[3,"state","config","action","thumbClick",4,"ngIf"],[1,"g-box"],[3,"state","config","action","itemClick","error"],[3,"state","config","action",4,"ngIf"],[3,"state",4,"ngIf"],[3,"state","config","action","thumbClick"],[3,"state","config","action"],[3,"state"]],template:function GalleryCoreComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,GalleryCoreComponent_gallery_thumbs_0_Template,1,2,"gallery-thumbs",0),core["\u0275\u0275elementStart"](1,"div",1),core["\u0275\u0275elementStart"](2,"gallery-slider",2),core["\u0275\u0275listener"]("action",function GalleryCoreComponent_Template_gallery_slider_action_2_listener($event){return ctx.action.emit($event)})("itemClick",function GalleryCoreComponent_Template_gallery_slider_itemClick_2_listener($event){return ctx.itemClick.emit($event)})("error",function GalleryCoreComponent_Template_gallery_slider_error_2_listener($event){return ctx.error.emit($event)}),core["\u0275\u0275template"](3,GalleryCoreComponent_gallery_nav_3_Template,1,2,"gallery-nav",3),core["\u0275\u0275elementEnd"](),core["\u0275\u0275template"](4,GalleryCoreComponent_gallery_dots_4_Template,1,2,"gallery-dots",3),core["\u0275\u0275template"](5,GalleryCoreComponent_gallery_counter_5_Template,1,1,"gallery-counter",4),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275property"]("ngIf",ctx.config.thumb),core["\u0275\u0275advance"](2),core["\u0275\u0275property"]("state",ctx.state)("config",ctx.config),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.config.nav&&ctx.state.items.length>1),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.config.dots),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.config.counter))},directives:function(){return[common.NgIf,ng_gallery_GallerySliderComponent,ng_gallery_GalleryThumbsComponent,ng_gallery_GalleryNavComponent,ng_gallery_GalleryDotsComponent,GalleryCounterComponent]},encapsulation:2,changeDetection:0}),ng_gallery_GalleryCoreComponent.propDecorators={state:[{type:core.Input}],config:[{type:core.Input}],action:[{type:core.Output}],itemClick:[{type:core.Output}],thumbClick:[{type:core.Output}],error:[{type:core.Output}],thumbPosition:[{type:core.HostBinding,args:["attr.thumbPosition"]}],slidingDirection:[{type:core.HostBinding,args:["attr.slidingDirection"]}],disableThumb:[{type:core.HostBinding,args:["attr.disableThumb"]}],imageSize:[{type:core.HostBinding,args:["attr.imageSize"]}],dotsPosition:[{type:core.HostBinding,args:["attr.dotsPosition"]}],counterPosition:[{type:core.HostBinding,args:["attr.counterPosition"]}]};class ng_gallery_GalleryDotsComponent{constructor(){this.action=new core.EventEmitter}}ng_gallery_GalleryDotsComponent.\u0275fac=function GalleryDotsComponent_Factory(t){return new(t||ng_gallery_GalleryDotsComponent)},ng_gallery_GalleryDotsComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryDotsComponent,selectors:[["gallery-dots"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","tapClick",4,"ngFor","ngForOf"],[1,"g-dot",3,"tapClick"],[1,"g-dot-inner"]],template:function GalleryDotsComponent_Template(rf,ctx){1&rf&&core["\u0275\u0275template"](0,GalleryDotsComponent_div_0_Template,2,6,"div",0),2&rf&&core["\u0275\u0275property"]("ngForOf",ctx.state.items)},directives:function(){return[common.NgForOf,ng_gallery_TapClick]},encapsulation:2,changeDetection:0}),ng_gallery_GalleryDotsComponent.propDecorators={state:[{type:core.Input}],config:[{type:core.Input}],action:[{type:core.Output}]};class ng_gallery_GalleryThumbsComponent{constructor(_el,_zone){this._el=_el,this._zone=_zone,this._slidingWorker$=new BehaviorSubject.a({value:0,active:!1}),this._freeModeCurrentOffset=0,this.thumbnailsView=ThumbnailsView,this.action=new core.EventEmitter,this.thumbClick=new core.EventEmitter,this.error=new core.EventEmitter,this.sliderState$=this._slidingWorker$.pipe(Object(map.a)(state=>({style:this.getSliderStyles(state),active:state.active})))}ngOnChanges(){this.updateSlider({value:0,active:!1}),this._freeModeCurrentOffset=0}ngOnInit(){if(this.config.gestures&&!this.config.disableThumb&&"undefined"!=typeof Hammer){let direction;switch(this.config.thumbPosition){case ThumbnailsPosition.Right:case ThumbnailsPosition.Left:direction=Hammer.DIRECTION_VERTICAL;break;case ThumbnailsPosition.Top:case ThumbnailsPosition.Bottom:direction=Hammer.DIRECTION_HORIZONTAL}this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:direction}),this._zone.runOutsideAngular(()=>{switch(this.config.thumbMode){case ThumbnailsMode.Strict:this._hammer.on("pan",e=>this.strictMode(e));break;case ThumbnailsMode.Free:this._hammer.on("pan",e=>this.freeMode(e))}})}}ngOnDestroy(){this._hammer&&this._hammer.destroy()}strictMode(e){switch(this.config.thumbPosition){case ThumbnailsPosition.Right:case ThumbnailsPosition.Left:this.updateSlider({value:e.deltaY,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(e));break;case ThumbnailsPosition.Top:case ThumbnailsPosition.Bottom:this.updateSlider({value:e.deltaX,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(e))}}freeMode(e){switch(this.config.thumbPosition){case ThumbnailsPosition.Right:case ThumbnailsPosition.Left:this.updateSlider({value:this._freeModeCurrentOffset+e.deltaY,active:!0}),e.isFinal&&(this.minFreeScrollExceeded(e.deltaY,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbHeight:this.maxFreeScrollExceeded(e.deltaY,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbHeight:this._freeModeCurrentOffset+=e.deltaY,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}));break;case ThumbnailsPosition.Top:case ThumbnailsPosition.Bottom:this.updateSlider({value:this._freeModeCurrentOffset+e.deltaX,active:!0}),e.isFinal&&(this.minFreeScrollExceeded(e.deltaX,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbWidth:this.maxFreeScrollExceeded(e.deltaX,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbWidth:this._freeModeCurrentOffset+=e.deltaX,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}))}}minFreeScrollExceeded(delta,width,height){return-(this._freeModeCurrentOffset+delta-width/2)>(this.state.items.length-this.state.currIndex)*height}maxFreeScrollExceeded(delta,width,height){return this._freeModeCurrentOffset+delta>this.state.currIndex*width+height/2}getSliderStyles(state){const currIndex=this.state.currIndex,itemsLength=this.state.items.length,{thumbWidth:thumbWidth,thumbHeight:thumbHeight}=this.config;let value;switch(this.config.thumbPosition){case ThumbnailsPosition.Top:case ThumbnailsPosition.Bottom:if(this.width="100%",this.height=this.config.thumbHeight+"px","contain"===this.config.thumbView){const containerWidth=this._el.nativeElement.clientWidth,minHorizontalShift=itemsLength*thumbWidth-containerWidth;containerWidth>itemsLength*thumbWidth?this.thumbnailsLessThanSlider=!0:(this.thumbnailsLessThanSlider=!1,value=currIndex*thumbWidth+thumbWidth/2>containerWidth/2?-Math.min(currIndex*thumbWidth+thumbWidth/2-containerWidth/2,minHorizontalShift):0)}else value=-currIndex*thumbWidth-(thumbWidth/2-state.value);return{transform:`translate3d(${value}px, 0, 0)`,width:itemsLength*thumbWidth+"px",height:"100%"};case ThumbnailsPosition.Left:case ThumbnailsPosition.Right:if(this.width=this.config.thumbWidth+"px",this.height="100%","contain"===this.config.thumbView){const containerHeight=this._el.nativeElement.clientHeight,minVerticalShift=itemsLength*thumbHeight-containerHeight;containerHeight>itemsLength*thumbHeight?this.thumbnailsLessThanSlider=!0:(this.thumbnailsLessThanSlider=!1,value=currIndex*thumbHeight+thumbHeight/2>containerHeight/2?-Math.min(currIndex*thumbHeight+thumbHeight/2-containerHeight/2,minVerticalShift):0)}else value=-currIndex*thumbHeight-(thumbHeight/2-state.value);return{transform:`translate3d(0, ${value}px, 0)`,width:"100%",height:itemsLength*thumbHeight+"px"}}}verticalPan(e){e.direction&Hammer.DIRECTION_UP&&e.offsetDirection&Hammer.DIRECTION_VERTICAL&&(e.velocityY>.3?this.prev():e.velocityY<-.3||e.deltaY/2<=-this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.next():e.deltaY/2>=this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(e){e.direction&Hammer.DIRECTION_HORIZONTAL&&e.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(e.velocityX>.3?this.prev():e.velocityX<-.3||e.deltaX/2<=-this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.next():e.deltaX/2>=this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(state){const newState=Object.assign(Object.assign({},this._slidingWorker$.value),state);this._slidingWorker$.next(newState)}}ng_gallery_GalleryThumbsComponent.\u0275fac=function GalleryThumbsComponent_Factory(t){return new(t||ng_gallery_GalleryThumbsComponent)(core["\u0275\u0275directiveInject"](core.ElementRef),core["\u0275\u0275directiveInject"](core.NgZone))},ng_gallery_GalleryThumbsComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryThumbsComponent,selectors:[["gallery-thumbs"]],hostVars:4,hostBindings:function GalleryThumbsComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275styleProp"]("width",ctx.width)("height",ctx.height)},inputs:{state:"state",config:"config"},outputs:{action:"action",thumbClick:"thumbClick",error:"error"},features:[core["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:3,consts:[["class","g-thumbs-container",4,"ngIf"],[1,"g-thumbs-container"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error"]],template:function GalleryThumbsComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275template"](0,GalleryThumbsComponent_div_0_Template,3,8,"div",0),core["\u0275\u0275pipe"](1,"async")),2&rf&&core["\u0275\u0275property"]("ngIf",core["\u0275\u0275pipeBind1"](1,1,ctx.sliderState$))},directives:function(){return[common.NgIf,common.NgStyle,common.NgForOf,ng_gallery_GalleryThumbComponent,ng_gallery_TapClick]},pipes:function(){return[common.AsyncPipe]},encapsulation:2,changeDetection:0}),ng_gallery_GalleryThumbsComponent.ctorParameters=()=>[{type:core.ElementRef},{type:core.NgZone}],ng_gallery_GalleryThumbsComponent.propDecorators={state:[{type:core.Input}],config:[{type:core.Input}],action:[{type:core.Output}],thumbClick:[{type:core.Output}],error:[{type:core.Output}],height:[{type:core.HostBinding,args:["style.height"]}],width:[{type:core.HostBinding,args:["style.width"]}]};class ng_gallery_GallerySliderComponent{constructor(_el,_zone,platform){this._el=_el,this._zone=_zone,this.platform=platform,this._slidingWorker$=new BehaviorSubject.a({value:0,active:!1}),this.action=new core.EventEmitter,this.itemClick=new core.EventEmitter,this.error=new core.EventEmitter,this.sliderState$=this._slidingWorker$.pipe(Object(map.a)(state=>({style:this.getSliderStyles(state),active:state.active})))}get zoom(){return{transform:`perspective(50px) translate3d(0, 0, ${-this.config.zoomOut}px)`}}ngOnChanges(){this.updateSlider({value:0,active:!1})}ngOnInit(){if(this.config.gestures&&"undefined"!=typeof Hammer){const direction=this.config.slidingDirection===SlidingDirection.Horizontal?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL;this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:direction}),this._zone.runOutsideAngular(()=>{this._hammer.on("pan",e=>{switch(this.config.slidingDirection){case SlidingDirection.Horizontal:this.updateSlider({value:e.deltaX,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(e));break;case SlidingDirection.Vertical:this.updateSlider({value:e.deltaY,active:!0}),e.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(e))}})})}Object(common.isPlatformBrowser)(this.platform)&&(this._resizeSub$=Object(fromEvent.a)(window,"resize").pipe(Object(debounceTime.a)(200),Object(tap.a)(()=>this.updateSlider(this._slidingWorker$.value))).subscribe()),setTimeout(()=>this.updateSlider({value:0,active:!1}))}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this._resizeSub$&&this._resizeSub$.unsubscribe(),this._slidingWorker$.complete()}getSliderStyles(state){switch(this.config.slidingDirection){case SlidingDirection.Horizontal:return{transform:`translate3d(${-this.state.currIndex*this._el.nativeElement.offsetWidth+state.value}px, 0, 0)`,width:`calc(100% * ${this.state.items.length})`,height:"100%"};case SlidingDirection.Vertical:return{transform:`translate3d(0, ${-this.state.currIndex*this._el.nativeElement.offsetHeight+state.value}px, 0)`,width:"100%",height:`calc(100% * ${this.state.items.length})`}}}verticalPan(e){e.direction&Hammer.DIRECTION_UP&&e.offsetDirection&Hammer.DIRECTION_VERTICAL&&(e.velocityY>.3?this.prev():e.velocityY<-.3||e.deltaY/2<=-this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.next():e.deltaY/2>=this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(e){e.direction&Hammer.DIRECTION_HORIZONTAL&&e.offsetDirection&Hammer.DIRECTION_HORIZONTAL&&(e.velocityX>.3?this.prev():e.velocityX<-.3||e.deltaX/2<=-this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.next():e.deltaX/2>=this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(state){const newState=Object.assign(Object.assign({},this._slidingWorker$.value),state);this._slidingWorker$.next(newState)}}ng_gallery_GallerySliderComponent.\u0275fac=function GallerySliderComponent_Factory(t){return new(t||ng_gallery_GallerySliderComponent)(core["\u0275\u0275directiveInject"](core.ElementRef),core["\u0275\u0275directiveInject"](core.NgZone),core["\u0275\u0275directiveInject"](core.PLATFORM_ID))},ng_gallery_GallerySliderComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GallerySliderComponent,selectors:[["gallery-slider"]],inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",error:"error"},features:[core["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:_c0,decls:3,vars:3,consts:[["class","g-items-container",3,"ngStyle",4,"ngIf"],[1,"g-items-container",3,"ngStyle"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClick","error"]],template:function GallerySliderComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275projectionDef"](),core["\u0275\u0275template"](0,GallerySliderComponent_div_0_Template,3,5,"div",0),core["\u0275\u0275pipe"](1,"async"),core["\u0275\u0275projection"](2)),2&rf&&core["\u0275\u0275property"]("ngIf",core["\u0275\u0275pipeBind1"](1,1,ctx.sliderState$))},directives:function(){return[common.NgIf,common.NgStyle,common.NgForOf,ng_gallery_GalleryItemComponent,ng_gallery_TapClick]},pipes:function(){return[common.AsyncPipe]},encapsulation:2,changeDetection:0}),ng_gallery_GallerySliderComponent.ctorParameters=()=>[{type:core.ElementRef},{type:core.NgZone},{type:Object,decorators:[{type:core.Inject,args:[core.PLATFORM_ID]}]}],ng_gallery_GallerySliderComponent.propDecorators={state:[{type:core.Input}],config:[{type:core.Input}],action:[{type:core.Output}],itemClick:[{type:core.Output}],error:[{type:core.Output}]};class GalleryCounterComponent{}GalleryCounterComponent.\u0275fac=function GalleryCounterComponent_Factory(t){return new(t||GalleryCounterComponent)},GalleryCounterComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:GalleryCounterComponent,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function GalleryCounterComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"div",0),core["\u0275\u0275text"](1),core["\u0275\u0275elementEnd"]()),2&rf&&(core["\u0275\u0275advance"](1),core["\u0275\u0275textInterpolate"](ctx.state.currIndex+1+"/"+ctx.state.items.length))},encapsulation:2,changeDetection:0}),GalleryCounterComponent.propDecorators={state:[{type:core.Input}]};class ng_gallery_GalleryItemComponent{constructor(){this.Types=GalleryItemType,this.error=new core.EventEmitter}get isActive(){return this.index===this.currIndex}get isAutoPlay(){if(this.isActive&&(this.type===GalleryItemType.Video||this.type===GalleryItemType.Youtube))return this.data.autoplay}get youtubeSrc(){let autoplay=0;this.isActive&&this.type===GalleryItemType.Youtube&&this.data.autoplay&&(autoplay=1);const url=new URL(this.data.src);return url.search=new URLSearchParams(Object.assign(Object.assign({wmode:"transparent"},this.data.params),{autoplay:autoplay})).toString(),url.href}get load(){switch(this.config.loadingStrategy){case LoadingStrategy.Preload:return!0;case LoadingStrategy.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}}ng_gallery_GalleryItemComponent.\u0275fac=function GalleryItemComponent_Factory(t){return new(t||ng_gallery_GalleryItemComponent)},ng_gallery_GalleryItemComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryItemComponent,selectors:[["gallery-item"]],hostVars:2,hostBindings:function GalleryItemComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275classProp"]("g-active-item",ctx.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","poster","controls","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","pause",4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"src","loadingIcon","loadingError","error"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"src","poster","controls","play","pause","error"],[3,"src","autoplay","pause"],[3,"src"]],template:function GalleryItemComponent_Template(rf,ctx){1&rf&&core["\u0275\u0275template"](0,GalleryItemComponent_ng_container_0_Template,6,5,"ng-container",0),2&rf&&core["\u0275\u0275property"]("ngIf",ctx.load)},directives:[common.NgIf,common.NgSwitch,common.NgSwitchCase,common.NgSwitchDefault,ng_gallery_GalleryImageComponent,common.NgTemplateOutlet,ng_gallery_GalleryVideoComponent,GalleryIframeComponent],encapsulation:2,changeDetection:0}),ng_gallery_GalleryItemComponent.propDecorators={config:[{type:core.Input}],index:[{type:core.Input}],currIndex:[{type:core.Input}],type:[{type:core.Input}],data:[{type:core.Input}],error:[{type:core.Output}],isActive:[{type:core.HostBinding,args:["class.g-active-item"]}]};class ng_gallery_GalleryThumbComponent{constructor(){this.error=new core.EventEmitter}get isActive(){return this.index===this.currIndex}}ng_gallery_GalleryThumbComponent.\u0275fac=function GalleryThumbComponent_Factory(t){return new(t||ng_gallery_GalleryThumbComponent)},ng_gallery_GalleryThumbComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:ng_gallery_GalleryThumbComponent,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function GalleryThumbComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275classProp"]("g-active-thumb",ctx.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:5,consts:[["mode","indeterminate",3,"src","isThumbnail","loadingIcon","loadingError","error"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function GalleryThumbComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275elementStart"](0,"gallery-image",0),core["\u0275\u0275listener"]("error",function GalleryThumbComponent_Template_gallery_image_error_0_listener($event){return ctx.error.emit($event)}),core["\u0275\u0275elementEnd"](),core["\u0275\u0275template"](1,GalleryThumbComponent_div_1_Template,2,6,"div",1)),2&rf&&(core["\u0275\u0275property"]("src",ctx.data.thumb)("isThumbnail",!0)("loadingIcon",ctx.config.thumbLoadingIcon)("loadingError",ctx.config.thumbLoadingError),core["\u0275\u0275advance"](1),core["\u0275\u0275property"]("ngIf",ctx.config.thumbTemplate))},directives:[ng_gallery_GalleryImageComponent,common.NgIf,common.NgTemplateOutlet],encapsulation:2,changeDetection:0}),ng_gallery_GalleryThumbComponent.propDecorators={config:[{type:core.Input}],index:[{type:core.Input}],currIndex:[{type:core.Input}],type:[{type:core.Input}],data:[{type:core.Input}],error:[{type:core.Output}],isActive:[{type:core.HostBinding,args:["class.g-active-thumb"]}]};class ng_gallery_LazyImage{constructor(document){this.document=document,this._imageLoader$=new Subject.a,this._loaderSub$=Subscription.a.EMPTY,this.loaded=new core.EventEmitter,this.error=new core.EventEmitter,this._loaderSub$=this._imageLoader$.pipe(Object(switchMap.a)(imageSrc=>this.nativeLoader(imageSrc))).subscribe()}ngOnChanges(changes){changes.src&&changes.src.previousValue!==changes.src.currentValue&&this.loadImage(this.src)}ngOnDestroy(){this._loaderSub$.unsubscribe(),this._imageLoader$.complete()}loadImage(imagePath){this._imageLoader$.next(imagePath)}nativeLoader(url){const img=this.document.createElement("img");img.src=url;return function zip(...observables){const resultSelector=observables[observables.length-1];return"function"==typeof resultSelector&&observables.pop(),Object(fromArray.a)(observables,void 0).lift(new ZipOperator(resultSelector))}(Object(fromEvent.a)(img,"load").pipe(Object(tap.a)(()=>this.loaded.emit(url))),Object(fromEvent.a)(img,"error").pipe(Object(tap.a)(()=>this.error.emit(new Error(`[lazyImage]: The image ${url} did not load`)))))}}ng_gallery_LazyImage.\u0275fac=function LazyImage_Factory(t){return new(t||ng_gallery_LazyImage)(core["\u0275\u0275directiveInject"](common.DOCUMENT))},ng_gallery_LazyImage.\u0275dir=core["\u0275\u0275defineDirective"]({type:ng_gallery_LazyImage,selectors:[["","lazyImage",""]],inputs:{src:["lazyImage","src"]},outputs:{loaded:"loaded",error:"error"},features:[core["\u0275\u0275NgOnChangesFeature"]]}),ng_gallery_LazyImage.ctorParameters=()=>[{type:void 0,decorators:[{type:core.Inject,args:[common.DOCUMENT]}]}],ng_gallery_LazyImage.propDecorators={src:[{type:core.Input,args:["lazyImage"]}],loaded:[{type:core.Output}],error:[{type:core.Output}]};class ng_gallery_TapClick{constructor(_el){this._el=_el,this.clickListener=Subscription.a.EMPTY,this.tapClick=new core.EventEmitter}ngOnInit(){this.activateClickEvent()}activateClickEvent(){"undefined"!=typeof Hammer?(this._hammer=new Hammer(this._el.nativeElement),this._hammer.on("tap",()=>{this.tapClickDisabled||this.tapClick.emit(null)})):this.clickListener=Object(fromEvent.a)(this._el.nativeElement,"click").pipe(Object(filter.a)(()=>!this.tapClickDisabled),Object(tap.a)(()=>this.tapClick.emit(null))).subscribe()}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this.clickListener.unsubscribe()}}ng_gallery_TapClick.\u0275fac=function TapClick_Factory(t){return new(t||ng_gallery_TapClick)(core["\u0275\u0275directiveInject"](core.ElementRef))},ng_gallery_TapClick.\u0275dir=core["\u0275\u0275defineDirective"]({type:ng_gallery_TapClick,selectors:[["","tapClick",""]],inputs:{tapClickDisabled:"tapClickDisabled"},outputs:{tapClick:"tapClick"}}),ng_gallery_TapClick.ctorParameters=()=>[{type:core.ElementRef}],ng_gallery_TapClick.propDecorators={tapClickDisabled:[{type:core.Input}],tapClick:[{type:core.Output}]};class GalleryModule{static withConfig(config){return{ngModule:GalleryModule,providers:[{provide:GALLERY_CONFIG,useValue:config}]}}}GalleryModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:GalleryModule}),GalleryModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function GalleryModule_Factory(t){return new(t||GalleryModule)},imports:[[common.CommonModule]]})},"9EcR":function(module,exports,__webpack_require__){module.exports=function(Component,getAgent){"use strict";var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}var win,OBSERVERS_PATH="__observers__",Observer=function(){function Observer(value){this._emitter=new Component,this._current=value}var __proto=Observer.prototype;return Object.defineProperty(__proto,"current",{get:function(){return this._current},set:function(value){var isUpdate=value!==this._current;this._current=value,isUpdate&&this._emitter.trigger("update",value)},enumerable:!1,configurable:!0}),__proto.subscribe=function(callback){this._emitter.on("update",callback)},__proto.unsubscribe=function(callback){this._emitter.off("update",callback)},Observer}();function keys(obj){return Object.keys(obj)}function camelize(str){return str.replace(/[\s-_]([a-z])/g,function(all,letter){return letter.toUpperCase()})}function withReactiveMethods(ref,methods){var obj={};return methods.forEach(function(name){obj[name]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var current=ref.current||ref.value;return current[name].apply(current,args)}}),obj}function getObservers(instance){return instance[OBSERVERS_PATH]||(instance[OBSERVERS_PATH]={}),instance[OBSERVERS_PATH]}function getObserver(instance,name,defaultValue){var observers=getObservers(instance);return observers[name]||(observers[name]=new Observer(defaultValue)),observers[name]}function ReactiveSubscribe(Constructor){var prototype=Constructor.prototype;prototype.subscribe=function(name,callback){getObserver(this,name).subscribe(callback)},prototype.unsubscribe=function(name,callback){var _this=this;name?name in this&&getObserver(this,name).unsubscribe(callback):keys(getObservers(this)).forEach(function(observerName){_this.unsubscribe(observerName)})}}function withClassMethods(methods){return function(prototype,memberName){methods.forEach(function(name){name in prototype||(prototype[name]=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var result=(_a=this[memberName])[name].apply(_a,args);return result===this[memberName]?this:result})})}}win="undefined"==typeof window?{navigator:{userAgent:""}}:window;var DIRECTION_NONE=1,DIRECTION_LEFT=2,DIRECTION_RIGHT=4,DIRECTION_HORIZONTAL=6,DIRECTION_UP=8,DIRECTION_DOWN=16,DIRECTION_VERTICAL=24,DIRECTION_ALL=30,MOUSE_LEFT="left",MOUSE_RIGHT="right",MOUSE_MIDDLE="middle",VELOCITY_INTERVAL=16,AXES_METHODS=["connect","disconnect","get","setTo","setBy","stopAnimation","updateAnimation","isBounceArea"],AXES_EVENTS=["hold","release","change","animationStart","animationEnd","finish"],IOS_EDGE_THRESHOLD=30,IS_IOS_SAFARI="ontouchstart"in win&&"safari"===getAgent().browser.name,TRANSFORM=function(){if("undefined"==typeof document)return"";for(var bodyStyle=(document.head||document.getElementsByTagName("head")[0]).style,target=["transform","webkitTransform","msTransform","mozTransform"],i=0,len=target.length;i<len;i++)if(target[i]in bodyStyle)return target[i];return""}(),PREVENT_DRAG_CSSPROPS={"user-select":"none","-webkit-user-drag":"none"},toArray=function(nodes){for(var el=[],i=0,len=nodes.length;i<len;i++)el.push(nodes[i]);return el},$=function(param,multi){var el;if(void 0===multi&&(multi=!1),"string"==typeof param){if(param.match(/^<([a-z]+)\s*([^>]*)>/)){var dummy=document.createElement("div");dummy.innerHTML=param,el=toArray(dummy.childNodes)}else el=toArray(document.querySelectorAll(param));multi||(el=el.length>=1?el[0]:void 0)}else param===win?el=param:"value"in param||"current"in param?el=param.value||param.current:!param.nodeName||1!==param.nodeType&&9!==param.nodeType?"jQuery"in win&&param instanceof jQuery||param.constructor.prototype.jquery?el=multi?param.toArray():param.get(0):Array.isArray(param)&&(el=param.map(function(v){return $(v)}),multi||(el=el.length>=1?el[0]:void 0)):el=param;return el},raf=win.requestAnimationFrame||win.webkitRequestAnimationFrame,caf=win.cancelAnimationFrame||win.webkitCancelAnimationFrame;if(raf&&!caf){var keyInfo_1={},oldraf_1=raf;raf=function(callback){var key=oldraf_1(function(timestamp){keyInfo_1[key]&&callback(timestamp)});return keyInfo_1[key]=!0,key},caf=function(key){delete keyInfo_1[key]}}else raf&&caf||(raf=function(callback){return win.setTimeout(function(){callback(win.performance&&win.performance.now&&win.performance.now()||(new Date).getTime())},16)},caf=win.clearTimeout);var requestAnimationFrame=function(fp){return raf(fp)},cancelAnimationFrame=function(key){caf(key)},map=function(obj,callback){var tranformed={};for(var k in obj)k&&(tranformed[k]=callback(obj[k],k));return tranformed},filter=function(obj,callback){var filtered={};for(var k in obj)k&&callback(obj[k],k)&&(filtered[k]=obj[k]);return filtered},every=function(obj,callback){for(var k in obj)if(k&&!callback(obj[k],k))return!1;return!0},equal=function(target,base){return every(target,function(v,k){return v===base[k]})},roundNumFunc={},roundNumber=function(num,roundUnit){return roundNumFunc[roundUnit]||(roundNumFunc[roundUnit]=getRoundFunc(roundUnit)),roundNumFunc[roundUnit](num)},roundNumbers=function(num,roundUnit){return num&&roundUnit?map(num,function(value,key){return roundNumber(value,"number"==typeof roundUnit?roundUnit:roundUnit[key])}):num},getDecimalPlace=function(val){if(!isFinite(val))return 0;var v="".concat(val);if(v.indexOf("e")>=0){for(var p=0,e=1;Math.round(val*e)/e!==val;)e*=10,p++;return p}return v.indexOf(".")>=0?v.length-v.indexOf(".")-1:0},inversePow=function(n){return 1/Math.pow(10,n)},getRoundFunc=function(v){var p=v<1?Math.pow(10,getDecimalPlace(v)):1;return function(n){return 0===v?0:Math.round(Math.round(n/v)*v*p)/p}},getAngle=function(posX,posY){return 180*Math.atan2(posY,posX)/Math.PI},isCssPropsFromAxes=function(originalCssProps){var same=!0;return Object.keys(PREVENT_DRAG_CSSPROPS).forEach(function(prop){originalCssProps&&originalCssProps[prop]===PREVENT_DRAG_CSSPROPS[prop]||(same=!1)}),same},getDirection=function(useHorizontal,useVertical){return useHorizontal&&useVertical?DIRECTION_ALL:useHorizontal?DIRECTION_HORIZONTAL:useVertical?DIRECTION_VERTICAL:DIRECTION_NONE},getInitialPos=function(axis,startPos){return __assign(__assign({},Object.keys(axis).reduce(function(result,key){var _a,_b,_c;return Object.assign(result,((_a={})[key]=null!==(_c=null!==(_b=axis[key].startPos)&&void 0!==_b?_b:axis[key].range[0])&&void 0!==_c?_c:0,_a))},{})),startPos)},useDirection=function(checkType,direction,userDirection){return userDirection?!!(direction===DIRECTION_ALL||direction&checkType&&userDirection&checkType):!!(direction&checkType)},setCssProps=function(element,option,direction){var _a,touchActionMap=((_a={})[DIRECTION_NONE]="auto",_a[DIRECTION_ALL]="none",_a[DIRECTION_VERTICAL]="pan-x",_a[DIRECTION_HORIZONTAL]="pan-y",_a),oldCssProps={};if(element&&element.style){var touchAction=option.touchAction?option.touchAction:touchActionMap[direction],newCssProps_1=__assign(__assign({},PREVENT_DRAG_CSSPROPS),{"touch-action":"none"===element.style["touch-action"]?"none":touchAction});Object.keys(newCssProps_1).forEach(function(prop){oldCssProps[prop]=element.style[prop],element.style[prop]=newCssProps_1[prop]})}return oldCssProps},revertCssProps=function(element,originalCssProps){element&&element.style&&originalCssProps&&Object.keys(originalCssProps).forEach(function(prop){element.style[prop]=originalCssProps[prop]})},EventManager=function(){function EventManager(_axes){this._axes=_axes}var __proto=EventManager.prototype;return __proto.hold=function(pos,option){var roundPos=this._getRoundPos(pos).roundPos;this._axes.trigger(new Component.ComponentEvent("hold",{pos:roundPos,input:option.input||null,inputEvent:option.event||null,isTrusted:!0}))},__proto.triggerRelease=function(param){var _a=this._getRoundPos(param.destPos,param.depaPos),roundPos=_a.roundPos,roundDepa=_a.roundDepa;param.destPos=roundPos,param.depaPos=roundDepa,param.setTo=this._createUserControll(param.destPos,param.duration),this._axes.trigger(new Component.ComponentEvent("release",__assign(__assign({},param),{bounceRatio:this._getBounceRatio(roundPos)})))},__proto.triggerChange=function(pos,depaPos,option,holding){var _this=this;void 0===holding&&(holding=!1);var animationManager=this.animationManager,axisManager=animationManager.axisManager,eventInfo=animationManager.getEventInfo(),_a=this._getRoundPos(pos,depaPos),roundPos=_a.roundPos,roundDepa=_a.roundDepa,moveTo=axisManager.moveTo(roundPos,roundDepa),inputEvent=(null==option?void 0:option.event)||(null==eventInfo?void 0:eventInfo.event)||null,param={pos:moveTo.pos,delta:moveTo.delta,bounceRatio:this._getBounceRatio(moveTo.pos),holding:holding,inputEvent:inputEvent,isTrusted:!!inputEvent,input:(null==option?void 0:option.input)||(null==eventInfo?void 0:eventInfo.input)||null,set:inputEvent?this._createUserControll(moveTo.pos):function(){}},event=new Component.ComponentEvent("change",param);return this._axes.trigger(event),Object.keys(moveTo.pos).forEach(function(axis){var p=moveTo.pos[axis];getObserver(_this._axes,axis,p).current=p}),inputEvent&&axisManager.set(param.set().destPos),!event.isCanceled()},__proto.triggerAnimationStart=function(param){var _a=this._getRoundPos(param.destPos,param.depaPos),roundPos=_a.roundPos,roundDepa=_a.roundDepa;param.destPos=roundPos,param.depaPos=roundDepa,param.setTo=this._createUserControll(param.destPos,param.duration);var event=new Component.ComponentEvent("animationStart",param);return this._axes.trigger(event),!event.isCanceled()},__proto.triggerAnimationEnd=function(isTrusted){void 0===isTrusted&&(isTrusted=!1),this._axes.trigger(new Component.ComponentEvent("animationEnd",{isTrusted:isTrusted}))},__proto.triggerFinish=function(isTrusted){void 0===isTrusted&&(isTrusted=!1),this._axes.trigger(new Component.ComponentEvent("finish",{isTrusted:isTrusted}))},__proto.setAnimationManager=function(animationManager){this.animationManager=animationManager},__proto.destroy=function(){this._axes.off()},__proto._createUserControll=function(pos,duration){void 0===duration&&(duration=0);var userControl={destPos:__assign({},pos),duration:duration};return function(toPos,userDuration){return toPos&&(userControl.destPos=__assign({},toPos)),void 0!==userDuration&&(userControl.duration=userDuration),userControl}},__proto._getRoundPos=function(pos,depaPos){var roundUnit=this._axes.options.round;return{roundPos:roundNumbers(pos,roundUnit),roundDepa:roundNumbers(depaPos,roundUnit)}},__proto._getBounceRatio=function(pos){return this._axes.axisManager.map(pos,function(v,opt){return v<opt.range[0]&&0!==opt.bounce[0]?(opt.range[0]-v)/opt.bounce[0]:v>opt.range[1]&&0!==opt.bounce[1]?(v-opt.range[1])/opt.bounce[1]:0})},EventManager}(),InterruptManager=function(){function InterruptManager(_options){this._options=_options,this._prevented=!1}var __proto=InterruptManager.prototype;return __proto.isInterrupting=function(){return this._options.interruptable||this._prevented},__proto.isInterrupted=function(){return!this._options.interruptable&&this._prevented},__proto.setInterrupt=function(prevented){this._options.interruptable||(this._prevented=prevented)},InterruptManager}(),getInsidePosition=function(destPos,range,circular,bounce){var toDestPos=destPos,targetRange=[circular[0]?range[0]:bounce?range[0]-bounce[0]:range[0],circular[1]?range[1]:bounce?range[1]+bounce[1]:range[1]];return toDestPos=Math.max(targetRange[0],toDestPos),toDestPos=Math.min(targetRange[1],toDestPos)},isOutside=function(pos,range){return pos<range[0]||pos>range[1]},isEndofBounce=function(pos,range,bounce,circular){return!circular[0]&&pos===range[0]-bounce[0]||!circular[1]&&pos===range[1]+bounce[1]},getDuration=function(distance,deceleration){var duration=Math.sqrt(distance/deceleration*2);return duration<100?0:duration},isCircularable=function(destPos,range,circular){return circular[1]&&destPos>range[1]||circular[0]&&destPos<range[0]},getCirculatedPos=function(pos,range,circular){var toPos=pos,min=range[0],max=range[1],length=max-min;return circular[1]&&pos>max&&(toPos=(toPos-max)%length+min),circular[0]&&pos<min&&(toPos=(toPos-min)%length+max),toPos},AxisManager=function(){function AxisManager(_axis){var _this=this;this._axis=_axis,this._complementOptions(),this._pos=Object.keys(this._axis).reduce(function(acc,v){return acc[v]=_this._axis[v].range[0],acc},{})}var __proto=AxisManager.prototype;return __proto.getDelta=function(depaPos,destPos){var fullDepaPos=this.get(depaPos);return map(this.get(destPos),function(v,k){return v-fullDepaPos[k]})},__proto.get=function(axes){var _this=this;return axes&&Array.isArray(axes)?axes.reduce(function(acc,v){return v&&v in _this._pos&&(acc[v]=_this._pos[v]),acc},{}):__assign(__assign({},this._pos),axes||{})},__proto.moveTo=function(pos,depaPos){void 0===depaPos&&(depaPos=this._pos);var delta=map(this._pos,function(v,key){return key in pos&&key in depaPos?pos[key]-depaPos[key]:0});return this.set(this.map(pos,function(v,opt){return opt?getCirculatedPos(v,opt.range,opt.circular):0})),{pos:__assign({},this._pos),delta:delta}},__proto.set=function(pos){for(var k in pos)k&&k in this._pos&&(this._pos[k]=pos[k])},__proto.every=function(pos,callback){var axisOptions=this._axis;return every(pos,function(value,key){return callback(value,axisOptions[key],key)})},__proto.filter=function(pos,callback){var axisOptions=this._axis;return filter(pos,function(value,key){return callback(value,axisOptions[key],key)})},__proto.map=function(pos,callback){var axisOptions=this._axis;return map(pos,function(value,key){return callback(value,axisOptions[key],key)})},__proto.isOutside=function(axes){return!this.every(axes?this.get(axes):this._pos,function(v,opt){return!isOutside(v,opt.range)})},__proto.getAxisOptions=function(key){return this._axis[key]},__proto._complementOptions=function(){var _this=this;Object.keys(this._axis).forEach(function(axis){_this._axis[axis]=__assign({range:[0,100],bounce:[0,0],circular:[!1,!1],startPos:_this._axis[axis].range[0]},_this._axis[axis]),["bounce","circular"].forEach(function(v){var axisOption=_this._axis,key=axisOption[axis][v];/string|number|boolean/.test(typeof key)&&(axisOption[axis][v]=[key,key])})})},AxisManager}(),SUPPORT_TOUCH="ontouchstart"in win,SUPPORT_POINTER="PointerEvent"in win,SUPPORT_MSPOINTER="MSPointerEvent"in win,SUPPORT_POINTER_EVENTS=SUPPORT_POINTER||SUPPORT_MSPOINTER,EventInput=function(){function EventInput(){var _this=this;this._stopContextMenu=function(event){event.preventDefault(),win.removeEventListener("contextmenu",_this._stopContextMenu)}}var __proto=EventInput.prototype;return __proto.extendEvent=function(event){var _a,prevEvent=this.prevEvent,center=this._getCenter(event),movement=prevEvent?this._getMovement(event):{x:0,y:0},scale=prevEvent?this._getScale(event):1,angle=prevEvent?getAngle(center.x-prevEvent.center.x,center.y-prevEvent.center.y):0,deltaX=prevEvent?prevEvent.deltaX+movement.x:movement.x,deltaY=prevEvent?prevEvent.deltaY+movement.y:movement.y,offsetX=movement.x,offsetY=movement.y,latestInterval=this._latestInterval,timeStamp=Date.now(),deltaTime=latestInterval?timeStamp-latestInterval.timestamp:0,velocityX=prevEvent?prevEvent.velocityX:0,velocityY=prevEvent?prevEvent.velocityY:0;return(!latestInterval||deltaTime>=VELOCITY_INTERVAL)&&(latestInterval&&(velocityX=(_a=[(deltaX-latestInterval.deltaX)/deltaTime,(deltaY-latestInterval.deltaY)/deltaTime])[0],velocityY=_a[1]),this._latestInterval={timestamp:timeStamp,deltaX:deltaX,deltaY:deltaY}),{srcEvent:event,scale:scale,angle:angle,center:center,deltaX:deltaX,deltaY:deltaY,offsetX:offsetX,offsetY:offsetY,velocityX:velocityX,velocityY:velocityY,preventSystemEvent:!0}},__proto._getDistance=function(start,end){var x=end.clientX-start.clientX,y=end.clientY-start.clientY;return Math.sqrt(x*x+y*y)},__proto._getButton=function(event){var buttonCodeMap={1:MOUSE_LEFT,2:MOUSE_RIGHT,4:MOUSE_MIDDLE},button=this._isTouchEvent(event)?MOUSE_LEFT:buttonCodeMap[event.buttons];return button||null},__proto._isTouchEvent=function(event){return event.type.indexOf("touch")>-1},__proto._isValidButton=function(button,inputButton){return inputButton.indexOf(button)>-1},__proto._preventMouseButton=function(event,button){button===MOUSE_RIGHT?win.addEventListener("contextmenu",this._stopContextMenu):button===MOUSE_MIDDLE&&event.preventDefault()},EventInput}(),MouseEventInput=function(_super){function MouseEventInput(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.start=["mousedown"],_this.move=["mousemove"],_this.end=["mouseup"],_this}__extends(MouseEventInput,_super);var __proto=MouseEventInput.prototype;return __proto.onEventStart=function(event,inputButton){var button=this._getButton(event);return inputButton&&!this._isValidButton(button,inputButton)?null:(this._preventMouseButton(event,button),this.extendEvent(event))},__proto.onEventMove=function(event,inputButton){return inputButton&&!this._isValidButton(this._getButton(event),inputButton)?null:this.extendEvent(event)},__proto.onEventEnd=function(){},__proto.onRelease=function(){this.prevEvent=null},__proto.getTouches=function(){return 0},__proto._getScale=function(){return 1},__proto._getCenter=function(event){return{x:event.clientX,y:event.clientY}},__proto._getMovement=function(event){var prev=this.prevEvent.srcEvent;return{x:event.clientX-prev.clientX,y:event.clientY-prev.clientY}},MouseEventInput}(EventInput),TouchEventInput=function(_super){function TouchEventInput(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.start=["touchstart"],_this.move=["touchmove"],_this.end=["touchend","touchcancel"],_this}__extends(TouchEventInput,_super);var __proto=TouchEventInput.prototype;return __proto.onEventStart=function(event){return this._baseTouches=event.touches,this.extendEvent(event)},__proto.onEventMove=function(event){return this.extendEvent(event)},__proto.onEventEnd=function(event){this._baseTouches=event.touches},__proto.onRelease=function(){this.prevEvent=null,this._baseTouches=null},__proto.getTouches=function(event){return event.touches.length},__proto._getScale=function(event){return 2!==event.touches.length||this._baseTouches.length<2?null:this._getDistance(event.touches[0],event.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1])},__proto._getCenter=function(event){return{x:event.touches[0].clientX,y:event.touches[0].clientY}},__proto._getMovement=function(event){var prev=this.prevEvent.srcEvent;return event.touches[0].identifier!==prev.touches[0].identifier?{x:0,y:0}:{x:event.touches[0].clientX-prev.touches[0].clientX,y:event.touches[0].clientY-prev.touches[0].clientY}},TouchEventInput}(EventInput),PointerEventInput=function(_super){function PointerEventInput(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.start=SUPPORT_POINTER?["pointerdown"]:["MSPointerDown"],_this.move=SUPPORT_POINTER?["pointermove"]:["MSPointerMove"],_this.end=SUPPORT_POINTER?["pointerup","pointercancel"]:["MSPointerUp","MSPointerCancel"],_this._firstInputs=[],_this._recentInputs=[],_this}__extends(PointerEventInput,_super);var __proto=PointerEventInput.prototype;return __proto.onEventStart=function(event,inputButton){var button=this._getButton(event);return inputButton&&!this._isValidButton(button,inputButton)?null:(this._preventMouseButton(event,button),this._updatePointerEvent(event),this.extendEvent(event))},__proto.onEventMove=function(event,inputButton){return inputButton&&!this._isValidButton(this._getButton(event),inputButton)?null:(this._updatePointerEvent(event),this.extendEvent(event))},__proto.onEventEnd=function(event){this._removePointerEvent(event)},__proto.onRelease=function(){this.prevEvent=null,this._firstInputs=[],this._recentInputs=[]},__proto.getTouches=function(){return this._recentInputs.length},__proto._getScale=function(){return 2!==this._recentInputs.length?null:this._getDistance(this._recentInputs[0],this._recentInputs[1])/this._getDistance(this._firstInputs[0],this._firstInputs[1])},__proto._getCenter=function(event){return{x:event.clientX,y:event.clientY}},__proto._getMovement=function(event){var prev=this.prevEvent.srcEvent;return event.pointerId!==prev.pointerId?{x:0,y:0}:{x:event.clientX-prev.clientX,y:event.clientY-prev.clientY}},__proto._updatePointerEvent=function(event){var _this=this,addFlag=!1;this._recentInputs.forEach(function(e,i){e.pointerId===event.pointerId&&(addFlag=!0,_this._recentInputs[i]=event)}),addFlag||(this._firstInputs.push(event),this._recentInputs.push(event))},__proto._removePointerEvent=function(event){this._firstInputs=this._firstInputs.filter(function(x){return x.pointerId!==event.pointerId}),this._recentInputs=this._recentInputs.filter(function(x){return x.pointerId!==event.pointerId})},PointerEventInput}(EventInput),TouchMouseEventInput=function(_super){function TouchMouseEventInput(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.start=["mousedown","touchstart"],_this.move=["mousemove","touchmove"],_this.end=["mouseup","touchend","touchcancel"],_this}__extends(TouchMouseEventInput,_super);var __proto=TouchMouseEventInput.prototype;return __proto.onEventStart=function(event,inputButton){var button=this._getButton(event);return this._isTouchEvent(event)&&(this._baseTouches=event.touches),inputButton&&!this._isValidButton(button,inputButton)?null:(this._preventMouseButton(event,button),this.extendEvent(event))},__proto.onEventMove=function(event,inputButton){return inputButton&&!this._isValidButton(this._getButton(event),inputButton)?null:this.extendEvent(event)},__proto.onEventEnd=function(event){this._isTouchEvent(event)&&(this._baseTouches=event.touches)},__proto.onRelease=function(){this.prevEvent=null,this._baseTouches=null},__proto.getTouches=function(event){return this._isTouchEvent(event)?event.touches.length:0},__proto._getScale=function(event){return this._isTouchEvent(event)?2!==event.touches.length||this._baseTouches.length<2?1:this._getDistance(event.touches[0],event.touches[1])/this._getDistance(this._baseTouches[0],this._baseTouches[1]):this.prevEvent.scale},__proto._getCenter=function(event){return this._isTouchEvent(event)?{x:event.touches[0].clientX,y:event.touches[0].clientY}:{x:event.clientX,y:event.clientY}},__proto._getMovement=function(event){var _this=this,_a=[event,this.prevEvent.srcEvent].map(function(e){return _this._isTouchEvent(e)?{id:e.touches[0].identifier,x:e.touches[0].clientX,y:e.touches[0].clientY}:{id:null,x:e.clientX,y:e.clientY}}),nextSpot=_a[0],prevSpot=_a[1];return nextSpot.id===prevSpot.id?{x:nextSpot.x-prevSpot.x,y:nextSpot.y-prevSpot.y}:{x:0,y:0}},TouchMouseEventInput}(EventInput),toAxis=function(source,offset){return offset.reduce(function(acc,v,i){return source[i]&&(acc[source[i]]=v),acc},{})},convertInputType=function(inputType){void 0===inputType&&(inputType=[]);var hasTouch=!1,hasMouse=!1,hasPointer=!1;return inputType.forEach(function(v){switch(v){case"mouse":hasMouse=!0;break;case"touch":hasTouch=SUPPORT_TOUCH;break;case"pointer":hasPointer=SUPPORT_POINTER_EVENTS}}),hasPointer?new PointerEventInput:hasTouch&&hasMouse?new TouchMouseEventInput:hasTouch?new TouchEventInput:hasMouse?new MouseEventInput:null},InputObserver=function(){function InputObserver(_a){var options=_a.options,interruptManager=_a.interruptManager,eventManager=_a.eventManager,axisManager=_a.axisManager,animationManager=_a.animationManager;this._isOutside=!1,this._moveDistance=null,this._isStopped=!1,this.options=options,this._interruptManager=interruptManager,this._eventManager=eventManager,this._axisManager=axisManager,this._animationManager=animationManager}var __proto=InputObserver.prototype;return __proto.get=function(input){return this._axisManager.get(input.axes)},__proto.hold=function(input,event){if(!this._interruptManager.isInterrupted()&&input.axes.length){var changeOption={input:input,event:event};this._isStopped=!1,this._interruptManager.setInterrupt(!0),this._animationManager.stopAnimation(changeOption),this._moveDistance||this._eventManager.hold(this._axisManager.get(),changeOption),this._isOutside=this._axisManager.isOutside(input.axes),this._moveDistance=this._axisManager.get(input.axes)}},__proto.change=function(input,event,offset,useAnimation){if(!this._isStopped&&this._interruptManager.isInterrupting()&&!this._axisManager.every(offset,function(v){return 0===v})){var nativeEvent=event.srcEvent?event.srcEvent:event;if(!nativeEvent.__childrenAxesAlreadyChanged){var destPos,depaPos=this._moveDistance||this._axisManager.get(input.axes);destPos=map(depaPos,function(v,k){return v+(offset[k]||0)}),this._moveDistance&&(this._moveDistance=this._axisManager.map(destPos,function(v,_a){var circular=_a.circular,range=_a.range;return circular&&(circular[0]||circular[1])?getCirculatedPos(v,range,circular):v})),this._isOutside&&this._axisManager.every(depaPos,function(v,opt){return!isOutside(v,opt.range)})&&(this._isOutside=!1),depaPos=this._atOutside(depaPos),destPos=this._atOutside(destPos),this.options.nested&&this._isEndofAxis(offset,depaPos,destPos)||(nativeEvent.__childrenAxesAlreadyChanged=!0);var changeOption={input:input,event:event};if(useAnimation){var duration=this._animationManager.getDuration(destPos,depaPos);this._animationManager.animateTo(destPos,duration,changeOption)}else!this._eventManager.triggerChange(destPos,depaPos,changeOption,!0)&&(this._isStopped=!0,this._moveDistance=null,this._animationManager.finish(!1))}}},__proto.release=function(input,event,velocity,inputDuration){if(!this._isStopped&&this._interruptManager.isInterrupting()&&this._moveDistance){var nativeEvent=event.srcEvent?event.srcEvent:event;nativeEvent.__childrenAxesAlreadyReleased&&(velocity=velocity.map(function(){return 0}));var pos=this._axisManager.get(input.axes),depaPos=this._axisManager.get(),displacement=this._animationManager.getDisplacement(velocity),offset=toAxis(input.axes,displacement),destPos=this._axisManager.get(this._axisManager.map(offset,function(v,opt,k){return opt.circular&&(opt.circular[0]||opt.circular[1])?pos[k]+v:getInsidePosition(pos[k]+v,opt.range,opt.circular,opt.bounce)}));nativeEvent.__childrenAxesAlreadyReleased=!0;var duration=this._animationManager.getDuration(destPos,pos,inputDuration);0===duration&&(destPos=__assign({},depaPos));var param={depaPos:depaPos,destPos:destPos,duration:duration,delta:this._axisManager.getDelta(depaPos,destPos),inputEvent:event,input:input,isTrusted:!0};this._eventManager.triggerRelease(param),this._moveDistance=null;var userWish=this._animationManager.getUserControl(param),isEqual=equal(userWish.destPos,depaPos),changeOption={input:input,event:event};isEqual||0===userWish.duration?(isEqual||this._eventManager.triggerChange(userWish.destPos,depaPos,changeOption,!0),this._interruptManager.setInterrupt(!1),this._axisManager.isOutside()?this._animationManager.restore(changeOption):this._eventManager.triggerFinish(!0)):this._animationManager.animateTo(userWish.destPos,userWish.duration,changeOption)}},__proto._atOutside=function(pos){var _this=this;return this._isOutside?this._axisManager.map(pos,function(v,opt){var tn=opt.range[0]-opt.bounce[0],tx=opt.range[1]+opt.bounce[1];return v>tx?tx:v<tn?tn:v}):this._axisManager.map(pos,function(v,opt){var min=opt.range[0],max=opt.range[1],out=opt.bounce,circular=opt.circular;return circular&&(circular[0]||circular[1])?v:v<min?min-_this._animationManager.interpolate(min-v,out[0]):v>max?max+_this._animationManager.interpolate(v-max,out[1]):v})},__proto._isEndofAxis=function(offset,depaPos,destPos){return this._axisManager.every(depaPos,function(value,option,key){return 0===offset[key]||depaPos[key]===destPos[key]&&isEndofBounce(value,option.range,option.bounce,option.circular)})},InputObserver}(),clamp=function(value,min,max){return Math.max(Math.min(value,max),min)},EasingManager=function(_super){function EasingManager(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._useDuration=!0,_this}__extends(EasingManager,_super);var __proto=EasingManager.prototype;return __proto.interpolate=function(displacement,threshold){var initSlope=this._easing(1e-5)/1e-5;return this._easing(displacement/(threshold*initSlope))*threshold},__proto.updateAnimation=function(options){var animateParam=this._animateParam;if(animateParam){var diffTime=(new Date).getTime()-animateParam.startTime,pos=(null==options?void 0:options.destPos)||animateParam.destPos,duration=(null==options?void 0:options.duration)||animateParam.duration;if((null==options?void 0:options.restart)||duration<=diffTime)this.setTo(pos,duration-diffTime);else{if(null==options?void 0:options.destPos){var currentPos=this.axisManager.get();this._initialEasingPer=this._prevEasingPer,animateParam.delta=this.axisManager.getDelta(currentPos,pos),animateParam.destPos=pos}if(null==options?void 0:options.duration){var ratio=(diffTime+this._durationOffset)/animateParam.duration;this._durationOffset=ratio*duration-diffTime,animateParam.duration=duration}}}},__proto._initState=function(info){return this._initialEasingPer=0,this._prevEasingPer=0,this._durationOffset=0,{pos:info.depaPos,easingPer:0,finished:!1}},__proto._getNextState=function(prevState){var _this=this,animateParam=this._animateParam,prevPos=prevState.pos,destPos=animateParam.destPos,directions=map(prevPos,function(value,key){return value<=destPos[key]?1:-1}),ratio=((new Date).getTime()-animateParam.startTime+this._durationOffset)/animateParam.duration,easingPer=this._easing(ratio),toPos=this.axisManager.map(prevPos,function(pos,options,key){var nextPos=ratio>=1?destPos[key]:pos+animateParam.delta[key]*(easingPer-_this._prevEasingPer)/(1-_this._initialEasingPer),circulatedPos=getCirculatedPos(nextPos,options.range,options.circular);if(nextPos!==circulatedPos){var rangeOffset=directions[key]*(options.range[1]-options.range[0]);destPos[key]-=rangeOffset,prevPos[key]-=rangeOffset}return circulatedPos});return this._prevEasingPer=easingPer,{pos:toPos,easingPer:easingPer,finished:easingPer>=1}},__proto._easing=function(p){return p>1?1:this._options.easing(p)},EasingManager}(function(){function AnimationManager(_a){var options=_a.options,interruptManager=_a.interruptManager,eventManager=_a.eventManager,axisManager=_a.axisManager;this._options=options,this.interruptManager=interruptManager,this.eventManager=eventManager,this.axisManager=axisManager,this.animationEnd=this.animationEnd.bind(this)}var __proto=AnimationManager.prototype;return __proto.getDuration=function(depaPos,destPos,wishDuration){var duration,_this=this;if(void 0!==wishDuration)duration=wishDuration;else{var durations_1=map(destPos,function(v,k){return getDuration(Math.abs(v-depaPos[k]),_this._options.deceleration)});duration=Object.keys(durations_1).reduce(function(max,v){return Math.max(max,durations_1[v])},-1/0)}return clamp(duration,this._options.minimumDuration,this._options.maximumDuration)},__proto.getDisplacement=function(velocity){var totalVelocity=Math.pow(velocity.reduce(function(total,v){return total+v*v},0),1/velocity.length),duration=Math.abs(totalVelocity/-this._options.deceleration);return velocity.map(function(v){return v/2*duration})},__proto.stopAnimation=function(option){if(this._animateParam){var orgPos_1=this.axisManager.get(),pos=this.axisManager.map(orgPos_1,function(v,opt){return getCirculatedPos(v,opt.range,opt.circular)});every(pos,function(v,k){return orgPos_1[k]===v})||this.eventManager.triggerChange(pos,orgPos_1,option,!!option),this._animateParam=null,this._raf&&cancelAnimationFrame(this._raf),this._raf=null,this.eventManager.triggerAnimationEnd(!!(null==option?void 0:option.event))}},__proto.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},__proto.restore=function(option){var pos=this.axisManager.get(),destPos=this.axisManager.map(pos,function(v,opt){return Math.min(opt.range[1],Math.max(opt.range[0],v))});this.stopAnimation(),this.animateTo(destPos,this.getDuration(pos,destPos),option)},__proto.animationEnd=function(){var beforeParam=this.getEventInfo();this._animateParam=null;var circularTargets=this.axisManager.filter(this.axisManager.get(),function(v,opt){return isCircularable(v,opt.range,opt.circular)});Object.keys(circularTargets).length>0&&this.setTo(this.axisManager.map(circularTargets,function(v,opt){return getCirculatedPos(v,opt.range,opt.circular)})),this.interruptManager.setInterrupt(!1),this.eventManager.triggerAnimationEnd(!!beforeParam),this.axisManager.isOutside()?this.restore(beforeParam):this.finish(!!beforeParam)},__proto.finish=function(isTrusted){this._animateParam=null,this.interruptManager.setInterrupt(!1),this.eventManager.triggerFinish(isTrusted)},__proto.getUserControl=function(param){var userWish=param.setTo();return userWish.destPos=this.axisManager.get(userWish.destPos),userWish.duration=clamp(userWish.duration,this._options.minimumDuration,this._options.maximumDuration),userWish},__proto.animateTo=function(destPos,duration,option){var _this=this;this.stopAnimation();var param=this._createAnimationParam(destPos,duration,option),depaPos=__assign({},param.depaPos),retTrigger=this.eventManager.triggerAnimationStart(param),userWish=this.getUserControl(param);if(!retTrigger&&this.axisManager.every(userWish.destPos,function(v,opt){return isCircularable(v,opt.range,opt.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),retTrigger&&!equal(userWish.destPos,depaPos)){var inputEvent=(null==option?void 0:option.event)||null;this._animateLoop({depaPos:depaPos,destPos:userWish.destPos,duration:userWish.duration,delta:this.axisManager.getDelta(depaPos,userWish.destPos),isTrusted:!!inputEvent,inputEvent:inputEvent,input:(null==option?void 0:option.input)||null},function(){return _this.animationEnd()})}},__proto.setTo=function(pos,duration){void 0===duration&&(duration=0);var axes=Object.keys(pos),orgPos=this.axisManager.get(axes);if(equal(pos,orgPos))return this;this.interruptManager.setInterrupt(!0);var movedPos=filter(pos,function(v,k){return orgPos[k]!==v});return Object.keys(movedPos).length?(movedPos=this.axisManager.map(movedPos,function(v,opt){var range=opt.range,circular=opt.circular;return circular&&(circular[0]||circular[1])?v:getInsidePosition(v,range,circular)}),equal(movedPos,orgPos)||(duration>0?this.animateTo(movedPos,duration):(this.stopAnimation(),this.eventManager.triggerChange(movedPos),this.finish(!1))),this):this},__proto.setBy=function(pos,duration){return void 0===duration&&(duration=0),this.setTo(map(this.axisManager.get(Object.keys(pos)),function(v,k){return v+pos[k]}),duration)},__proto._createAnimationParam=function(pos,duration,option){var depaPos=this.axisManager.get(),destPos=pos,inputEvent=(null==option?void 0:option.event)||null;return{depaPos:depaPos,destPos:destPos,duration:clamp(duration,this._options.minimumDuration,this._options.maximumDuration),delta:this.axisManager.getDelta(depaPos,destPos),inputEvent:inputEvent,input:(null==option?void 0:option.input)||null,isTrusted:!!inputEvent,done:this.animationEnd}},__proto._animateLoop=function(param,complete){var _this=this;if(param.duration){this._animateParam=__assign(__assign({},param),{startTime:(new Date).getTime()});var originalIntendedPos_1=map(param.destPos,function(v){return v}),state_1=this._initState(this._animateParam),loop_1=function(){_this._raf=null;var animateParam=_this._animateParam,nextState=_this._getNextState(state_1),isCanceled=!_this.eventManager.triggerChange(nextState.pos,state_1.pos);if(state_1=nextState,nextState.finished)return animateParam.destPos=_this._getFinalPos(animateParam.destPos,originalIntendedPos_1),equal(animateParam.destPos,_this.axisManager.get(Object.keys(animateParam.destPos)))||_this.eventManager.triggerChange(animateParam.destPos,nextState.pos),void complete();isCanceled?_this.finish(!1):_this._raf=requestAnimationFrame(loop_1)};loop_1()}else this.eventManager.triggerChange(param.destPos),complete()},__proto._getFinalPos=function(destPos,originalIntendedPos){var _this=this,ERROR_LIMIT=1e-6;return map(destPos,function(value,key){if(value>=originalIntendedPos[key]-ERROR_LIMIT&&value<=originalIntendedPos[key]+ERROR_LIMIT)return originalIntendedPos[key];var roundUnit=_this._getRoundUnit(value,key);return roundNumber(value,roundUnit)})},__proto._getRoundUnit=function(val,key){var roundUnit=this._options.round,minRoundUnit=null;if(!roundUnit){var options=this.axisManager.getAxisOptions(key);minRoundUnit=inversePow(Math.max(getDecimalPlace(options.range[0]),getDecimalPlace(options.range[1]),getDecimalPlace(val)))}return minRoundUnit||roundUnit},AnimationManager}()),Axes=function(_super){function Axes(axis,options,startPos){void 0===axis&&(axis={}),void 0===options&&(options={}),void 0===startPos&&(startPos=null);var _this=_super.call(this)||this;return _this.axis=axis,_this._inputs=[],_this.options=__assign({easing:function(x){return 1-Math.pow(1-x,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null,nested:!1},options),_this.interruptManager=new InterruptManager(_this.options),_this.axisManager=new AxisManager(_this.axis),_this.eventManager=new EventManager(_this),_this.animationManager=new EasingManager(_this),_this.inputObserver=new InputObserver(_this),_this.eventManager.setAnimationManager(_this.animationManager),_this.eventManager.triggerChange(getInitialPos(axis,startPos)),_this}__extends(Axes,_super);var __proto=Axes.prototype;return __proto.connect=function(axes,inputType){var mapped;return mapped="string"==typeof axes?axes.split(" "):axes.concat(),~this._inputs.indexOf(inputType)&&this.disconnect(inputType),inputType.mapAxes(mapped),inputType.connect(this.inputObserver),this._inputs.push(inputType),this},__proto.disconnect=function(inputType){if(inputType){var index=this._inputs.indexOf(inputType);index>=0&&(this._inputs[index].disconnect(),this._inputs.splice(index,1))}else this._inputs.forEach(function(v){return v.disconnect()}),this._inputs=[];return this},__proto.get=function(axes){return this.axisManager.get(axes)},__proto.setTo=function(pos,duration){return void 0===duration&&(duration=0),this.animationManager.setTo(pos,duration),this},__proto.setBy=function(pos,duration){return void 0===duration&&(duration=0),this.animationManager.setBy(pos,duration),this},__proto.stopAnimation=function(){return this.animationManager.stopAnimation(),this},__proto.updateAnimation=function(options){return this.animationManager.updateAnimation(options),this},__proto.isBounceArea=function(axes){return this.axisManager.isOutside(axes)},__proto.destroy=function(){this.disconnect(),this.eventManager.destroy()},Axes.VERSION="3.5.0",Axes.TRANSFORM=TRANSFORM,Axes.DIRECTION_NONE=DIRECTION_NONE,Axes.DIRECTION_LEFT=DIRECTION_LEFT,Axes.DIRECTION_RIGHT=DIRECTION_RIGHT,Axes.DIRECTION_UP=DIRECTION_UP,Axes.DIRECTION_DOWN=DIRECTION_DOWN,Axes.DIRECTION_HORIZONTAL=DIRECTION_HORIZONTAL,Axes.DIRECTION_VERTICAL=DIRECTION_VERTICAL,Axes.DIRECTION_ALL=DIRECTION_ALL,Axes=__decorate([ReactiveSubscribe],Axes)}(Component),getDirectionByAngle=function(angle,thresholdAngle){if(thresholdAngle<0||thresholdAngle>90)return DIRECTION_NONE;var toAngle=Math.abs(angle);return toAngle>thresholdAngle&&toAngle<180-thresholdAngle?DIRECTION_VERTICAL:DIRECTION_HORIZONTAL},PanInput=function(){function PanInput(el,options){var _this=this;this.axes=[],this.element=null,this._enabled=!1,this._activeEvent=null,this._atRightEdge=!1,this._rightEdgeTimer=0,this._forceRelease=function(){var activeEvent=_this._activeEvent,prevEvent=activeEvent.prevEvent;activeEvent.onRelease(),_this._observer.release(_this,prevEvent,[0,0]),_this._detachWindowEvent(activeEvent)},this._voidFunction=function(){},this.element=$(el),this.options=__assign({inputType:["touch","mouse","pointer"],inputButton:[MOUSE_LEFT],scale:[1,1],thresholdAngle:45,threshold:0,iOSEdgeSwipeThreshold:IOS_EDGE_THRESHOLD,releaseOnScroll:!1,touchAction:null},options),this._onPanstart=this._onPanstart.bind(this),this._onPanmove=this._onPanmove.bind(this),this._onPanend=this._onPanend.bind(this)}var __proto=PanInput.prototype;return __proto.mapAxes=function(axes){this._direction=getDirection(!!axes[0],!!axes[1]),this.axes=axes},__proto.connect=function(observer){return this._activeEvent&&(this._detachElementEvent(),this._detachWindowEvent(this._activeEvent)),this._attachElementEvent(observer),this._originalCssProps=setCssProps(this.element,this.options,this._direction),this},__proto.disconnect=function(){return this._detachElementEvent(),this._detachWindowEvent(this._activeEvent),isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps),this._direction=DIRECTION_NONE,this},__proto.destroy=function(){this.disconnect(),this.element=null},__proto.enable=function(){return this._enabled=!0,this},__proto.disable=function(){return this._enabled=!1,this},__proto.isEnabled=function(){return this._enabled},__proto._onPanstart=function(event){var activeEvent=this._activeEvent,panEvent=activeEvent.onEventStart(event,this.options.inputButton);if(panEvent&&this._enabled&&!(activeEvent.getTouches(event)>1)&&!1!==panEvent.srcEvent.cancelable){var edgeThreshold=this.options.iOSEdgeSwipeThreshold;this._observer.hold(this,panEvent),this._atRightEdge=IS_IOS_SAFARI&&panEvent.center.x>window.innerWidth-edgeThreshold,this._attachWindowEvent(activeEvent),activeEvent.prevEvent=panEvent}},__proto._onPanmove=function(event){var _this=this,activeEvent=this._activeEvent,panEvent=activeEvent.onEventMove(event,this.options.inputButton);if(panEvent&&this._enabled&&!(activeEvent.getTouches(event)>1)){var _a=this.options,iOSEdgeSwipeThreshold=_a.iOSEdgeSwipeThreshold,releaseOnScroll=_a.releaseOnScroll,userDirection=getDirectionByAngle(panEvent.angle,this.options.thresholdAngle);if(!releaseOnScroll||panEvent.srcEvent.cancelable){if(activeEvent.prevEvent&&IS_IOS_SAFARI){if(panEvent.center.x<0)return void this._forceRelease();this._atRightEdge&&(clearTimeout(this._rightEdgeTimer),panEvent.deltaX<-iOSEdgeSwipeThreshold?this._atRightEdge=!1:this._rightEdgeTimer=window.setTimeout(function(){return _this._forceRelease()},100))}var offset=this._getOffset([panEvent.offsetX,panEvent.offsetY],[useDirection(DIRECTION_HORIZONTAL,this._direction,userDirection),useDirection(DIRECTION_VERTICAL,this._direction,userDirection)]),prevent=offset.some(function(v){return 0!==v});prevent&&(!1!==panEvent.srcEvent.cancelable&&panEvent.srcEvent.preventDefault(),panEvent.srcEvent.stopPropagation()),panEvent.preventSystemEvent=prevent,prevent&&this._observer.change(this,panEvent,toAxis(this.axes,offset)),activeEvent.prevEvent=panEvent}else this._onPanend(event)}},__proto._onPanend=function(event){var activeEvent=this._activeEvent;if(activeEvent.onEventEnd(event),this._enabled&&0===activeEvent.getTouches(event)){this._detachWindowEvent(activeEvent),clearTimeout(this._rightEdgeTimer);var prevEvent=activeEvent.prevEvent,velocity=this._getOffset([Math.abs(prevEvent.velocityX)*(prevEvent.offsetX<0?-1:1),Math.abs(prevEvent.velocityY)*(prevEvent.offsetY<0?-1:1)],[useDirection(DIRECTION_HORIZONTAL,this._direction),useDirection(DIRECTION_VERTICAL,this._direction)]);activeEvent.onRelease(),this._observer.release(this,prevEvent,velocity)}},__proto._attachWindowEvent=function(activeEvent){var _this=this;null==activeEvent||activeEvent.move.forEach(function(event){window.addEventListener(event,_this._onPanmove,{passive:!1})}),null==activeEvent||activeEvent.end.forEach(function(event){window.addEventListener(event,_this._onPanend,{passive:!1})})},__proto._detachWindowEvent=function(activeEvent){var _this=this;null==activeEvent||activeEvent.move.forEach(function(event){window.removeEventListener(event,_this._onPanmove)}),null==activeEvent||activeEvent.end.forEach(function(event){window.removeEventListener(event,_this._onPanend)})},__proto._getOffset=function(properties,direction){var scale=this.options.scale;return[direction[0]?properties[0]*scale[0]:0,direction[1]?properties[1]*scale[1]:0]},__proto._attachElementEvent=function(observer){var _this=this,activeEvent=convertInputType(this.options.inputType);activeEvent&&(this._observer=observer,this._enabled=!0,this._activeEvent=activeEvent,activeEvent.start.forEach(function(event){var _a;null===(_a=_this.element)||void 0===_a||_a.addEventListener(event,_this._onPanstart)}),activeEvent.move.forEach(function(event){var _a;null===(_a=_this.element)||void 0===_a||_a.addEventListener(event,_this._voidFunction)}))},__proto._detachElementEvent=function(){var _this=this,activeEvent=this._activeEvent;null==activeEvent||activeEvent.start.forEach(function(event){var _a;null===(_a=_this.element)||void 0===_a||_a.removeEventListener(event,_this._onPanstart)}),null==activeEvent||activeEvent.move.forEach(function(event){var _a;null===(_a=_this.element)||void 0===_a||_a.removeEventListener(event,_this._voidFunction)}),this._enabled=!1,this._observer=null},PanInput}(),KEY_LEFT_ARROW=37,KEY_A=65,KEY_UP_ARROW=38,KEY_W=87,KEY_RIGHT_ARROW=39,KEY_D=68,KEY_DOWN_ARROW=40,KEY_S=83,DIRECTION_REVERSE=-1,DIRECTION_FORWARD=1,DIRECTION_HORIZONTAL$1=-1,DIRECTION_VERTICAL$1=1,DELAY=80,REACTIVE_AXES={state:{},methods:AXES_METHODS,events:AXES_EVENTS,instance:function(data){return new Axes(data.axis,data.options)},on:function(instance,name,callback){instance.on(name,callback)},off:function(instance,name,callback){instance.off(name,callback)},destroy:function(instance){instance.destroy()}},modules={default:Axes,PanInput:PanInput,RotatePanInput:function(_super){function RotatePanInput(el,options){var _this=_super.call(this,el,options)||this;return _this._prevQuadrant=null,_this._lastDiff=0,_this}__extends(RotatePanInput,_super);var __proto=RotatePanInput.prototype;return __proto.mapAxes=function(axes){this._direction=Axes.DIRECTION_ALL,this.axes=axes},__proto._onPanstart=function(event){var activeEvent=this._activeEvent,panEvent=activeEvent.onEventStart(event,this.options.inputButton);if(panEvent&&this.isEnabled()){var rect=this.element.getBoundingClientRect();this._observer.hold(this,panEvent),this._attachWindowEvent(activeEvent),this._coefficientForDistanceToAngle=360/(rect.width*Math.PI),this._rotateOrigin=[rect.left+(rect.width-1)/2,rect.top+(rect.height-1)/2],this._prevAngle=null,this._triggerChange(panEvent),activeEvent.prevEvent=panEvent}},__proto._onPanmove=function(event){var activeEvent=this._activeEvent,panEvent=activeEvent.onEventMove(event,this.options.inputButton);panEvent&&this.isEnabled()&&(!1!==panEvent.srcEvent.cancelable&&panEvent.srcEvent.preventDefault(),panEvent.srcEvent.stopPropagation(),this._triggerChange(panEvent),activeEvent.prevEvent=panEvent)},__proto._onPanend=function(event){var activeEvent=this._activeEvent;if(activeEvent.onEventEnd(event),this.isEnabled()){var prevEvent=activeEvent.prevEvent;this._triggerChange(prevEvent);var vx=prevEvent.velocityX,vy=prevEvent.velocityY,velocity=Math.sqrt(vx*vx+vy*vy)*(this._lastDiff>0?-1:1);activeEvent.onRelease(),this._observer.release(this,prevEvent,[velocity*this._coefficientForDistanceToAngle]),this._detachWindowEvent(activeEvent)}},__proto._triggerChange=function(event){var _a=this._getPosFromOrigin(event.center.x,event.center.y),x=_a.x,y=_a.y,angle=getAngle(x,y),positiveAngle=angle<0?360+angle:angle,quadrant=this._getQuadrant(event.center.x,event.center.y),diff=this._getDifference(this._prevAngle,positiveAngle,this._prevQuadrant,quadrant);this._prevAngle=positiveAngle,this._prevQuadrant=quadrant,0!==diff&&(this._lastDiff=diff,this._observer.change(this,event,toAxis(this.axes,[-diff])))},__proto._getDifference=function(prevAngle,angle,prevQuadrant,quadrant){return null===prevAngle?0:1===prevQuadrant&&4===quadrant?-prevAngle-(360-angle):4===prevQuadrant&&1===quadrant?360-prevAngle+angle:angle-prevAngle},__proto._getPosFromOrigin=function(posX,posY){return{x:posX-this._rotateOrigin[0],y:this._rotateOrigin[1]-posY}},__proto._getQuadrant=function(posX,posY){var _a=this._getPosFromOrigin(posX,posY),x=_a.x,y=_a.y,q=0;return x>=0&&y>=0?q=1:x<0&&y>=0?q=2:x<0&&y<0?q=3:x>=0&&y<0&&(q=4),q},RotatePanInput}(PanInput),PinchInput:function(){function PinchInput(el,options){this.axes=[],this.element=null,this._pinchFlag=!1,this._enabled=!1,this._activeEvent=null,this.element=$(el),this.options=__assign({scale:1,threshold:0,inputType:["touch","pointer"],touchAction:"none"},options),this._onPinchStart=this._onPinchStart.bind(this),this._onPinchMove=this._onPinchMove.bind(this),this._onPinchEnd=this._onPinchEnd.bind(this)}var __proto=PinchInput.prototype;return __proto.mapAxes=function(axes){this.axes=axes},__proto.connect=function(observer){return this._activeEvent&&this._detachEvent(),this._attachEvent(observer),this._originalCssProps=setCssProps(this.element,this.options,DIRECTION_ALL),this},__proto.disconnect=function(){return this._detachEvent(),isCssPropsFromAxes(this._originalCssProps)||revertCssProps(this.element,this._originalCssProps),this},__proto.destroy=function(){this.disconnect(),this.element=null},__proto.enable=function(){return this._enabled=!0,this},__proto.disable=function(){return this._enabled=!1,this},__proto.isEnabled=function(){return this._enabled},__proto._onPinchStart=function(event){var activeEvent=this._activeEvent,pinchEvent=activeEvent.onEventStart(event);pinchEvent&&this._enabled&&2===activeEvent.getTouches(event)&&(this._baseValue=this._observer.get(this)[this.axes[0]],this._observer.hold(this,event),this._pinchFlag=!0,activeEvent.prevEvent=pinchEvent)},__proto._onPinchMove=function(event){var activeEvent=this._activeEvent,pinchEvent=activeEvent.onEventMove(event);if(pinchEvent&&this._pinchFlag&&this._enabled&&2===activeEvent.getTouches(event)){var offset=this._getOffset(pinchEvent.scale,activeEvent.prevEvent.scale);this._observer.change(this,event,toAxis(this.axes,[offset])),activeEvent.prevEvent=pinchEvent}},__proto._onPinchEnd=function(event){var activeEvent=this._activeEvent;activeEvent.onEventEnd(event),!this._pinchFlag||!this._enabled||activeEvent.getTouches(event)>=2||(activeEvent.onRelease(),this._observer.release(this,event,[0],0),this._baseValue=null,this._pinchFlag=!1)},__proto._attachEvent=function(observer){var _this=this,activeEvent=convertInputType(this.options.inputType);activeEvent&&(this._observer=observer,this._enabled=!0,this._activeEvent=activeEvent,activeEvent.start.forEach(function(event){_this.element.addEventListener(event,_this._onPinchStart,!1)}),activeEvent.move.forEach(function(event){_this.element.addEventListener(event,_this._onPinchMove,!1)}),activeEvent.end.forEach(function(event){_this.element.addEventListener(event,_this._onPinchEnd,!1)}))},__proto._detachEvent=function(){var _this=this,activeEvent=this._activeEvent;null==activeEvent||activeEvent.start.forEach(function(event){_this.element.removeEventListener(event,_this._onPinchStart,!1)}),null==activeEvent||activeEvent.move.forEach(function(event){_this.element.removeEventListener(event,_this._onPinchMove,!1)}),null==activeEvent||activeEvent.end.forEach(function(event){_this.element.removeEventListener(event,_this._onPinchEnd,!1)}),this._enabled=!1,this._observer=null},__proto._getOffset=function(pinchScale,prev){return void 0===prev&&(prev=1),this._baseValue*(pinchScale-prev)*this.options.scale},PinchInput}(),WheelInput:function(){function WheelInput(el,options){this.axes=[],this.element=null,this._enabled=!1,this._holding=!1,this._timer=null,this.element=$(el),this.options=__assign({scale:1,releaseDelay:300,useNormalized:!0,useAnimation:!1},options),this._onWheel=this._onWheel.bind(this)}var __proto=WheelInput.prototype;return __proto.mapAxes=function(axes){this._direction=getDirection(!!axes[1],!!axes[0]),this.axes=axes},__proto.connect=function(observer){return this._detachEvent(),this._attachEvent(observer),this},__proto.disconnect=function(){return this._detachEvent(),this},__proto.destroy=function(){this.disconnect(),this.element=null},__proto.enable=function(){return this._enabled=!0,this},__proto.disable=function(){return this._enabled=!1,this},__proto.isEnabled=function(){return this._enabled},__proto._onWheel=function(event){var _this=this;if(this._enabled){var offset=this._getOffset([event.deltaY,event.deltaX],[useDirection(DIRECTION_VERTICAL,this._direction),useDirection(DIRECTION_HORIZONTAL,this._direction)]);0===offset[0]&&0===offset[1]||(event.preventDefault(),this._holding||(this._observer.hold(this,event),this._holding=!0),this._observer.change(this,event,toAxis(this.axes,offset),this.options.useAnimation),clearTimeout(this._timer),this._timer=setTimeout(function(){_this._holding&&(_this._holding=!1,_this._observer.release(_this,event,[0]))},this.options.releaseDelay))}},__proto._getOffset=function(properties,direction){var scale=this.options.scale,useNormalized=this.options.useNormalized;return[direction[0]&&properties[0]?(properties[0]>0?-1:1)*(useNormalized?1:Math.abs(properties[0]))*scale:0,direction[1]&&properties[1]?(properties[1]>0?-1:1)*(useNormalized?1:Math.abs(properties[1]))*scale:0]},__proto._attachEvent=function(observer){this._observer=observer,this.element.addEventListener("wheel",this._onWheel),this._enabled=!0},__proto._detachEvent=function(){this.element.removeEventListener("wheel",this._onWheel),this._enabled=!1,this._observer=null,this._timer&&(clearTimeout(this._timer),this._timer=null)},WheelInput}(),MoveKeyInput:function(){function MoveKeyInput(el,options){this.axes=[],this.element=null,this._enabled=!1,this._holding=!1,this._timer=null,this.element=$(el),this.options=__assign({scale:[1,1]},options),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this)}var __proto=MoveKeyInput.prototype;return __proto.mapAxes=function(axes){this.axes=axes},__proto.connect=function(observer){return this._detachEvent(),"0"!==this.element.getAttribute("tabindex")&&this.element.setAttribute("tabindex","0"),this._attachEvent(observer),this},__proto.disconnect=function(){return this._detachEvent(),this},__proto.destroy=function(){this.disconnect(),this.element=null},__proto.enable=function(){return this._enabled=!0,this},__proto.disable=function(){return this._enabled=!1,this},__proto.isEnabled=function(){return this._enabled},__proto._onKeydown=function(event){if(this._enabled){var isMoveKey=!0,direction=DIRECTION_FORWARD,move=DIRECTION_HORIZONTAL$1;switch(event.keyCode){case KEY_LEFT_ARROW:case KEY_A:direction=DIRECTION_REVERSE;break;case KEY_RIGHT_ARROW:case KEY_D:break;case KEY_DOWN_ARROW:case KEY_S:direction=DIRECTION_REVERSE,move=DIRECTION_VERTICAL$1;break;case KEY_UP_ARROW:case KEY_W:move=DIRECTION_VERTICAL$1;break;default:isMoveKey=!1}if((move===DIRECTION_HORIZONTAL$1&&!this.axes[0]||move===DIRECTION_VERTICAL$1&&!this.axes[1])&&(isMoveKey=!1),isMoveKey){event.preventDefault();var offsets=move===DIRECTION_HORIZONTAL$1?[+this.options.scale[0]*direction,0]:[0,+this.options.scale[1]*direction];this._holding||(this._observer.hold(this,event),this._holding=!0),clearTimeout(this._timer),this._observer.change(this,event,toAxis(this.axes,offsets))}}},__proto._onKeyup=function(event){var _this=this;this._holding&&(clearTimeout(this._timer),this._timer=setTimeout(function(){_this._observer.release(_this,event,[0,0]),_this._holding=!1},DELAY))},__proto._attachEvent=function(observer){this._observer=observer,this.element.addEventListener("keydown",this._onKeydown,!1),this.element.addEventListener("keypress",this._onKeydown,!1),this.element.addEventListener("keyup",this._onKeyup,!1),this._enabled=!0},__proto._detachEvent=function(){this.element.removeEventListener("keydown",this._onKeydown,!1),this.element.removeEventListener("keypress",this._onKeydown,!1),this.element.removeEventListener("keyup",this._onKeyup,!1),this._enabled=!1,this._observer=null},MoveKeyInput}(),AXES_METHODS:AXES_METHODS,AXES_EVENTS:AXES_EVENTS,getInitialPos:getInitialPos,REACTIVE_AXES:REACTIVE_AXES,withReactiveMethods:withReactiveMethods,getObservers:getObservers,getObserver:getObserver,ReactiveSubscribe:ReactiveSubscribe,Observer:Observer,withClassMethods:withClassMethods,keys:keys,camelize:camelize};for(var name in modules)Axes[name]=modules[name];return Axes}(__webpack_require__("iOY6"),__webpack_require__("bnB2"))},QnJr:function(module,exports,__webpack_require__){"use strict";var Component=__webpack_require__("iOY6"),extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};var isWindow="undefined"!=typeof window,ua=isWindow?window.navigator.userAgent:"",SUPPORT_COMPUTEDSTYLE=!!isWindow&&!!("getComputedStyle"in window),IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(ua),SUPPORT_ADDEVENTLISTENER=!!isWindow&&!!("addEventListener"in document);function getAttribute(el,name){return el.getAttribute(name)||""}function toArray(arr){return[].slice.call(arr)}function hasLoadingAttribute(target,prefix){return void 0===prefix&&(prefix="data-"),"loading"in target&&"lazy"===target.getAttribute("loading")||!!target.getAttribute(prefix+"lazy")}function addEvent(element,type,handler){SUPPORT_ADDEVENTLISTENER?element.addEventListener(type,handler,!1):element.attachEvent?element.attachEvent("on"+type,handler):element["on"+type]=handler}function removeEvent(element,type,handler){element.removeEventListener?element.removeEventListener(type,handler,!1):element.detachEvent?element.detachEvent("on"+type,handler):element["on"+type]=null}function getSize(el,name){var size=el["client"+name]||el["offset"+name];return parseFloat(size||function getStyles(el){return(SUPPORT_COMPUTEDSTYLE?window.getComputedStyle(el):el.currentStyle)||{}}(el)[name.toLowerCase()])||0}function getContentElements(element,tags,prefix){var skipElements=toArray(element.querySelectorAll(function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(["["+prefix+"skip] ["+prefix+"width]"],tags.map(function(tag){return["["+prefix+"skip] "+tag,tag+"["+prefix+"skip]","["+prefix+"width] "+tag].join(", ")})).join(", ")));return toArray(element.querySelectorAll("["+prefix+"width], "+tags.join(", "))).filter(function(el){return-1===skipElements.indexOf(el)})}var elements=[];function addAutoSizer(element,prefix){!elements.length&&addEvent(window,"resize",resizeAllAutoSizers),element.__PREFIX__=prefix,elements.push(element),resize(element)}function resize(element,prefix){void 0===prefix&&(prefix="data-");var elementPrefix=element.__PREFIX__||prefix,dataWidth=parseInt(getAttribute(element,elementPrefix+"width"),10)||0,dataHeight=parseInt(getAttribute(element,elementPrefix+"height"),10)||0;if("height"===getAttribute(element,elementPrefix+"fixed")){var size=function innerHeight(el){return getSize(el,"Height")}(element)||dataHeight;element.style.width=dataWidth/dataHeight*size+"px"}else{size=function innerWidth(el){return getSize(el,"Width")}(element)||dataWidth;element.style.height=dataHeight/dataWidth*size+"px"}}function resizeAllAutoSizers(){elements.forEach(function(element){resize(element)})}var Loader=function(_super){function Loader(element,options){void 0===options&&(options={});var _this=_super.call(this)||this;_this.isReady=!1,_this.isPreReady=!1,_this.hasDataSize=!1,_this.hasLoading=!1,_this.isSkip=!1,_this.onCheck=function(e){if(_this.clear(),e&&"error"===e.type&&_this.onError(_this.element),!_this.hasLoading||!_this.checkElement()){var withPreReady=!_this.hasDataSize&&!_this.hasLoading;_this.onReady(withPreReady)}},_this.options=__assign({prefix:"data-"},options),_this.element=element;var prefix=_this.options.prefix;return _this.hasDataSize=function hasSizeAttribute(target,prefix){return void 0===prefix&&(prefix="data-"),!!target.getAttribute(prefix+"width")}(element,prefix),_this.isSkip=function hasSkipAttribute(target,prefix){return void 0===prefix&&(prefix="data-"),!!target.getAttribute(prefix+"skip")}(element,prefix),_this.hasLoading=hasLoadingAttribute(element,prefix),_this}__extends(Loader,_super);var __proto=Loader.prototype;return __proto.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&addAutoSizer(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},__proto.addEvents=function(){var _this=this,element=this.element;this.constructor.EVENTS.forEach(function(name){addEvent(element,name,_this.onCheck)})},__proto.clear=function(){var _this=this,element=this.element;this.constructor.EVENTS.forEach(function(name){removeEvent(element,name,_this.onCheck)}),this.removeAutoSizer()},__proto.destroy=function(){this.clear(),this.off()},__proto.removeAutoSizer=function(){if(this.hasDataSize){var prefix=this.options.prefix;!function removeAutoSizer(element,prefix){var index=elements.indexOf(element);if(!(index<0)){var fixed=getAttribute(element,prefix+"fixed");delete element.__PREFIX__,element.style["height"===fixed?"width":"height"]="",elements.splice(index,1),!elements.length&&removeEvent(window,"resize",resizeAllAutoSizers)}}(this.element,prefix)}},__proto.onError=function(target){this.trigger("error",{element:this.element,target:target})},__proto.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},__proto.onReady=function(withPreReady){this.isReady||((withPreReady=!this.isPreReady&&withPreReady)&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:withPreReady,hasLoading:this.hasLoading,isSkip:this.isSkip}))},__proto.onAlreadyError=function(target){var _this=this;setTimeout(function(){_this.onError(target)})},__proto.onAlreadyPreReady=function(){var _this=this;setTimeout(function(){_this.onPreReady()})},__proto.onAlreadyReady=function(withPreReady){var _this=this;setTimeout(function(){_this.onReady(withPreReady)})},Loader.EVENTS=[],Loader}(Component),ElementLoader=function(_super){function ElementLoader(){return null!==_super&&_super.apply(this,arguments)||this}__extends(ElementLoader,_super);var __proto=ElementLoader.prototype;return __proto.setHasLoading=function(hasLoading){this.hasLoading=hasLoading},__proto.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(addAutoSizer(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},__proto.checkElement=function(){return!0},__proto.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},__proto.onAlreadyPreReady=function(){_super.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},ElementLoader.EVENTS=[],ElementLoader}(Loader),ImReadyManager=function(_super){function ImReadyManager(options){void 0===options&&(options={});var _this=_super.call(this)||this;return _this.readyCount=0,_this.preReadyCount=0,_this.totalCount=0,_this.totalErrorCount=0,_this.isPreReadyOver=!0,_this.elementInfos=[],_this.options=__assign({loaders:{},prefix:"data-"},options),_this}__extends(ImReadyManager,_super);var __proto=ImReadyManager.prototype;return __proto.check=function(elements){var _this=this,prefix=this.options.prefix;this.clear(),this.elementInfos=toArray(elements).map(function(element,index){var loader=_this.getLoader(element,{prefix:prefix});return loader.check(),loader.on("error",function(e){_this.onError(index,e.target)}).on("preReady",function(e){var info=_this.elementInfos[index];info.hasLoading=e.hasLoading,info.isSkip=e.isSkip;var isPreReady=_this.checkPreReady(index);_this.onPreReadyElement(index),isPreReady&&_this.onPreReady()}).on("ready",function(_a){var withPreReady=_a.withPreReady,hasLoading=_a.hasLoading,isSkip=_a.isSkip,info=_this.elementInfos[index];info.hasLoading=hasLoading,info.isSkip=isSkip;var isPreReady=withPreReady&&_this.checkPreReady(index),isReady=_this.checkReady(index);withPreReady&&_this.onPreReadyElement(index),_this.onReadyElement(index),isPreReady&&_this.onPreReady(),isReady&&_this.onReady()}),{loader:loader,element:element,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var length=this.elementInfos.length;return this.totalCount=length,length||setTimeout(function(){_this.onPreReady(),_this.onReady()}),this},__proto.getTotalCount=function(){return this.totalCount},__proto.isPreReady=function(){return this.elementInfos.every(function(info){return info.isPreReady})},__proto.isReady=function(){return this.elementInfos.every(function(info){return info.isReady})},__proto.hasError=function(){return this.totalErrorCount>0},__proto.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(info){!info.isReady&&info.loader&&info.loader.destroy()}),this.elementInfos=[]},__proto.destroy=function(){this.clear(),this.off()},__proto.getLoader=function(element,options){var _this=this,tagName=element.tagName.toLowerCase(),loaders=this.options.loaders,prefix=options.prefix,tags=Object.keys(loaders);if(loaders[tagName])return new loaders[tagName](element,options);var loader=new ElementLoader(element,options),children=toArray(element.querySelectorAll(tags.join(", ")));loader.setHasLoading(children.some(function(el){return hasLoadingAttribute(el,prefix)}));var withPreReady=!1,childrenImReady=this.clone().on("error",function(e){loader.onError(e.target)}).on("ready",function(){loader.onReady(withPreReady)});return loader.on("requestChildren",function(){var contentElements=getContentElements(element,tags,_this.options.prefix);childrenImReady.check(contentElements).on("preReady",function(e){(withPreReady=e.isReady)||loader.onPreReady()})}).on("reqeustReadyChildren",function(){childrenImReady.check(children)}).on("requestDestroy",function(){childrenImReady.destroy()}),loader},__proto.clone=function(){return new ImReadyManager(__assign({},this.options))},__proto.checkPreReady=function(index){return this.elementInfos[index].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},__proto.checkReady=function(index){return this.elementInfos[index].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},__proto.onError=function(index,target){var info=this.elementInfos[index];info.hasError=!0,this.trigger(new Component.ComponentEvent("error",{element:info.element,index:index,target:target,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount}))},__proto.onPreReadyElement=function(index){var info=this.elementInfos[index];this.trigger(new Component.ComponentEvent("preReadyElement",{element:info.element,index:index,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:info.hasLoading,isSkip:info.isSkip}))},__proto.onPreReady=function(){this.isPreReadyOver=!0,this.trigger(new Component.ComponentEvent("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()}))},__proto.onReadyElement=function(index){var info=this.elementInfos[index];this.trigger(new Component.ComponentEvent("readyElement",{index:index,element:info.element,hasError:info.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:info.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:info.isSkip}))},__proto.onReady=function(){this.trigger(new Component.ComponentEvent("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount}))},__proto.getErrorCount=function(){return this.elementInfos.filter(function(info){return info.hasError}).length},__proto.hasLoading=function(){return this.elementInfos.some(function(info){return info.hasLoading})},ImReadyManager}(Component),ImageLoader=function(_super){function ImageLoader(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ImageLoader,_super),ImageLoader.prototype.checkElement=function(){var element=this.element,src=element.getAttribute("src");if(element.complete){if(src)return element.naturalWidth||this.onAlreadyError(element),!1;this.onAlreadyPreReady()}return this.addEvents(),IS_IE&&element.setAttribute("src",src),!0},ImageLoader.EVENTS=["load","error"],ImageLoader}(Loader),VideoLoader=function(_super){function VideoLoader(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(VideoLoader,_super),VideoLoader.prototype.checkElement=function(){var element=this.element;return!(element.readyState>=1)&&(element.error?(this.onAlreadyError(element),!1):(this.addEvents(),!0))},VideoLoader.EVENTS=["loadedmetadata","error"],VideoLoader}(Loader),ImReady=function(_super){function ImReady(options){return void 0===options&&(options={}),_super.call(this,__assign({loaders:{img:ImageLoader,video:VideoLoader}},options))||this}return __extends(ImReady,_super),ImReady}(ImReadyManager),modules={__proto__:null,default:ImReady,Manager:ImReadyManager,VideoLoader:VideoLoader,ImageLoader:ImageLoader,Loader:Loader,EVENTS:["preReadyElement","readyElement","error","preReady","ready"],PROPS:["prefix","loaders"]};for(var name in modules)ImReady[name]=modules[name];module.exports=ImReady},bnB2:function(module,exports,__webpack_require__){"use strict";function some(arr,callback){for(var length=arr.length,i=0;i<length;++i)if(callback(arr[i],i))return!0;return!1}function find(arr,callback){for(var length=arr.length,i=0;i<length;++i)if(callback(arr[i],i))return arr[i];return null}function getUserAgentString(agent){var userAgent=agent;if(void 0===userAgent){if("undefined"==typeof navigator||!navigator)return"";userAgent=navigator.userAgent||""}return userAgent.toLowerCase()}function execRegExp(pattern,text){try{return new RegExp(pattern,"g").exec(text)}catch(e){return null}}function hasUserAgentData(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var userAgentData=navigator.userAgentData,brands=userAgentData.brands||userAgentData.uaList;return!(!brands||!brands.length)}function convertVersion(text){return text.replace(/_/g,".")}function findPreset(presets,userAgent){var userPreset=null,version="-1";return some(presets,function(preset){var result=execRegExp("("+preset.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",userAgent);return!(!result||preset.brand)&&(userPreset=preset,version=result[3]||"-1",preset.versionAlias?version=preset.versionAlias:preset.versionTest&&(version=function findVersion(versionTest,userAgent){var result=execRegExp("("+versionTest+")((?:\\/|\\s|:)([0-9|\\.|_]+))",userAgent);return result?result[3]:""}(preset.versionTest.toLowerCase(),userAgent)||version),version=convertVersion(version),!0)}),{preset:userPreset,version:version}}function findPresetBrand(presets,brands){var brandInfo={brand:"",version:"-1"};return some(presets,function(preset){var result=findBrand(brands,preset);return!!result&&(brandInfo.brand=preset.id,brandInfo.version=preset.versionAlias||result.version,"-1"!==brandInfo.version)}),brandInfo}function findBrand(brands,preset){return find(brands,function(_a){var brand=_a.brand;return execRegExp(""+preset.test,brand.toLowerCase())})}var BROWSER_PRESETS=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],CHROMIUM_PRESETS=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],WEBKIT_PRESETS=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],WEBVIEW_PRESETS=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],OS_PRESETS=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function isWebView(userAgent){return!!findPreset(WEBVIEW_PRESETS,userAgent).preset}function getLegacyAgent(userAgent){var nextAgent=getUserAgentString(userAgent),isMobile=!!/mobi/g.exec(nextAgent),browser={name:"unknown",version:"-1",majorVersion:-1,webview:isWebView(nextAgent),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},os={name:"unknown",version:"-1",majorVersion:-1},_a=findPreset(BROWSER_PRESETS,nextAgent),browserPreset=_a.preset,browserVersion=_a.version,_b=findPreset(OS_PRESETS,nextAgent),osPreset=_b.preset,osVersion=_b.version,chromiumPreset=findPreset(CHROMIUM_PRESETS,nextAgent);if(browser.chromium=!!chromiumPreset.preset,browser.chromiumVersion=chromiumPreset.version,!browser.chromium){var webkitPreset=findPreset(WEBKIT_PRESETS,nextAgent);browser.webkit=!!webkitPreset.preset,browser.webkitVersion=webkitPreset.version}return osPreset&&(os.name=osPreset.id,os.version=osVersion,os.majorVersion=parseInt(osVersion,10)),browserPreset&&(browser.name=browserPreset.id,browser.version=browserVersion,browser.webview&&"ios"===os.name&&"safari"!==browser.name&&(browser.webview=!1)),browser.majorVersion=parseInt(browser.version,10),{browser:browser,os:os,isMobile:isMobile,isHints:!1}}function getClientHintsAgent(osData){var userAgentData=navigator.userAgentData,brands=(userAgentData.uaList||userAgentData.brands).slice(),fullVersionList=osData&&osData.fullVersionList,isMobile=userAgentData.mobile||!1,firstBrand=brands[0],platform=(osData&&osData.platform||userAgentData.platform||navigator.platform).toLowerCase(),browser={name:firstBrand.brand,version:firstBrand.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!findPresetBrand(WEBVIEW_PRESETS,brands).brand||isWebView(getUserAgentString())},os={name:"unknown",version:"-1",majorVersion:-1};browser.webkit=!browser.chromium&&some(WEBKIT_PRESETS,function(preset){return findBrand(brands,preset)});var chromiumBrand=findPresetBrand(CHROMIUM_PRESETS,brands);if(browser.chromium=!!chromiumBrand.brand,browser.chromiumVersion=chromiumBrand.version,!browser.chromium){var webkitBrand=findPresetBrand(WEBKIT_PRESETS,brands);browser.webkit=!!webkitBrand.brand,browser.webkitVersion=webkitBrand.version}var platfomResult=find(OS_PRESETS,function(preset){return new RegExp(""+preset.test,"g").exec(platform)});if(os.name=platfomResult?platfomResult.id:"",osData&&(os.version=osData.platformVersion),fullVersionList&&fullVersionList.length){var browserBrandByFullVersionList=findPresetBrand(BROWSER_PRESETS,fullVersionList);browser.name=browserBrandByFullVersionList.brand||browser.name,browser.version=browserBrandByFullVersionList.version||browser.version}else{var browserBrand=findPresetBrand(BROWSER_PRESETS,brands);browser.name=browserBrand.brand||browser.name,browser.version=browserBrand.brand&&osData?osData.uaFullVersion:browserBrand.version}return browser.webkit&&(os.name=isMobile?"ios":"mac"),"ios"===os.name&&browser.webview&&(browser.version="-1"),os.version=convertVersion(os.version),browser.version=convertVersion(browser.version),os.majorVersion=parseInt(os.version,10),browser.majorVersion=parseInt(browser.version,10),{browser:browser,os:os,isMobile:isMobile,isHints:!0}}function agent(userAgent){return void 0===userAgent&&hasUserAgentData()?getClientHintsAgent():getLegacyAgent(userAgent)}var modules={__proto__:null,getAccurateAgent:function getAccurateAgent(callback){return hasUserAgentData()?navigator.userAgentData.getHighEntropyValues(["architecture","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then(function(info){var agentInfo=getClientHintsAgent(info);return callback&&callback(agentInfo),agentInfo}):(callback&&callback(agent()),"undefined"!=typeof Promise&&Promise?Promise.resolve(agent()):null)},getLegacyAgent:getLegacyAgent,default:agent};for(var name in modules)agent[name]=modules[name];module.exports=agent},dRl4:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ALIGN",function(){return ALIGN}),__webpack_require__.d(__webpack_exports__,"AnchorPoint",function(){return AnchorPoint}),__webpack_require__.d(__webpack_exports__,"AnimatingState",function(){return AnimatingState}),__webpack_require__.d(__webpack_exports__,"AxesController",function(){return AxesController}),__webpack_require__.d(__webpack_exports__,"BoundCameraMode",function(){return BoundCameraMode}),__webpack_require__.d(__webpack_exports__,"CIRCULAR_FALLBACK",function(){return CIRCULAR_FALLBACK}),__webpack_require__.d(__webpack_exports__,"CLASS",function(){return CLASS}),__webpack_require__.d(__webpack_exports__,"Camera",function(){return Camera}),__webpack_require__.d(__webpack_exports__,"CircularCameraMode",function(){return CircularCameraMode}),__webpack_require__.d(__webpack_exports__,"Control",function(){return Control}),__webpack_require__.d(__webpack_exports__,"DIRECTION",function(){return DIRECTION}),__webpack_require__.d(__webpack_exports__,"DisabledState",function(){return DisabledState}),__webpack_require__.d(__webpack_exports__,"DraggingState",function(){return DraggingState}),__webpack_require__.d(__webpack_exports__,"ERROR_CODE",function(){return CODE}),__webpack_require__.d(__webpack_exports__,"EVENTS",function(){return EVENTS}),__webpack_require__.d(__webpack_exports__,"ExternalRenderer",function(){return ExternalRenderer}),__webpack_require__.d(__webpack_exports__,"FlickingError",function(){return FlickingError}),__webpack_require__.d(__webpack_exports__,"FreeControl",function(){return FreeControl}),__webpack_require__.d(__webpack_exports__,"HoldingState",function(){return HoldingState}),__webpack_require__.d(__webpack_exports__,"IdleState",function(){return IdleState}),__webpack_require__.d(__webpack_exports__,"LinearCameraMode",function(){return LinearCameraMode}),__webpack_require__.d(__webpack_exports__,"MOVE_TYPE",function(){return MOVE_TYPE}),__webpack_require__.d(__webpack_exports__,"NormalRenderingStrategy",function(){return NormalRenderingStrategy}),__webpack_require__.d(__webpack_exports__,"Panel",function(){return Panel}),__webpack_require__.d(__webpack_exports__,"Renderer",function(){return Renderer}),__webpack_require__.d(__webpack_exports__,"SnapControl",function(){return SnapControl}),__webpack_require__.d(__webpack_exports__,"State",function(){return State}),__webpack_require__.d(__webpack_exports__,"StateMachine",function(){return StateMachine}),__webpack_require__.d(__webpack_exports__,"StrictControl",function(){return StrictControl}),__webpack_require__.d(__webpack_exports__,"VanillaElementProvider",function(){return VanillaElementProvider}),__webpack_require__.d(__webpack_exports__,"VanillaRenderer",function(){return VanillaRenderer}),__webpack_require__.d(__webpack_exports__,"Viewport",function(){return Viewport}),__webpack_require__.d(__webpack_exports__,"VirtualElementProvider",function(){return VirtualElementProvider}),__webpack_require__.d(__webpack_exports__,"VirtualManager",function(){return VirtualManager}),__webpack_require__.d(__webpack_exports__,"VirtualPanel",function(){return VirtualPanel}),__webpack_require__.d(__webpack_exports__,"VirtualRenderingStrategy",function(){return VirtualRenderingStrategy}),__webpack_require__.d(__webpack_exports__,"checkExistence",function(){return checkExistence}),__webpack_require__.d(__webpack_exports__,"circulateIndex",function(){return circulateIndex}),__webpack_require__.d(__webpack_exports__,"circulatePosition",function(){return circulatePosition}),__webpack_require__.d(__webpack_exports__,"clamp",function(){return clamp}),__webpack_require__.d(__webpack_exports__,"default",function(){return Flicking}),__webpack_require__.d(__webpack_exports__,"find",function(){return find}),__webpack_require__.d(__webpack_exports__,"findIndex",function(){return findIndex}),__webpack_require__.d(__webpack_exports__,"findRight",function(){return findRight}),__webpack_require__.d(__webpack_exports__,"getDefaultCameraTransform",function(){return getDefaultCameraTransform}),__webpack_require__.d(__webpack_exports__,"getDirection",function(){return getDirection}),__webpack_require__.d(__webpack_exports__,"getElement",function(){return getElement}),__webpack_require__.d(__webpack_exports__,"getElementSize",function(){return getElementSize}),__webpack_require__.d(__webpack_exports__,"getFlickingAttached",function(){return getFlickingAttached}),__webpack_require__.d(__webpack_exports__,"getMinusCompensatedIndex",function(){return getMinusCompensatedIndex}),__webpack_require__.d(__webpack_exports__,"getProgress",function(){return getProgress}),__webpack_require__.d(__webpack_exports__,"getRenderingPanels",function(){return getRenderingPanels}),__webpack_require__.d(__webpack_exports__,"getStyle",function(){return getStyle}),__webpack_require__.d(__webpack_exports__,"includes",function(){return includes}),__webpack_require__.d(__webpack_exports__,"isBetween",function(){return isBetween}),__webpack_require__.d(__webpack_exports__,"isString",function(){return isString}),__webpack_require__.d(__webpack_exports__,"merge",function(){return merge}),__webpack_require__.d(__webpack_exports__,"parseAlign",function(){return parseAlign$1}),__webpack_require__.d(__webpack_exports__,"parseArithmeticExpression",function(){return parseArithmeticExpression}),__webpack_require__.d(__webpack_exports__,"parseArithmeticSize",function(){return parseArithmeticSize}),__webpack_require__.d(__webpack_exports__,"parseBounce",function(){return parseBounce}),__webpack_require__.d(__webpack_exports__,"parseCSSSizeValue",function(){return parseCSSSizeValue}),__webpack_require__.d(__webpack_exports__,"parseElement",function(){return parseElement}),__webpack_require__.d(__webpack_exports__,"parsePanelAlign",function(){return parsePanelAlign}),__webpack_require__.d(__webpack_exports__,"range",function(){return range}),__webpack_require__.d(__webpack_exports__,"setPrototypeOf",function(){return setPrototypeOf}),__webpack_require__.d(__webpack_exports__,"setSize",function(){return setSize}),__webpack_require__.d(__webpack_exports__,"sync",function(){return sync}),__webpack_require__.d(__webpack_exports__,"toArray",function(){return toArray}),__webpack_require__.d(__webpack_exports__,"withFlickingMethods",function(){return withFlickingMethods});var _egjs_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("iOY6"),_egjs_component__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_egjs_component__WEBPACK_IMPORTED_MODULE_0__),_egjs_axes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("9EcR"),_egjs_axes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_egjs_axes__WEBPACK_IMPORTED_MODULE_1__),_egjs_imready__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("QnJr"),_egjs_imready__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_egjs_imready__WEBPACK_IMPORTED_MODULE_2__),extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}var STATE_TYPE,CODE={WRONG_TYPE:0,ELEMENT_NOT_FOUND:1,VAL_MUST_NOT_NULL:2,NOT_ATTACHED_TO_FLICKING:3,WRONG_OPTION:4,INDEX_OUT_OF_RANGE:5,POSITION_NOT_REACHABLE:6,TRANSFORM_NOT_SUPPORTED:7,STOP_CALLED_BY_USER:8,ANIMATION_INTERRUPTED:9,ANIMATION_ALREADY_PLAYING:10,NOT_ALLOWED_IN_FRAMEWORK:11,NOT_INITIALIZED:12,NO_ACTIVE:13,NOT_ALLOWED_IN_VIRTUAL:14},MESSAGE_WRONG_TYPE=function(wrongVal,correctTypes){return wrongVal+"("+typeof wrongVal+") is not a "+correctTypes.map(function(type){return'"'+type+'"'}).join(" or ")+"."},MESSAGE_ELEMENT_NOT_FOUND=function(selector){return'Element with selector "'+selector+'" not found.'},MESSAGE_VAL_MUST_NOT_NULL=function(val,name){return name+" should be provided. Given: "+val},MESSAGE_NOT_ATTACHED_TO_FLICKING='This module is not attached to the Flicking instance. "init()" should be called first.',MESSAGE_WRONG_OPTION=function(optionName,val){return'Option "'+optionName+'" is not in correct format, given: '+val},MESSAGE_INDEX_OUT_OF_RANGE=function(val,min,max){return'Index "'+val+'" is out of range: should be between '+min+" and "+max+"."},MESSAGE_POSITION_NOT_REACHABLE=function(position){return'Position "'+position+'" is not reachable.'},MESSAGE_TRANSFORM_NOT_SUPPORTED="Browser does not support CSS transform.",MESSAGE_STOP_CALLED_BY_USER="Event stop() is called by user.",MESSAGE_ANIMATION_INTERRUPTED="Animation is interrupted by user input.",MESSAGE_ANIMATION_ALREADY_PLAYING="Animation is already playing.",MESSAGE_NOT_ALLOWED_IN_FRAMEWORK="This behavior is not allowed in the frameworks like React, Vue, or Angular.",MESSAGE_NOT_INITIALIZED="Flicking is not initialized yet, call init() first.",EVENTS={READY:"ready",BEFORE_RESIZE:"beforeResize",AFTER_RESIZE:"afterResize",HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",WILL_CHANGE:"willChange",CHANGED:"changed",WILL_RESTORE:"willRestore",RESTORED:"restored",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",REACH_EDGE:"reachEdge",PANEL_CHANGE:"panelChange"},ALIGN={PREV:"prev",CENTER:"center",NEXT:"next"},DIRECTION={PREV:"PREV",NEXT:"NEXT",NONE:null},MOVE_TYPE={SNAP:"snap",FREE_SCROLL:"freeScroll",STRICT:"strict"},CLASS={VERTICAL:"vertical",HIDDEN:"flicking-hidden",DEFAULT_VIRTUAL:"flicking-panel"},CIRCULAR_FALLBACK={LINEAR:"linear",BOUND:"bound"},merge=function(target){for(var sources=[],_i=1;_i<arguments.length;_i++)sources[_i-1]=arguments[_i];return sources.forEach(function(source){Object.keys(source).forEach(function(key){target[key]=source[key]})}),target},getElement=function(el,parent){var targetEl=null;if(isString(el)){var queryResult=(parent||document).querySelector(el);if(!queryResult)throw new FlickingError(MESSAGE_ELEMENT_NOT_FOUND(el),CODE.ELEMENT_NOT_FOUND);targetEl=queryResult}else el&&el.nodeType===Node.ELEMENT_NODE&&(targetEl=el);if(!targetEl)throw new FlickingError(MESSAGE_WRONG_TYPE(el,["HTMLElement","string"]),CODE.WRONG_TYPE);return targetEl},checkExistence=function(value,nameOnErrMsg){if(null==value)throw new FlickingError(MESSAGE_VAL_MUST_NOT_NULL(value,nameOnErrMsg),CODE.VAL_MUST_NOT_NULL)},clamp=function(x,min,max){return Math.max(Math.min(x,max),min)},getFlickingAttached=function(val){if(!val)throw new FlickingError(MESSAGE_NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING);return val},toArray=function(iterable){return[].slice.call(iterable)},parseAlign$1=function(align,size){var alignPoint;if(isString(align))switch(align){case ALIGN.PREV:alignPoint=0;break;case ALIGN.CENTER:alignPoint=.5*size;break;case ALIGN.NEXT:alignPoint=size;break;default:if(null==(alignPoint=parseArithmeticSize(align,size)))throw new FlickingError(MESSAGE_WRONG_OPTION("align",align),CODE.WRONG_OPTION)}else alignPoint=align;return alignPoint},parseBounce=function(bounce,size){var parsedBounce;if(Array.isArray(bounce))parsedBounce=bounce.map(function(val){return parseArithmeticSize(val,size)});else{var parsedVal=parseArithmeticSize(bounce,size);parsedBounce=[parsedVal,parsedVal]}return parsedBounce.map(function(val){if(null==val)throw new FlickingError(MESSAGE_WRONG_OPTION("bounce",bounce),CODE.WRONG_OPTION);return val})},parseArithmeticSize=function(cssValue,base){var parsed=parseArithmeticExpression(cssValue);return null==parsed?null:parsed.percentage*base+parsed.absolute},parseArithmeticExpression=function(cssValue){var cssRegex=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if("number"==typeof cssValue)return{percentage:0,absolute:cssValue};for(var parsed={percentage:0,absolute:0},idx=0,matchResult=cssRegex.exec(cssValue);null!=matchResult;){var sign=matchResult[1],value=matchResult[2],unit=matchResult[3],parsedValue=parseFloat(value);if(idx<=0&&(sign=sign||"+"),!sign)return null;var signMultiplier="+"===sign?1:-1;"%"===unit?parsed.percentage+=signMultiplier*(parsedValue/100):parsed.absolute+=signMultiplier*parsedValue,++idx,matchResult=cssRegex.exec(cssValue)}return 0===idx?null:parsed},parseCSSSizeValue=function(val){return isString(val)?val:val+"px"},parsePanelAlign=function(align){return"object"==typeof align?align.panel:align},getDirection=function(start,end){return start===end?DIRECTION.NONE:start<end?DIRECTION.NEXT:DIRECTION.PREV},parseElement=function(element){Array.isArray(element)||(element=[element]);var elements=[];return element.forEach(function(el){if(isString(el)){var tempDiv=document.createElement("div");for(tempDiv.innerHTML=el,elements.push.apply(elements,__spread(toArray(tempDiv.children)));tempDiv.firstChild;)tempDiv.removeChild(tempDiv.firstChild)}else{if(!el||el.nodeType!==Node.ELEMENT_NODE)throw new FlickingError(MESSAGE_WRONG_TYPE(el,["HTMLElement","string"]),CODE.WRONG_TYPE);elements.push(el)}}),elements},getMinusCompensatedIndex=function(idx,max){return clamp(idx<0?idx+max:idx,0,max)},includes=function(array,target){var e_1,_a;try{for(var array_1=__values(array),array_1_1=array_1.next();!array_1_1.done;array_1_1=array_1.next()){if(array_1_1.value===target)return!0}}catch(e_1_1){e_1={error:e_1_1}}finally{try{array_1_1&&!array_1_1.done&&(_a=array_1.return)&&_a.call(array_1)}finally{if(e_1)throw e_1.error}}return!1},isString=function(val){return"string"==typeof val},circulatePosition=function(pos,min,max){var size=max-min;if(pos<min)pos=max-(min-pos)%size;else if(pos>max){pos=min+(pos-max)%size}return pos},find=function(array,checker){var e_2,_a;try{for(var array_2=__values(array),array_2_1=array_2.next();!array_2_1.done;array_2_1=array_2.next()){var val=array_2_1.value;if(checker(val))return val}}catch(e_2_1){e_2={error:e_2_1}}finally{try{array_2_1&&!array_2_1.done&&(_a=array_2.return)&&_a.call(array_2)}finally{if(e_2)throw e_2.error}}return null},findRight=function(array,checker){for(var idx=array.length-1;idx>=0;idx--){var val=array[idx];if(checker(val))return val}return null},findIndex=function(array,checker){for(var idx=0;idx<array.length;idx++)if(checker(array[idx]))return idx;return-1},getProgress=function(pos,prev,next){return(pos-prev)/(next-prev)},getStyle=function(el){return window.getComputedStyle(el)||el.currentStyle},setSize=function(el,_a){var width=_a.width,height=_a.height;null!=width&&(isString(width)?el.style.width=width:el.style.width=width+"px"),null!=height&&(isString(height)?el.style.height=height:el.style.height=height+"px")},isBetween=function(val,min,max){return val>=min&&val<=max},circulateIndex=function(index,max){return index>=max?index%max:index<0?getMinusCompensatedIndex((index+1)%max-1,max):index},range=function(end){for(var arr=new Array(end),i=0;i<end;i++)arr[i]=i;return arr},getElementSize=function(_a){var el=_a.el,horizontal=_a.horizontal,useFractionalSize=_a.useFractionalSize,useOffset=_a.useOffset,style=_a.style;if(useFractionalSize){var baseSize=parseFloat(horizontal?style.width:style.height),isBorderBoxSizing="border-box"===style.boxSizing,border=horizontal?parseFloat(style.borderLeftWidth||"0")+parseFloat(style.borderRightWidth||"0"):parseFloat(style.borderTopWidth||"0")+parseFloat(style.borderBottomWidth||"0");if(isBorderBoxSizing)return useOffset?baseSize:baseSize-border;var padding=horizontal?parseFloat(style.paddingLeft||"0")+parseFloat(style.paddingRight||"0"):parseFloat(style.paddingTop||"0")+parseFloat(style.paddingBottom||"0");return useOffset?baseSize+padding+border:baseSize+padding}var sizeStr=horizontal?"Width":"Height";return useOffset?el["offset"+sizeStr]:el["client"+sizeStr]},setPrototypeOf=Object.setPrototypeOf||function(obj,proto){return obj.__proto__=proto,obj},FlickingError=function(_super){function FlickingError(message,code){var _this=_super.call(this,message)||this;return setPrototypeOf(_this,FlickingError.prototype),_this.name="FlickingError",_this.code=code,_this}return __extends(FlickingError,_super),FlickingError}(Error),Viewport=function(){function Viewport(flicking,el){this._flicking=flicking,this._el=el,this._width=0,this._height=0,this._padding={left:0,right:0,top:0,bottom:0},this._isBorderBoxSizing=!1}var __proto=Viewport.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"width",{get:function(){return this._width-this._padding.left-this._padding.right},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"height",{get:function(){return this._height-this._padding.top-this._padding.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"padding",{get:function(){return this._padding},enumerable:!1,configurable:!0}),__proto.setSize=function(_a){var width=_a.width,height=_a.height,el=this._el,padding=this._padding,isBorderBoxSizing=this._isBorderBoxSizing;if(null!=width)if(isString(width))el.style.width=width;else{var newWidth=isBorderBoxSizing?width+padding.left+padding.right:width;el.style.width=newWidth+"px"}if(null!=height)if(isString(height))el.style.height=height;else{var newHeight=isBorderBoxSizing?height+padding.top+padding.bottom:height;el.style.height=newHeight+"px"}this.resize()},__proto.resize=function(){var el=this._el,elStyle=getStyle(el),useFractionalSize=this._flicking.useFractionalSize;this._width=getElementSize({el:el,horizontal:!0,useFractionalSize:useFractionalSize,useOffset:!1,style:elStyle}),this._height=getElementSize({el:el,horizontal:!1,useFractionalSize:useFractionalSize,useOffset:!1,style:elStyle}),this._padding={left:elStyle.paddingLeft?parseFloat(elStyle.paddingLeft):0,right:elStyle.paddingRight?parseFloat(elStyle.paddingRight):0,top:elStyle.paddingTop?parseFloat(elStyle.paddingTop):0,bottom:elStyle.paddingBottom?parseFloat(elStyle.paddingBottom):0},this._isBorderBoxSizing="border-box"===elStyle.boxSizing},Viewport}(),AutoResizer=function(){function AutoResizer(flicking){var isFirstResize,_this=this;this._onResize=function(){var flicking=_this._flicking,resizeDebounce=flicking.resizeDebounce,maxResizeDebounce=flicking.maxResizeDebounce;resizeDebounce<=0?flicking.resize():(_this._maxResizeDebounceTimer<=0&&maxResizeDebounce>0&&maxResizeDebounce>=resizeDebounce&&(_this._maxResizeDebounceTimer=window.setTimeout(_this._doScheduledResize,maxResizeDebounce)),_this._resizeTimer>0&&(clearTimeout(_this._resizeTimer),_this._resizeTimer=0),_this._resizeTimer=window.setTimeout(_this._doScheduledResize,resizeDebounce))},this._doScheduledResize=function(){clearTimeout(_this._resizeTimer),clearTimeout(_this._maxResizeDebounceTimer),_this._maxResizeDebounceTimer=-1,_this._resizeTimer=-1,_this._flicking.resize()},this._skipFirstResize=(isFirstResize=!0,function(){isFirstResize?isFirstResize=!1:_this._onResize()}),this._flicking=flicking,this._enabled=!1,this._resizeObserver=null,this._resizeTimer=-1,this._maxResizeDebounceTimer=-1}var __proto=AutoResizer.prototype;return Object.defineProperty(__proto,"enabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),__proto.enable=function(){var flicking=this._flicking,viewport=flicking.viewport;if(this._enabled&&this.disable(),flicking.useResizeObserver&&window.ResizeObserver){var resizeObserver=0!==viewport.width||0!==viewport.height?new ResizeObserver(this._skipFirstResize):new ResizeObserver(this._onResize);resizeObserver.observe(flicking.viewport.element),this._resizeObserver=resizeObserver}else window.addEventListener("resize",this._onResize);return this._enabled=!0,this},__proto.disable=function(){if(!this._enabled)return this;var resizeObserver=this._resizeObserver;return resizeObserver?(resizeObserver.disconnect(),this._resizeObserver=null):window.removeEventListener("resize",this._onResize),this._enabled=!1,this},AutoResizer}(),VanillaElementProvider=function(){function VanillaElementProvider(element){this._element=element,this._rendered=!0}var __proto=VanillaElementProvider.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),__proto.show=function(flicking){var el=this.element,cameraEl=flicking.camera.element;el.parentElement!==cameraEl&&(cameraEl.appendChild(el),this._rendered=!0)},__proto.hide=function(flicking){var el=this.element,cameraEl=flicking.camera.element;el.parentElement===cameraEl&&(cameraEl.removeChild(el),this._rendered=!1)},VanillaElementProvider}(),VirtualElementProvider=function(){function VirtualElementProvider(flicking){this._flicking=flicking}var __proto=VirtualElementProvider.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._virtualElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rendered",{get:function(){return this._virtualElement.visible},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"_virtualElement",{get:function(){var flicking=this._flicking,elIndex=this._panel.elementIndex;return flicking.virtual.elements[elIndex]},enumerable:!1,configurable:!0}),__proto.init=function(panel){this._panel=panel},__proto.show=function(){},__proto.hide=function(){},VirtualElementProvider}(),VirtualManager=function(){function VirtualManager(flicking,options){var _a,_b,_c,_d;this._flicking=flicking,this._renderPanel=null!==(_a=null==options?void 0:options.renderPanel)&&void 0!==_a?_a:function(){return""},this._initialPanelCount=null!==(_b=null==options?void 0:options.initialPanelCount)&&void 0!==_b?_b:-1,this._cache=null!==(_c=null==options?void 0:options.cache)&&void 0!==_c&&_c,this._panelClass=null!==(_d=null==options?void 0:options.panelClass)&&void 0!==_d?_d:CLASS.DEFAULT_VIRTUAL,this._elements=[]}var __proto=VirtualManager.prototype;return Object.defineProperty(__proto,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderPanel",{get:function(){return this._renderPanel},set:function(val){this._renderPanel=val,this._flicking.renderer.panels.forEach(function(panel){return panel.uncacheRenderResult()})},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"initialPanelCount",{get:function(){return this._initialPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"cache",{get:function(){return this._cache},set:function(val){this._cache=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panelClass",{get:function(){return this._panelClass},set:function(val){this._panelClass=val},enumerable:!1,configurable:!0}),__proto.init=function(){var flicking=this._flicking;if(flicking.virtualEnabled){flicking.externalRenderer||flicking.renderExternal||this._initVirtualElements();var virtualElements=flicking.camera.children;this._elements=virtualElements.map(function(el){return{nativeElement:el,visible:!0}})}},__proto.show=function(index){var el=this._elements[index],nativeEl=el.nativeElement;el.visible=!0,nativeEl.style.display&&(nativeEl.style.display="")},__proto.hide=function(index){var el=this._elements[index],nativeEl=el.nativeElement;el.visible=!1,nativeEl.style.display="none"},__proto.append=function(count){void 0===count&&(count=1);var flicking=this._flicking;return this.insert(flicking.panels.length,count)},__proto.prepend=function(count){return void 0===count&&(count=1),this.insert(0,count)},__proto.insert=function(index,count){return void 0===count&&(count=1),count<=0?[]:this._flicking.renderer.batchInsert({index:index,elements:range(count),hasDOMInElements:!1})},__proto.remove=function(index,count){return count<=0?[]:this._flicking.renderer.batchRemove({index:index,deleteCount:count,hasDOMInElements:!1})},__proto._initVirtualElements=function(){var _this=this,flicking=this._flicking,cameraElement=flicking.camera.element,panelsPerView=flicking.panelsPerView,fragment=document.createDocumentFragment();range(panelsPerView+1).map(function(idx){var panelEl=document.createElement("div");return panelEl.className=_this._panelClass,panelEl.dataset.elementIndex=idx.toString(),panelEl}).forEach(function(el){fragment.appendChild(el)}),cameraElement.appendChild(fragment)},VirtualManager}(),EVENT={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"};!function(STATE_TYPE){STATE_TYPE[STATE_TYPE.IDLE=0]="IDLE",STATE_TYPE[STATE_TYPE.HOLDING=1]="HOLDING",STATE_TYPE[STATE_TYPE.DRAGGING=2]="DRAGGING",STATE_TYPE[STATE_TYPE.ANIMATING=3]="ANIMATING",STATE_TYPE[STATE_TYPE.DISABLED=4]="DISABLED"}(STATE_TYPE||(STATE_TYPE={}));var State=function(){function State(){this._delta=0,this._targetPanel=null}var __proto=State.prototype;return Object.defineProperty(__proto,"delta",{get:function(){return this._delta},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"targetPanel",{get:function(){return this._targetPanel},set:function(val){this._targetPanel=val},enumerable:!1,configurable:!0}),__proto.onEnter=function(prevState){this._delta=prevState._delta,this._targetPanel=prevState._targetPanel},__proto.onHold=function(ctx){},__proto.onChange=function(ctx){},__proto.onRelease=function(ctx){},__proto.onAnimationEnd=function(ctx){},__proto.onFinish=function(ctx){},__proto._moveToChangedPosition=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo,delta=axesEvent.delta.flick;if(delta){this._delta+=delta;var camera=flicking.camera,prevPosition=camera.position,position=axesEvent.pos.flick,newPosition=flicking.circularEnabled?circulatePosition(position,camera.range.min,camera.range.max):position;camera.lookAt(newPosition);var moveEvent=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.MOVE,{isTrusted:axesEvent.isTrusted,holding:this.holding,direction:getDirection(0,axesEvent.delta.flick),axesEvent:axesEvent});flicking.trigger(moveEvent),moveEvent.isCanceled()&&(camera.lookAt(prevPosition),transitTo(STATE_TYPE.DISABLED))}},State}(),IdleState=function(_super){function IdleState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.holding=!1,_this.animating=!1,_this}__extends(IdleState,_super);var __proto=IdleState.prototype;return __proto.onEnter=function(){this._delta=0,this._targetPanel=null},__proto.onHold=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo;if(flicking.renderer.panelCount<=0)transitTo(STATE_TYPE.DISABLED);else{var holdStartEvent=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.HOLD_START,{axesEvent:axesEvent});flicking.trigger(holdStartEvent),holdStartEvent.isCanceled()?transitTo(STATE_TYPE.DISABLED):transitTo(STATE_TYPE.HOLDING)}},__proto.onChange=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo,animatingContext=flicking.control.controller.animatingContext,moveStartEvent=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.MOVE_START,{isTrusted:axesEvent.isTrusted,holding:this.holding,direction:getDirection(animatingContext.start,animatingContext.end),axesEvent:axesEvent});flicking.trigger(moveStartEvent),moveStartEvent.isCanceled()?transitTo(STATE_TYPE.DISABLED):transitTo(STATE_TYPE.ANIMATING).onChange(ctx)},IdleState}(State),HoldingState=function(_super){function HoldingState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.holding=!0,_this.animating=!1,_this._releaseEvent=null,_this}__extends(HoldingState,_super);var __proto=HoldingState.prototype;return __proto.onChange=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo,inputEvent=axesEvent.inputEvent,offset=flicking.horizontal?inputEvent.offsetX:inputEvent.offsetY,moveStartEvent=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.MOVE_START,{isTrusted:axesEvent.isTrusted,holding:this.holding,direction:getDirection(0,-offset),axesEvent:axesEvent});flicking.trigger(moveStartEvent),moveStartEvent.isCanceled()?transitTo(STATE_TYPE.DISABLED):transitTo(STATE_TYPE.DRAGGING).onChange(ctx)},__proto.onRelease=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo;if(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.HOLD_END,{axesEvent:axesEvent})),0!==axesEvent.delta.flick)return axesEvent.setTo({flick:flicking.camera.position},0),void transitTo(STATE_TYPE.IDLE);this._releaseEvent=axesEvent},__proto.onFinish=function(ctx){var e_1,_a,flicking=ctx.flicking;if((0,ctx.transitTo)(STATE_TYPE.IDLE),this._releaseEvent){var clickedElement,srcEvent=this._releaseEvent.inputEvent.srcEvent;if("touchend"===srcEvent.type){var touch=srcEvent.changedTouches[0];clickedElement=document.elementFromPoint(touch.clientX,touch.clientY)}else clickedElement=srcEvent.target;var panels=flicking.renderer.panels,clickedPanel=null;try{for(var panels_1=__values(panels),panels_1_1=panels_1.next();!panels_1_1.done;panels_1_1=panels_1.next()){var panel=panels_1_1.value;if(panel.contains(clickedElement)){clickedPanel=panel;break}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{panels_1_1&&!panels_1_1.done&&(_a=panels_1.return)&&_a.call(panels_1)}finally{if(e_1)throw e_1.error}}if(clickedPanel){var cameraPosition=flicking.camera.position,clickedPanelPosition=clickedPanel.position;flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.SELECT,{index:clickedPanel.index,panel:clickedPanel,direction:getDirection(cameraPosition,clickedPanelPosition)}))}}},HoldingState}(State),DraggingState=function(_super){function DraggingState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.holding=!0,_this.animating=!0,_this}__extends(DraggingState,_super);var __proto=DraggingState.prototype;return __proto.onChange=function(ctx){this._moveToChangedPosition(ctx)},__proto.onRelease=function(ctx){var _a,flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo;if(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.HOLD_END,{axesEvent:axesEvent})),flicking.renderer.panelCount<=0)transitTo(STATE_TYPE.IDLE);else{transitTo(STATE_TYPE.ANIMATING);var control=flicking.control,position=axesEvent.destPos.flick,duration=Math.max(axesEvent.duration,flicking.duration);try{control.moveToPosition(position,duration,axesEvent)}catch(err){transitTo(STATE_TYPE.IDLE),axesEvent.setTo(((_a={}).flick=flicking.camera.position,_a),0)}}},DraggingState}(State),AnimatingState=function(_super){function AnimatingState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.holding=!1,_this.animating=!0,_this}__extends(AnimatingState,_super);var __proto=AnimatingState.prototype;return __proto.onHold=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo,targetPanel=this._targetPanel,control=flicking.control;this._delta=0,flicking.control.updateInput(),flicking.changeOnHold&&targetPanel&&control.setActive(targetPanel,control.activePanel,axesEvent.isTrusted);var holdStartEvent=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.HOLD_START,{axesEvent:axesEvent});flicking.trigger(holdStartEvent),holdStartEvent.isCanceled()?transitTo(STATE_TYPE.DISABLED):transitTo(STATE_TYPE.DRAGGING)},__proto.onChange=function(ctx){this._moveToChangedPosition(ctx)},__proto.onFinish=function(ctx){var flicking=ctx.flicking,axesEvent=ctx.axesEvent,transitTo=ctx.transitTo,control=flicking.control,animatingContext=control.controller.animatingContext;transitTo(STATE_TYPE.IDLE),flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.MOVE_END,{isTrusted:axesEvent.isTrusted,direction:getDirection(animatingContext.start,animatingContext.end),axesEvent:axesEvent}));var targetPanel=this._targetPanel;targetPanel&&control.setActive(targetPanel,control.activePanel,axesEvent.isTrusted)},AnimatingState}(State),DisabledState=function(_super){function DisabledState(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.holding=!1,_this.animating=!0,_this}__extends(DisabledState,_super);var __proto=DisabledState.prototype;return __proto.onAnimationEnd=function(ctx){(0,ctx.transitTo)(STATE_TYPE.IDLE)},__proto.onChange=function(ctx){var axesEvent=ctx.axesEvent,transitTo=ctx.transitTo;axesEvent.stop(),transitTo(STATE_TYPE.IDLE)},__proto.onRelease=function(ctx){var axesEvent=ctx.axesEvent,transitTo=ctx.transitTo;0===axesEvent.delta.flick&&transitTo(STATE_TYPE.IDLE)},DisabledState}(State),StateMachine=function(){function StateMachine(){var _this=this;this.transitTo=function(nextStateType){var nextState;switch(nextStateType){case STATE_TYPE.IDLE:nextState=new IdleState;break;case STATE_TYPE.HOLDING:nextState=new HoldingState;break;case STATE_TYPE.DRAGGING:nextState=new DraggingState;break;case STATE_TYPE.ANIMATING:nextState=new AnimatingState;break;case STATE_TYPE.DISABLED:nextState=new DisabledState}return nextState.onEnter(_this._state),_this._state=nextState,_this._state},this._state=new IdleState}var __proto=StateMachine.prototype;return Object.defineProperty(__proto,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),__proto.fire=function(eventType,externalCtx){var currentState=this._state,ctx=__assign(__assign({},externalCtx),{transitTo:this.transitTo});switch(eventType){case EVENT.HOLD:currentState.onHold(ctx);break;case EVENT.CHANGE:currentState.onChange(ctx);break;case EVENT.RELEASE:currentState.onRelease(ctx);break;case EVENT.ANIMATION_END:currentState.onAnimationEnd(ctx);break;case EVENT.FINISH:currentState.onFinish(ctx)}},StateMachine}(),AxesController=function(){function AxesController(){var _this=this;this._onAxesHold=function(){_this._dragged=!1},this._onAxesChange=function(){var _a;_this._dragged=!!(null===(_a=_this._panInput)||void 0===_a?void 0:_a.isEnabled())},this._preventClickWhenDragged=function(e){_this._dragged&&(e.preventDefault(),e.stopPropagation()),_this._dragged=!1},this._resetInternalValues(),this._stateMachine=new StateMachine}var __proto=AxesController.prototype;return Object.defineProperty(__proto,"axes",{get:function(){return this._axes},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"stateMachine",{get:function(){return this._stateMachine},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"state",{get:function(){return this._stateMachine.state},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"animatingContext",{get:function(){return this._animatingContext},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"controlParams",{get:function(){var axes=this._axes;if(!axes)return{range:{min:0,max:0},position:0,circular:!1};var axis=axes.axis.flick;return{range:{min:axis.range[0],max:axis.range[1]},circular:axis.circular[0],position:this.position}},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"enabled",{get:function(){var _a,_b;return null!==(_b=null===(_a=this._panInput)||void 0===_a?void 0:_a.isEnabled())&&void 0!==_b&&_b},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"position",{get:function(){var _a,_b;return null!==(_b=null===(_a=this._axes)||void 0===_a?void 0:_a.get(["flick"]).flick)&&void 0!==_b?_b:0},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"range",{get:function(){var _a,_b;return null!==(_b=null===(_a=this._axes)||void 0===_a?void 0:_a.axis.flick.range)&&void 0!==_b?_b:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"bounce",{get:function(){var _a;return null===(_a=this._axes)||void 0===_a?void 0:_a.axis.flick.bounce},enumerable:!1,configurable:!0}),__proto.init=function(flicking){var _a,_this=this;this._flicking=flicking,this._axes=new _egjs_axes__WEBPACK_IMPORTED_MODULE_1___default.a(((_a={}).flick={range:[0,0],circular:!1,bounce:[0,0]},_a),{deceleration:flicking.deceleration,interruptable:flicking.interruptable,nested:flicking.nested,easing:flicking.easing}),this._panInput=new _egjs_axes__WEBPACK_IMPORTED_MODULE_1__.PanInput(flicking.viewport.element,{inputType:flicking.inputType,iOSEdgeSwipeThreshold:flicking.iOSEdgeSwipeThreshold,scale:flicking.horizontal?[-1,0]:[0,-1],releaseOnScroll:!0});var axes=this._axes;axes.connect(flicking.horizontal?["flick",""]:["","flick"],this._panInput);var _loop_1=function(key){var eventType=EVENT[key];axes.on(eventType,function(e){_this._stateMachine.fire(eventType,{flicking:flicking,axesEvent:e})})};for(var key in EVENT)_loop_1(key);return this},__proto.destroy=function(){var _a;this._axes&&(this.removePreventClickHandler(),this._axes.destroy()),null===(_a=this._panInput)||void 0===_a||_a.destroy(),this._resetInternalValues()},__proto.enable=function(){var _a;return null===(_a=this._panInput)||void 0===_a||_a.enable(),this},__proto.disable=function(){var _a;return null===(_a=this._panInput)||void 0===_a||_a.disable(),this},__proto.update=function(controlParams){var _a,flicking=getFlickingAttached(this._flicking),camera=flicking.camera,axes=this._axes,axis=axes.axis.flick;return axis.circular=[controlParams.circular,controlParams.circular],axis.range=[controlParams.range.min,controlParams.range.max],axis.bounce=parseBounce(flicking.bounce,camera.size),axes.axisManager.set(((_a={}).flick=controlParams.position,_a)),this},__proto.addPreventClickHandler=function(){var flicking=getFlickingAttached(this._flicking),axes=this._axes,cameraEl=flicking.camera.element;return axes.on(EVENT.HOLD,this._onAxesHold),axes.on(EVENT.CHANGE,this._onAxesChange),cameraEl.addEventListener("click",this._preventClickWhenDragged,!0),this},__proto.removePreventClickHandler=function(){var flicking=getFlickingAttached(this._flicking),axes=this._axes,cameraEl=flicking.camera.element;return axes.off(EVENT.HOLD,this._onAxesHold),axes.off(EVENT.CHANGE,this._onAxesChange),cameraEl.removeEventListener("click",this._preventClickWhenDragged,!0),this},__proto.animateTo=function(position,duration,axesEvent){var _a,_b,_this=this,axes=this._axes,state=this._stateMachine.state;if(!axes)return Promise.reject(new FlickingError(MESSAGE_NOT_ATTACHED_TO_FLICKING,CODE.NOT_ATTACHED_TO_FLICKING));var startPos=axes.get(["flick"]).flick;if(startPos===position)return(flicking=getFlickingAttached(this._flicking)).camera.lookAt(position),state.targetPanel&&flicking.control.setActive(state.targetPanel,flicking.control.activePanel,null!==(_b=null==axesEvent?void 0:axesEvent.isTrusted)&&void 0!==_b&&_b),Promise.resolve();this._animatingContext={start:startPos,end:position,offset:0};var animate=function(){var _a,_b;axes.once(EVENT.FINISH,function(){_this._animatingContext={start:0,end:0,offset:0}}),axesEvent?axesEvent.setTo(((_a={}).flick=position,_a),duration):axes.setTo(((_b={}).flick=position,_b),duration)};if(0===duration){var flicking,camera=(flicking=getFlickingAttached(this._flicking)).camera;animate();var newPos=flicking.circularEnabled?circulatePosition(position,camera.range.min,camera.range.max):position;return axes.axisManager.set(((_a={}).flick=newPos,_a)),Promise.resolve()}return new Promise(function(resolve,reject){var animationFinishHandler=function(){axes.off(EVENT.HOLD,interruptionHandler),resolve()},interruptionHandler=function(){axes.off(EVENT.FINISH,animationFinishHandler),reject(new FlickingError(MESSAGE_ANIMATION_INTERRUPTED,CODE.ANIMATION_INTERRUPTED))};axes.once(EVENT.FINISH,animationFinishHandler),axes.once(EVENT.HOLD,interruptionHandler),animate()})},__proto._resetInternalValues=function(){this._flicking=null,this._axes=null,this._panInput=null,this._animatingContext={start:0,end:0,offset:0},this._dragged=!1},AxesController}(),Control=function(){function Control(){this._flicking=null,this._controller=new AxesController,this._activePanel=null}var __proto=Control.prototype;return Object.defineProperty(__proto,"controller",{get:function(){return this._controller},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"activeIndex",{get:function(){var _a,_b;return null!==(_b=null===(_a=this._activePanel)||void 0===_a?void 0:_a.index)&&void 0!==_b?_b:-1},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"activePanel",{get:function(){return this._activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"animating",{get:function(){return this._controller.state.animating},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"holding",{get:function(){return this._controller.state.holding},enumerable:!1,configurable:!0}),__proto.init=function(flicking){return this._flicking=flicking,this._controller.init(flicking),this},__proto.destroy=function(){this._controller.destroy(),this._flicking=null,this._activePanel=null},__proto.enable=function(){return this._controller.enable(),this},__proto.disable=function(){return this._controller.disable(),this},__proto.updatePosition=function(progressInPanel){var camera=getFlickingAttached(this._flicking).camera,activePanel=this._activePanel;activePanel&&camera.lookAt(camera.clampToReachablePosition(activePanel.position))},__proto.updateInput=function(){var camera=getFlickingAttached(this._flicking).camera;return this._controller.update(camera.controlParams),this},__proto.resetActive=function(){return this._activePanel=null,this},__proto.moveToPanel=function(panel,_a){var duration=_a.duration,_b=_a.direction,direction=void 0===_b?DIRECTION.NONE:_b,axesEvent=_a.axesEvent;return __awaiter(this,void 0,void 0,function(){var flicking,camera,position,nearestAnchor,camPos_1,camRangeDiff,possiblePositions;return __generator(this,function(_c){return flicking=getFlickingAttached(this._flicking),camera=flicking.camera,position=panel.position,nearestAnchor=camera.findNearestAnchor(position),panel.removed||!nearestAnchor?[2,Promise.reject(new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(panel.position),CODE.POSITION_NOT_REACHABLE))]:(camera.canReach(panel)?flicking.circularEnabled&&(camPos_1=this._controller.position,camRangeDiff=camera.rangeDiff,possiblePositions=[position,position+camRangeDiff,position-camRangeDiff].filter(function(pos){return direction===DIRECTION.NONE||(direction===DIRECTION.PREV?pos<=camPos_1:pos>=camPos_1)}),position=possiblePositions.reduce(function(nearestPosition,pos){return Math.abs(camPos_1-pos)<Math.abs(camPos_1-nearestPosition)?pos:nearestPosition},1/0)):(position=nearestAnchor.position,panel=nearestAnchor.panel),this._triggerIndexChangeEvent(panel,panel.position,axesEvent),[2,this._animateToPosition({position:position,duration:duration,newActivePanel:panel,axesEvent:axesEvent})])})})},__proto.setActive=function(newActivePanel,prevActivePanel,isTrusted){var _a,flicking=getFlickingAttached(this._flicking);this._activePanel=newActivePanel,flicking.camera.updateAdaptiveHeight(),newActivePanel!==prevActivePanel?flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.CHANGED,{index:newActivePanel.index,panel:newActivePanel,prevIndex:null!==(_a=null==prevActivePanel?void 0:prevActivePanel.index)&&void 0!==_a?_a:-1,prevPanel:prevActivePanel,isTrusted:isTrusted,direction:prevActivePanel?getDirection(prevActivePanel.position,newActivePanel.position):DIRECTION.NONE})):flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.RESTORED,{isTrusted:isTrusted}))},__proto._triggerIndexChangeEvent=function(panel,position,axesEvent){var _a,flicking=getFlickingAttached(this._flicking),triggeringEvent=panel!==this._activePanel?EVENTS.WILL_CHANGE:EVENTS.WILL_RESTORE,camera=flicking.camera,activePanel=this._activePanel,event=new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(triggeringEvent,{index:panel.index,panel:panel,isTrusted:(null==axesEvent?void 0:axesEvent.isTrusted)||!1,direction:getDirection(null!==(_a=null==activePanel?void 0:activePanel.position)&&void 0!==_a?_a:camera.position,position)});if(flicking.trigger(event),event.isCanceled())throw new FlickingError(MESSAGE_STOP_CALLED_BY_USER,CODE.STOP_CALLED_BY_USER)},__proto._animateToPosition=function(_a){var position=_a.position,duration=_a.duration,newActivePanel=_a.newActivePanel,axesEvent=_a.axesEvent;return __awaiter(this,void 0,void 0,function(){var flicking,animate,_this=this;return __generator(this,function(_b){return flicking=getFlickingAttached(this._flicking),animate=function(){return _this._controller.animateTo(position,duration,axesEvent)},this._controller.state.targetPanel=newActivePanel,duration<=0?[2,animate()]:[2,animate().then(function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,flicking.renderer.render()];case 1:return _a.sent(),[2]}})})}).catch(function(err){if(!(axesEvent&&err instanceof FlickingError&&err.code===CODE.ANIMATION_INTERRUPTED))throw err})]})})},Control}(),AnchorPoint=function(){function AnchorPoint(_a){var index=_a.index,position=_a.position,panel=_a.panel;this._index=index,this._pos=position,this._panel=panel}var __proto=AnchorPoint.prototype;return Object.defineProperty(__proto,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"position",{get:function(){return this._pos},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panel",{get:function(){return this._panel},enumerable:!1,configurable:!0}),AnchorPoint}(),SnapControl=function(_super){function SnapControl(_a){var _b=(void 0===_a?{}:_a).count,count=void 0===_b?1/0:_b,_this=_super.call(this)||this;return _this._count=count,_this}__extends(SnapControl,_super);var __proto=SnapControl.prototype;return Object.defineProperty(__proto,"count",{get:function(){return this._count},set:function(val){this._count=val},enumerable:!1,configurable:!0}),__proto.moveToPosition=function(position,duration,axesEvent){var flicking=getFlickingAttached(this._flicking),camera=flicking.camera,activeAnchor=camera.findActiveAnchor(),anchorAtCamera=camera.findNearestAnchor(camera.position),state=this._controller.state;if(!activeAnchor||!anchorAtCamera)return Promise.reject(new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(position),CODE.POSITION_NOT_REACHABLE));var targetAnchor,snapThreshold=this._calcSnapThreshold(position,activeAnchor),posDelta=flicking.animating?state.delta:position-camera.position,absPosDelta=Math.abs(posDelta),snapDelta=axesEvent&&0!==axesEvent.delta.flick?Math.abs(axesEvent.delta.flick):absPosDelta;if(snapDelta>=snapThreshold&&snapDelta>0)targetAnchor=this._findSnappedAnchor(position,anchorAtCamera);else{if(!(absPosDelta>=flicking.threshold&&absPosDelta>0))return this.moveToPanel(activeAnchor.panel,{duration:duration,axesEvent:axesEvent});targetAnchor=this._findAdjacentAnchor(position,posDelta,anchorAtCamera)}return this._triggerIndexChangeEvent(targetAnchor.panel,position,axesEvent),this._animateToPosition({position:camera.clampToReachablePosition(targetAnchor.position),duration:duration,newActivePanel:targetAnchor.panel,axesEvent:axesEvent})},__proto._findSnappedAnchor=function(position,anchorAtCamera){var flicking=getFlickingAttached(this._flicking),camera=flicking.camera,count=this._count,currentPos=camera.position,clampedPosition=camera.clampToReachablePosition(position),anchorAtPosition=camera.findAnchorIncludePosition(clampedPosition);if(!anchorAtCamera||!anchorAtPosition)throw new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(position),CODE.POSITION_NOT_REACHABLE);if(!isFinite(count))return anchorAtPosition;var panelCount=flicking.panelCount,anchors=camera.anchorPoints,loopCount=Math.sign(position-currentPos)*Math.floor(Math.abs(position-currentPos)/camera.rangeDiff);position>currentPos&&anchorAtPosition.index<anchorAtCamera.index||anchorAtPosition.position>anchorAtCamera.position&&anchorAtPosition.index===anchorAtCamera.index?loopCount+=1:(position<currentPos&&anchorAtPosition.index>anchorAtCamera.index||anchorAtPosition.position<anchorAtCamera.position&&anchorAtPosition.index===anchorAtCamera.index)&&(loopCount-=1);var circularIndexOffset=loopCount*panelCount,anchorAtPositionIndex=anchorAtPosition.index+circularIndexOffset;if(Math.abs(anchorAtPositionIndex-anchorAtCamera.index)<=count){var anchor=anchors[anchorAtPosition.index];return new AnchorPoint({index:anchor.index,position:anchor.position+loopCount*camera.rangeDiff,panel:anchor.panel})}if(flicking.circularEnabled){var targetAnchor=anchors[circulateIndex(anchorAtCamera.index+Math.sign(position-currentPos)*count,panelCount)],loop=Math.floor(count/panelCount);return position>currentPos&&targetAnchor.index<anchorAtCamera.index?loop+=1:position<currentPos&&targetAnchor.index>anchorAtCamera.index&&(loop-=1),new AnchorPoint({index:targetAnchor.index,position:targetAnchor.position+loop*camera.rangeDiff,panel:targetAnchor.panel})}return anchors[clamp(anchorAtCamera.index+Math.sign(position-currentPos)*count,0,anchors.length-1)]},__proto._findAdjacentAnchor=function(position,posDelta,anchorAtCamera){var _a,camera=getFlickingAttached(this._flicking).camera;if(camera.circularEnabled){var anchorIncludePosition=camera.findAnchorIncludePosition(position);if(anchorIncludePosition&&anchorIncludePosition.position!==anchorAtCamera.position)return anchorIncludePosition}return null!==(_a=posDelta>0?camera.getNextAnchor(anchorAtCamera):camera.getPrevAnchor(anchorAtCamera))&&void 0!==_a?_a:anchorAtCamera},__proto._calcSnapThreshold=function(position,activeAnchor){var isNextDirection=position>activeAnchor.position,panel=activeAnchor.panel,panelSize=panel.size,alignPos=panel.alignPosition;return isNextDirection?panelSize-alignPos+panel.margin.next:alignPos+panel.margin.prev},SnapControl}(Control),FreeControl=function(_super){function FreeControl(_a){var _b=(void 0===_a?{}:_a).stopAtEdge,stopAtEdge=void 0===_b||_b,_this=_super.call(this)||this;return _this._stopAtEdge=stopAtEdge,_this}__extends(FreeControl,_super);var __proto=FreeControl.prototype;return Object.defineProperty(__proto,"stopAtEdge",{get:function(){return this._stopAtEdge},set:function(val){this._stopAtEdge=val},enumerable:!1,configurable:!0}),__proto.updatePosition=function(progressInPanel){var camera=getFlickingAttached(this._flicking).camera,activePanel=this._activePanel;if(activePanel){var panelRange=activePanel.range,newPosition=panelRange.min+(panelRange.max-panelRange.min)*progressInPanel;camera.lookAt(camera.clampToReachablePosition(newPosition))}},__proto.moveToPosition=function(position,duration,axesEvent){var camera=getFlickingAttached(this._flicking).camera,targetPos=camera.clampToReachablePosition(position),anchorAtPosition=camera.findAnchorIncludePosition(targetPos);if(!anchorAtPosition)return Promise.reject(new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(position),CODE.POSITION_NOT_REACHABLE));var targetPanel=anchorAtPosition.panel;return targetPanel!==this._activePanel&&this._triggerIndexChangeEvent(targetPanel,position,axesEvent),this._animateToPosition({position:this._stopAtEdge?targetPos:position,duration:duration,newActivePanel:targetPanel,axesEvent:axesEvent})},FreeControl}(Control),StrictControl=function(_super){function StrictControl(_a){var _b=(void 0===_a?{}:_a).count,count=void 0===_b?1:_b,_this=_super.call(this)||this;return _this.setActive=function(newActivePanel,prevActivePanel,isTrusted){_super.prototype.setActive.call(_this,newActivePanel,prevActivePanel,isTrusted),_this.updateInput()},_this._count=count,_this._resetIndexRange(),_this}__extends(StrictControl,_super);var __proto=StrictControl.prototype;return Object.defineProperty(__proto,"count",{get:function(){return this._count},set:function(val){this._count=val},enumerable:!1,configurable:!0}),__proto.destroy=function(){_super.prototype.destroy.call(this),this._resetIndexRange()},__proto.updateInput=function(){var _a,flicking=getFlickingAttached(this._flicking),camera=flicking.camera,renderer=flicking.renderer,controller=this._controller,controlParams=camera.controlParams,count=this._count,activePanel=controller.state.animating?null===(_a=camera.findNearestAnchor(camera.position))||void 0===_a?void 0:_a.panel:this._activePanel;if(!activePanel)return controller.update(controlParams),this._resetIndexRange(),this;var cameraRange=controlParams.range,currentPos=activePanel.position,currentIndex=activePanel.index,panelCount=renderer.panelCount,prevPanelIndex=currentIndex-count,nextPanelIndex=currentIndex+count;prevPanelIndex<0&&(prevPanelIndex=flicking.circularEnabled?getMinusCompensatedIndex((prevPanelIndex+1)%panelCount-1,panelCount):clamp(prevPanelIndex,0,panelCount-1)),nextPanelIndex>=panelCount&&(nextPanelIndex=flicking.circularEnabled?nextPanelIndex%panelCount:clamp(nextPanelIndex,0,panelCount-1));var prevPanel=renderer.panels[prevPanelIndex],nextPanel=renderer.panels[nextPanelIndex],prevPos=Math.max(prevPanel.position,cameraRange.min),nextPos=Math.min(nextPanel.position,cameraRange.max);return prevPos>currentPos&&(prevPos-=camera.rangeDiff),nextPos<currentPos&&(nextPos+=camera.rangeDiff),controlParams.range={min:prevPos,max:nextPos},controlParams.circular&&(controlParams.position<prevPos&&(controlParams.position+=camera.rangeDiff),controlParams.position>nextPos&&(controlParams.position-=camera.rangeDiff)),controlParams.circular=!1,controller.update(controlParams),this._indexRange={min:prevPanel.index,max:nextPanel.index},this},__proto.moveToPanel=function(panel,options){return __awaiter(this,void 0,void 0,function(){var flicking,camera;return __generator(this,function(_a){return flicking=getFlickingAttached(this._flicking),camera=flicking.camera,this._controller.update(camera.controlParams),[2,_super.prototype.moveToPanel.call(this,panel,options)]})})},__proto.moveToPosition=function(position,duration,axesEvent){var flicking=getFlickingAttached(this._flicking),camera=flicking.camera,activePanel=this._activePanel,axesRange=this._controller.range,indexRange=this._indexRange,cameraRange=camera.range,state=this._controller.state,clampedPosition=clamp(camera.clampToReachablePosition(position),axesRange[0],axesRange[1]),anchorAtPosition=camera.findAnchorIncludePosition(clampedPosition);if(!anchorAtPosition||!activePanel)return Promise.reject(new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(position),CODE.POSITION_NOT_REACHABLE));var targetPos,targetPanel,prevPos=activePanel.position,posDelta=flicking.animating?state.delta:position-camera.position,isOverThreshold=Math.abs(posDelta)>=flicking.threshold,adjacentAnchor=position>prevPos?camera.getNextAnchor(anchorAtPosition):camera.getPrevAnchor(anchorAtPosition),anchors=camera.anchorPoints,firstAnchor=anchors[0],lastAnchor=anchors[anchors.length-1],shouldBounceToFirst=position<=cameraRange.min&&isBetween(firstAnchor.panel.index,indexRange.min,indexRange.max),shouldBounceToLast=position>=cameraRange.max&&isBetween(lastAnchor.panel.index,indexRange.min,indexRange.max),isAdjacent=adjacentAnchor&&(indexRange.min<=indexRange.max?isBetween(adjacentAnchor.index,indexRange.min,indexRange.max):adjacentAnchor.index>=indexRange.min||adjacentAnchor.index<=indexRange.max);if(shouldBounceToFirst||shouldBounceToLast){var targetAnchor=position<cameraRange.min?firstAnchor:lastAnchor;targetPanel=targetAnchor.panel,targetPos=targetAnchor.position}else isOverThreshold&&anchorAtPosition.position!==activePanel.position?(targetPanel=anchorAtPosition.panel,targetPos=anchorAtPosition.position):isOverThreshold&&isAdjacent?(targetPanel=adjacentAnchor.panel,targetPos=adjacentAnchor.position):(targetPos=camera.clampToReachablePosition(activePanel.position),targetPanel=activePanel);return this._triggerIndexChangeEvent(targetPanel,position,axesEvent),this._animateToPosition({position:targetPos,duration:duration,newActivePanel:targetPanel,axesEvent:axesEvent})},__proto._resetIndexRange=function(){this._indexRange={min:0,max:0}},StrictControl}(Control),CameraMode=function(){function CameraMode(flicking){this._flicking=flicking}var __proto=CameraMode.prototype;return __proto.getAnchors=function(){return this._flicking.renderer.panels.map(function(panel,index){return new AnchorPoint({index:index,position:panel.position,panel:panel})})},__proto.findAnchorIncludePosition=function(position){return this._flicking.camera.anchorPoints.filter(function(anchor){return anchor.panel.includePosition(position,!0)}).reduce(function(nearest,anchor){return nearest&&Math.abs(nearest.position-position)<Math.abs(anchor.position-position)?nearest:anchor},null)},__proto.findNearestAnchor=function(position){var anchors=this._flicking.camera.anchorPoints;if(anchors.length<=0)return null;for(var prevDist=1/0,anchorIdx=0;anchorIdx<anchors.length;anchorIdx++){var anchor=anchors[anchorIdx],dist=Math.abs(anchor.position-position);if(dist>prevDist)return anchors[anchorIdx-1];prevDist=dist}return anchors[anchors.length-1]},__proto.clampToReachablePosition=function(position){var range=this._flicking.camera.range;return clamp(position,range.min,range.max)},__proto.getCircularOffset=function(){return 0},__proto.canReach=function(panel){var range=this._flicking.camera.range;if(panel.removed)return!1;var panelPos=panel.position;return panelPos>=range.min&&panelPos<=range.max},__proto.canSee=function(panel){var visibleRange=this._flicking.camera.visibleRange;return panel.isVisibleOnRange(visibleRange.min,visibleRange.max)},CameraMode}(),LinearCameraMode=function(_super){function LinearCameraMode(){return null!==_super&&_super.apply(this,arguments)||this}__extends(LinearCameraMode,_super);var __proto=LinearCameraMode.prototype;return __proto.checkAvailability=function(){return!0},__proto.getRange=function(){var _a,_b,renderer=this._flicking.renderer,firstPanel=renderer.getPanel(0),lastPanel=renderer.getPanel(renderer.panelCount-1);return{min:null!==(_a=null==firstPanel?void 0:firstPanel.position)&&void 0!==_a?_a:0,max:null!==(_b=null==lastPanel?void 0:lastPanel.position)&&void 0!==_b?_b:0}},LinearCameraMode}(CameraMode),CircularCameraMode=function(_super){function CircularCameraMode(){return null!==_super&&_super.apply(this,arguments)||this}__extends(CircularCameraMode,_super);var __proto=CircularCameraMode.prototype;return __proto.checkAvailability=function(){var flicking=this._flicking,panels=flicking.renderer.panels;if(panels.length<=0)return!1;var firstPanel=panels[0],lastPanel=panels[panels.length-1],firstPanelPrev=firstPanel.range.min-firstPanel.margin.prev,lastPanelNext=lastPanel.range.max+lastPanel.margin.next,visibleSize=flicking.camera.size,panelSizeSum=lastPanelNext-firstPanelPrev;return panels.every(function(panel){return panelSizeSum-panel.size>=visibleSize})},__proto.getRange=function(){var panels=this._flicking.renderer.panels;if(panels.length<=0)return{min:0,max:0};var firstPanel=panels[0],lastPanel=panels[panels.length-1];return{min:firstPanel.range.min-firstPanel.margin.prev,max:lastPanel.range.max+lastPanel.margin.next}},__proto.getAnchors=function(){return this._flicking.renderer.panels.map(function(panel,index){return new AnchorPoint({index:index,position:panel.position,panel:panel})})},__proto.findNearestAnchor=function(position){var camera=this._flicking.camera,anchors=camera.anchorPoints;if(anchors.length<=0)return null;for(var camRange=camera.range,minDist=1/0,minDistIndex=-1,anchorIdx=0;anchorIdx<anchors.length;anchorIdx++){var anchor=anchors[anchorIdx],dist=Math.min(Math.abs(anchor.position-position),Math.abs(anchor.position-camRange.min+camRange.max-position),Math.abs(position-camRange.min+camRange.max-anchor.position));dist<minDist&&(minDist=dist,minDistIndex=anchorIdx)}return anchors[minDistIndex]},__proto.findAnchorIncludePosition=function(position){var camera=this._flicking.camera,range=camera.range,anchors=camera.anchorPoints,rangeDiff=camera.rangeDiff,anchorCount=anchors.length,positionInRange=circulatePosition(position,range.min,range.max),anchorInRange=_super.prototype.findAnchorIncludePosition.call(this,positionInRange);if(anchorCount>0&&(position===range.min||position===range.max)){var possibleAnchors=[anchorInRange,new AnchorPoint({index:0,position:anchors[0].position+rangeDiff,panel:anchors[0].panel}),new AnchorPoint({index:anchorCount-1,position:anchors[anchorCount-1].position-rangeDiff,panel:anchors[anchorCount-1].panel})].filter(function(anchor){return!!anchor});anchorInRange=possibleAnchors.reduce(function(nearest,anchor){return nearest&&Math.abs(nearest.position-position)<Math.abs(anchor.position-position)?nearest:anchor},null)}if(!anchorInRange)return null;if(position<range.min){var loopCount=-Math.floor((range.min-position)/rangeDiff)-1;return new AnchorPoint({index:anchorInRange.index,position:anchorInRange.position+rangeDiff*loopCount,panel:anchorInRange.panel})}if(position>range.max){loopCount=Math.floor((position-range.max)/rangeDiff)+1;return new AnchorPoint({index:anchorInRange.index,position:anchorInRange.position+rangeDiff*loopCount,panel:anchorInRange.panel})}return anchorInRange},__proto.getCircularOffset=function(){var flicking=this._flicking;if(!flicking.camera.circularEnabled)return 0;var toggled=flicking.panels.filter(function(panel){return panel.toggled}),toggledPrev=toggled.filter(function(panel){return panel.toggleDirection===DIRECTION.PREV}),toggledNext=toggled.filter(function(panel){return panel.toggleDirection===DIRECTION.NEXT});return this._calcPanelAreaSum(toggledPrev)-this._calcPanelAreaSum(toggledNext)},__proto.clampToReachablePosition=function(position){return position},__proto.canReach=function(panel){return!panel.removed},__proto.canSee=function(panel){var camera=this._flicking.camera,range=camera.range,rangeDiff=camera.rangeDiff,visibleRange=camera.visibleRange,visibleInCurrentRange=_super.prototype.canSee.call(this,panel);return visibleRange.min<range.min?visibleInCurrentRange||panel.isVisibleOnRange(visibleRange.min+rangeDiff,visibleRange.max+rangeDiff):visibleRange.max>range.max?visibleInCurrentRange||panel.isVisibleOnRange(visibleRange.min-rangeDiff,visibleRange.max-rangeDiff):visibleInCurrentRange},__proto._calcPanelAreaSum=function(panels){return panels.reduce(function(sum,panel){return sum+panel.sizeIncludingMargin},0)},CircularCameraMode}(CameraMode),BoundCameraMode=function(_super){function BoundCameraMode(){return null!==_super&&_super.apply(this,arguments)||this}__extends(BoundCameraMode,_super);var __proto=BoundCameraMode.prototype;return __proto.checkAvailability=function(){var flicking=this._flicking,renderer=flicking.renderer,firstPanel=renderer.getPanel(0),lastPanel=renderer.getPanel(renderer.panelCount-1);if(!firstPanel||!lastPanel)return!1;var viewportSize=flicking.camera.size,firstPanelPrev=firstPanel.range.min;return viewportSize<lastPanel.range.max-firstPanelPrev},__proto.getRange=function(){var flicking=this._flicking,renderer=flicking.renderer,alignPos=flicking.camera.alignPosition,firstPanel=renderer.getPanel(0),lastPanel=renderer.getPanel(renderer.panelCount-1);if(!firstPanel||!lastPanel)return{min:0,max:0};var viewportSize=flicking.camera.size,firstPanelPrev=firstPanel.range.min,lastPanelNext=lastPanel.range.max,firstPos=firstPanelPrev+alignPos,lastPos=lastPanelNext-viewportSize+alignPos;if(viewportSize<lastPanelNext-firstPanelPrev)return{min:firstPos,max:lastPos};var align=flicking.camera.align,alignVal="object"==typeof align?align.camera:align,pos=firstPos+parseAlign$1(alignVal,lastPos-firstPos);return{min:pos,max:pos}},__proto.getAnchors=function(){var flicking=this._flicking,camera=flicking.camera,panels=flicking.renderer.panels;if(panels.length<=0)return[];var range=flicking.camera.range,reachablePanels=panels.filter(function(panel){return camera.canReach(panel)});if(reachablePanels.length>0){var shouldPrependBoundAnchor=reachablePanels[0].position!==range.min,shouldAppendBoundAnchor=reachablePanels[reachablePanels.length-1].position!==range.max,indexOffset_1=shouldPrependBoundAnchor?1:0,newAnchors=reachablePanels.map(function(panel,idx){return new AnchorPoint({index:idx+indexOffset_1,position:panel.position,panel:panel})});return shouldPrependBoundAnchor&&newAnchors.splice(0,0,new AnchorPoint({index:0,position:range.min,panel:panels[reachablePanels[0].index-1]})),shouldAppendBoundAnchor&&newAnchors.push(new AnchorPoint({index:newAnchors.length,position:range.max,panel:panels[reachablePanels[reachablePanels.length-1].index+1]})),newAnchors}if(range.min!==range.max){var nearestPanelAtMin=this._findNearestPanel(range.min,panels),panelAtMin=nearestPanelAtMin.index===panels.length-1?nearestPanelAtMin.prev():nearestPanelAtMin,panelAtMax=panelAtMin.next();return[new AnchorPoint({index:0,position:range.min,panel:panelAtMin}),new AnchorPoint({index:1,position:range.max,panel:panelAtMax})]}return[new AnchorPoint({index:0,position:range.min,panel:this._findNearestPanel(range.min,panels)})]},__proto.findAnchorIncludePosition=function(position){var camera=this._flicking.camera,range=camera.range,anchors=camera.anchorPoints;return anchors.length<=0?null:position<=range.min?anchors[0]:position>=range.max?anchors[anchors.length-1]:_super.prototype.findAnchorIncludePosition.call(this,position)},__proto._findNearestPanel=function(pos,panels){for(var prevDist=1/0,panelIdx=0;panelIdx<panels.length;panelIdx++){var panel=panels[panelIdx],dist=Math.abs(panel.position-pos);if(dist>prevDist)return panels[panelIdx-1];prevDist=dist}return panels[panels.length-1]},BoundCameraMode}(CameraMode),Camera=function(){function Camera(flicking,_a){var _this=this,_b=(void 0===_a?{}:_a).align,align=void 0===_b?ALIGN.CENTER:_b;this._checkTranslateSupport=function(){var e_1,_a,supportedStyle=document.documentElement.style,transformName="";try{for(var transforms_1=__values(["webkitTransform","msTransform","MozTransform","OTransform","transform"]),transforms_1_1=transforms_1.next();!transforms_1_1.done;transforms_1_1=transforms_1.next()){var prefixedTransform=transforms_1_1.value;prefixedTransform in supportedStyle&&(transformName=prefixedTransform)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{transforms_1_1&&!transforms_1_1.done&&(_a=transforms_1.return)&&_a.call(transforms_1)}finally{if(e_1)throw e_1.error}}if(!transformName)throw new FlickingError(MESSAGE_TRANSFORM_NOT_SUPPORTED,CODE.TRANSFORM_NOT_SUPPORTED);_this._transform=transformName},this._flicking=flicking,this._resetInternalValues(),this._align=align}var __proto=Camera.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._el},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"children",{get:function(){return toArray(this._el.children)},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"offset",{get:function(){return this._offset-this._circularOffset},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"circularEnabled",{get:function(){return this._circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"range",{get:function(){return this._range},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rangeDiff",{get:function(){return this._range.max-this._range.min},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"visiblePanels",{get:function(){return this._visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"visibleRange",{get:function(){return{min:this._position-this._alignPos,max:this._position-this._alignPos+this.size}},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"anchorPoints",{get:function(){return this._anchors},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"controlParams",{get:function(){return{range:this._range,position:this._position,circular:this._circularEnabled}},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"atEdge",{get:function(){return this._position<=this._range.min||this._position>=this._range.max},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"size",{get:function(){var flicking=this._flicking;return flicking?flicking.horizontal?flicking.viewport.width:flicking.viewport.height:0},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"progress",{get:function(){var flicking=this._flicking,position=this._position+this._offset,nearestAnchor=this.findNearestAnchor(this._position);if(!flicking||!nearestAnchor)return NaN;var nearestPanel=nearestAnchor.panel,panelPos=nearestPanel.position+nearestPanel.offset,bounceSize=flicking.control.controller.bounce,_a=this.range,prevRange=_a.min,nextRange=_a.max,rangeDiff=this.rangeDiff;if(position===panelPos)return nearestPanel.index;if(position<panelPos){var prevPanel=nearestPanel.prev(),prevPosition=prevPanel?prevPanel.position+prevPanel.offset:prevRange-bounceSize[0];return prevPosition>panelPos&&(prevPosition-=rangeDiff),nearestPanel.index-1+getProgress(position,prevPosition,panelPos)}var nextPanel=nearestPanel.next(),nextPosition=nextPanel?nextPanel.position+nextPanel.offset:nextRange+bounceSize[1];return nextPosition<panelPos&&(nextPosition+=rangeDiff),nearestPanel.index+getProgress(position,panelPos,nextPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"align",{get:function(){return this._align},set:function(val){this._align=val},enumerable:!1,configurable:!0}),__proto.init=function(){var viewportEl=this._flicking.viewport.element;return checkExistence(viewportEl.firstElementChild,"First element child of the viewport element"),this._el=viewportEl.firstElementChild,this._checkTranslateSupport(),this._updateMode(),this},__proto.destroy=function(){return this._resetInternalValues(),this},__proto.lookAt=function(pos){var _this=this,flicking=getFlickingAttached(this._flicking),prevPos=this._position;this._position=pos;var toggled=this._togglePanels(prevPos,pos);this._refreshVisiblePanels(),this._checkNeedPanel(),this._checkReachEnd(prevPos,pos),toggled?flicking.renderer.render().then(function(){_this.updateOffset()}):this.applyTransform()},__proto.getPrevAnchor=function(anchor){if(this._circularEnabled&&0===anchor.index){var anchors=this._anchors,rangeDiff=this.rangeDiff,lastAnchor=anchors[anchors.length-1];return new AnchorPoint({index:lastAnchor.index,position:lastAnchor.position-rangeDiff,panel:lastAnchor.panel})}return this._anchors[anchor.index-1]||null},__proto.getNextAnchor=function(anchor){var anchors=this._anchors;if(this._circularEnabled&&anchor.index===anchors.length-1){var rangeDiff=this.rangeDiff,firstAnchor=anchors[0];return new AnchorPoint({index:firstAnchor.index,position:firstAnchor.position+rangeDiff,panel:firstAnchor.panel})}return anchors[anchor.index+1]||null},__proto.getProgressInPanel=function(panel){var panelRange=panel.range;return(this._position-panelRange.min)/(panelRange.max-panelRange.min)},__proto.findAnchorIncludePosition=function(position){return this._mode.findAnchorIncludePosition(position)},__proto.findNearestAnchor=function(position){return this._mode.findNearestAnchor(position)},__proto.findActiveAnchor=function(){var activeIndex=getFlickingAttached(this._flicking).control.activeIndex;return find(this._anchors,function(anchor){return anchor.panel.index===activeIndex})},__proto.clampToReachablePosition=function(position){return this._mode.clampToReachablePosition(position)},__proto.canReach=function(panel){return this._mode.canReach(panel)},__proto.canSee=function(panel){return this._mode.canSee(panel)},__proto.updateRange=function(){var panels=getFlickingAttached(this._flicking).renderer.panels;return this._updateMode(),this._range=this._mode.getRange(),this._circularEnabled&&panels.forEach(function(panel){return panel.updateCircularToggleDirection()}),this},__proto.updateAlignPos=function(){var align=this._align,alignVal="object"==typeof align?align.camera:align;return this._alignPos=parseAlign$1(alignVal,this.size),this},__proto.updateAnchors=function(){return this._anchors=this._mode.getAnchors(),this},__proto.updateAdaptiveHeight=function(){var flicking=getFlickingAttached(this._flicking),activePanel=flicking.control.activePanel;flicking.horizontal&&flicking.adaptive&&activePanel&&flicking.viewport.setSize({height:activePanel.height})},__proto.updateOffset=function(){var flicking=getFlickingAttached(this._flicking),position=this._position,unRenderedPanels=flicking.panels.filter(function(panel){return!panel.rendered});return this._offset=unRenderedPanels.filter(function(panel){return panel.position+panel.offset<position}).reduce(function(offset,panel){return offset+panel.sizeIncludingMargin},0),this._circularOffset=this._mode.getCircularOffset(),this.applyTransform(),this},__proto.resetNeedPanelHistory=function(){return this._needPanelTriggered={prev:!1,next:!1},this},__proto.applyTransform=function(){var el=this._el,flicking=getFlickingAttached(this._flicking);if(flicking.renderer.rendering)return this;var actualPosition=this._position-this._alignPos-this._offset+this._circularOffset;return el.style[this._transform]=flicking.horizontal?"translate("+-actualPosition+"px)":"translate(0, "+-actualPosition+"px)",this},__proto._resetInternalValues=function(){this._position=0,this._alignPos=0,this._offset=0,this._circularOffset=0,this._circularEnabled=!1,this._range={min:0,max:0},this._visiblePanels=[],this._anchors=[],this._needPanelTriggered={prev:!1,next:!1}},__proto._refreshVisiblePanels=function(){var _this=this,flicking=getFlickingAttached(this._flicking),newVisiblePanels=flicking.renderer.panels.filter(function(panel){return _this.canSee(panel)}),prevVisiblePanels=this._visiblePanels;this._visiblePanels=newVisiblePanels;var added=newVisiblePanels.filter(function(panel){return!includes(prevVisiblePanels,panel)}),removed=prevVisiblePanels.filter(function(panel){return!includes(newVisiblePanels,panel)});(added.length>0||removed.length>0)&&flicking.renderer.render().then(function(){flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.VISIBLE_CHANGE,{added:added,removed:removed,visiblePanels:newVisiblePanels}))})},__proto._checkNeedPanel=function(){var needPanelTriggered=this._needPanelTriggered;if(!needPanelTriggered.prev||!needPanelTriggered.next){var flicking=getFlickingAttached(this._flicking),panels=flicking.renderer.panels;if(panels.length<=0)return needPanelTriggered.prev||(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),needPanelTriggered.prev=!0),void(needPanelTriggered.next||(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),needPanelTriggered.next=!0));var cameraPosition=this._position,cameraSize=this.size,cameraRange=this._range,needPanelThreshold=flicking.needPanelThreshold,cameraPrev=cameraPosition-this._alignPos,cameraNext=cameraPrev+cameraSize,firstPanel=panels[0],lastPanel=panels[panels.length-1];if(!needPanelTriggered.prev)(cameraPrev<=firstPanel.range.min+needPanelThreshold||cameraPosition<=cameraRange.min+needPanelThreshold)&&(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.NEED_PANEL,{direction:DIRECTION.PREV})),needPanelTriggered.prev=!0);if(!needPanelTriggered.next)(cameraNext>=lastPanel.range.max-needPanelThreshold||cameraPosition>=cameraRange.max-needPanelThreshold)&&(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.NEED_PANEL,{direction:DIRECTION.NEXT})),needPanelTriggered.next=!0)}},__proto._checkReachEnd=function(prevPos,newPos){var flicking=getFlickingAttached(this._flicking),range=this._range,wasBetweenRange=prevPos>range.min&&prevPos<range.max,isBetweenRange=newPos>range.min&&newPos<range.max;if(wasBetweenRange&&!isBetweenRange){var direction=newPos<=range.min?DIRECTION.PREV:DIRECTION.NEXT;flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.REACH_EDGE,{direction:direction}))}},__proto._updateMode=function(){var flicking=getFlickingAttached(this._flicking);if(flicking.circular){var circularMode=new CircularCameraMode(flicking),canSetCircularMode=circularMode.checkAvailability();if(canSetCircularMode)this._mode=circularMode;else{var fallbackMode=flicking.circularFallback;this._mode=fallbackMode===CIRCULAR_FALLBACK.BOUND?new BoundCameraMode(flicking):new LinearCameraMode(flicking)}this._circularEnabled=canSetCircularMode}else this._mode=flicking.bound?new BoundCameraMode(flicking):new LinearCameraMode(flicking)},__proto._togglePanels=function(prevPos,pos){return pos!==prevPos&&getFlickingAttached(this._flicking).renderer.panels.map(function(panel){return panel.toggle(prevPos,pos)}).some(function(isToggled){return isToggled})},Camera}(),Renderer=function(){function Renderer(_a){var _b=_a.align,align=void 0===_b?ALIGN.CENTER:_b,strategy=_a.strategy;this._flicking=null,this._panels=[],this._rendering=!1,this._align=align,this._strategy=strategy}var __proto=Renderer.prototype;return Object.defineProperty(__proto,"panels",{get:function(){return this._panels},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rendering",{get:function(){return this._rendering},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panelCount",{get:function(){return this._panels.length},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"strategy",{get:function(){return this._strategy},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"align",{get:function(){return this._align},set:function(val){this._align=val;var panelAlign=parsePanelAlign(val);this._panels.forEach(function(panel){panel.align=panelAlign})},enumerable:!1,configurable:!0}),__proto.init=function(flicking){return this._flicking=flicking,this._collectPanels(),this},__proto.destroy=function(){this._flicking=null,this._panels=[]},__proto.getPanel=function(index){return this._panels[index]||null},__proto.forceRenderAllPanels=function(){return this._panels.forEach(function(panel){return panel.markForShow()}),Promise.resolve()},__proto.updatePanelSize=function(){var flicking=getFlickingAttached(this._flicking),panels=this._panels;if(panels.length<=0)return this;if(flicking.panelsPerView>0){var firstPanel=panels[0];firstPanel.resize(),this._updatePanelSizeByGrid(firstPanel,panels)}else flicking.panels.forEach(function(panel){return panel.resize()});return this},__proto.batchInsert=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];var allPanelsInserted=this.batchInsertDefer.apply(this,__spread(items));return allPanelsInserted.length<=0?[]:(this.updateAfterPanelChange(allPanelsInserted,[]),allPanelsInserted)},__proto.batchInsertDefer=function(){for(var _this=this,items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];var panels=this._panels,flicking=getFlickingAttached(this._flicking),prevFirstPanel=panels[0],align=parsePanelAlign(this._align),allPanelsInserted=items.reduce(function(addedPanels,item){var _a,insertingIdx=getMinusCompensatedIndex(item.index,panels.length),panelsPushed=panels.slice(insertingIdx),panelsInserted=item.elements.map(function(el,idx){return _this._createPanel(el,{index:insertingIdx+idx,align:align,flicking:flicking})});if(panels.splice.apply(panels,__spread([insertingIdx,0],panelsInserted)),item.hasDOMInElements&&_this._insertPanelElements(panelsInserted,null!==(_a=panelsPushed[0])&&void 0!==_a?_a:null),flicking.panelsPerView>0){var firstPanel=prevFirstPanel||panelsInserted[0].resize();_this._updatePanelSizeByGrid(firstPanel,panelsInserted)}else panelsInserted.forEach(function(panel){return panel.resize()});return panelsPushed.forEach(function(panel){panel.increaseIndex(panelsInserted.length),panel.updatePosition()}),__spread(addedPanels,panelsInserted)},[]);return allPanelsInserted},__proto.batchRemove=function(){for(var items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];var allPanelsRemoved=this.batchRemoveDefer.apply(this,__spread(items));return allPanelsRemoved.length<=0?[]:(this.updateAfterPanelChange([],allPanelsRemoved),allPanelsRemoved)},__proto.batchRemoveDefer=function(){for(var _this=this,items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];var panels=this._panels,flicking=getFlickingAttached(this._flicking),control=flicking.control,activePanel=control.activePanel,allPanelsRemoved=items.reduce(function(removed,item){var index=item.index,deleteCount=item.deleteCount,removingIdx=getMinusCompensatedIndex(index,panels.length),panelsPulled=panels.slice(removingIdx+deleteCount),panelsRemoved=panels.splice(removingIdx,deleteCount);return panelsRemoved.length<=0?[]:(panelsPulled.forEach(function(panel){panel.decreaseIndex(panelsRemoved.length),panel.updatePosition()}),item.hasDOMInElements&&_this._removePanelElements(panelsRemoved),panelsRemoved.forEach(function(panel){return panel.destroy()}),includes(panelsRemoved,activePanel)&&control.resetActive(),__spread(removed,panelsRemoved))},[]);return allPanelsRemoved},__proto.updateAfterPanelChange=function(panelsAdded,panelsRemoved){var _a,flicking=getFlickingAttached(this._flicking),camera=flicking.camera,control=flicking.control,panels=this._panels,activePanel=control.activePanel;if(this._updateCameraAndControl(),this.render(),!flicking.animating)if(!activePanel||activePanel.removed)if(panels.length<=0)camera.lookAt(0);else{var targetIndex=null!==(_a=null==activePanel?void 0:activePanel.index)&&void 0!==_a?_a:0;targetIndex>panels.length-1&&(targetIndex=panels.length-1),control.moveToPanel(panels[targetIndex],{duration:0}).catch(function(){})}else control.moveToPanel(activePanel,{duration:0}).catch(function(){});flicking.camera.updateOffset(),(panelsAdded.length>0||panelsRemoved.length>0)&&(flicking.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.PANEL_CHANGE,{added:panelsAdded,removed:panelsRemoved})),this.checkPanelContentsReady(__spread(panelsAdded,panelsRemoved)))},__proto.checkPanelContentsReady=function(checkingPanels){var _this=this,flicking=getFlickingAttached(this._flicking),resizeOnContentsReady=flicking.resizeOnContentsReady,panels=this._panels;if(resizeOnContentsReady&&!flicking.virtualEnabled){if(!((checkingPanels=checkingPanels.filter(function(panel){return function(panel){return panel.element&&!!panel.element.querySelector("img, video")}(panel)})).length<=0)){var contentsReadyChecker=new _egjs_imready__WEBPACK_IMPORTED_MODULE_2___default.a;checkingPanels.forEach(function(panel){panel.loading=!0}),contentsReadyChecker.on("readyElement",function(e){if(_this._flicking){var panel=checkingPanels[e.index],camera=flicking.camera,control=flicking.control,prevProgressInPanel=control.activePanel?camera.getProgressInPanel(control.activePanel):0;panel.loading=!1,panel.resize(),panels.slice(panel.index+1).forEach(function(panelBehind){return panelBehind.updatePosition()}),flicking.initialized&&(camera.updateRange(),camera.updateOffset(),camera.updateAnchors(),control.animating||(control.updatePosition(prevProgressInPanel),control.updateInput()))}else contentsReadyChecker.destroy()}),contentsReadyChecker.on("preReady",function(e){_this._flicking&&_this.render(),e.readyCount===e.totalCount&&contentsReadyChecker.destroy()}),contentsReadyChecker.on("ready",function(){_this._flicking&&_this.render(),contentsReadyChecker.destroy()}),contentsReadyChecker.check(checkingPanels.map(function(panel){return panel.element}))}}},__proto._updateCameraAndControl=function(){var flicking=getFlickingAttached(this._flicking),camera=flicking.camera,control=flicking.control;camera.updateRange(),camera.updateOffset(),camera.updateAnchors(),camera.resetNeedPanelHistory(),control.updateInput()},__proto._showOnlyVisiblePanels=function(flicking){var panels=flicking.renderer.panels,visibleIndexes=flicking.camera.visiblePanels.reduce(function(visibles,panel){return visibles[panel.index]=!0,visibles},{});panels.forEach(function(panel){panel.index in visibleIndexes||panel.loading?panel.markForShow():flicking.holding||panel.markForHide()})},__proto._updatePanelSizeByGrid=function(referencePanel,panels){var flicking=getFlickingAttached(this._flicking),panelsPerView=flicking.panelsPerView;if(panelsPerView<=0)throw new FlickingError(MESSAGE_WRONG_OPTION("panelsPerView",panelsPerView),CODE.WRONG_OPTION);if(!(panels.length<=0)){var panelSize=(flicking.camera.size-(referencePanel.margin.prev+referencePanel.margin.next)*(panelsPerView-1))/panelsPerView,panelSizeObj=flicking.horizontal?{width:panelSize}:{height:panelSize},firstPanelSizeObj=__assign({size:panelSize,margin:referencePanel.margin},!flicking.horizontal&&{height:referencePanel.height});flicking.noPanelStyleOverride||this._strategy.updatePanelSizes(flicking,panelSizeObj),flicking.panels.forEach(function(panel){return panel.resize(firstPanelSizeObj)})}},__proto._removeAllChildsFromCamera=function(){for(var cameraElement=getFlickingAttached(this._flicking).camera.element;cameraElement.firstChild;)cameraElement.removeChild(cameraElement.firstChild)},__proto._insertPanelElements=function(panels,nextSibling){void 0===nextSibling&&(nextSibling=null);var cameraElement=getFlickingAttached(this._flicking).camera.element,nextSiblingElement=(null==nextSibling?void 0:nextSibling.element)||null,fragment=document.createDocumentFragment();panels.forEach(function(panel){return fragment.appendChild(panel.element)}),cameraElement.insertBefore(fragment,nextSiblingElement)},__proto._removePanelElements=function(panels){var cameraElement=getFlickingAttached(this._flicking).camera.element;panels.forEach(function(panel){cameraElement.removeChild(panel.element)})},Renderer}(),VanillaRenderer=function(_super){function VanillaRenderer(){return null!==_super&&_super.apply(this,arguments)||this}__extends(VanillaRenderer,_super);var __proto=VanillaRenderer.prototype;return __proto.render=function(){return __awaiter(this,void 0,void 0,function(){var flicking,strategy;return __generator(this,function(_a){return flicking=getFlickingAttached(this._flicking),(strategy=this._strategy).updateRenderingPanels(flicking),strategy.renderPanels(flicking),this._resetPanelElementOrder(),[2]})})},__proto._collectPanels=function(){var flicking=getFlickingAttached(this._flicking),camera=flicking.camera;this._removeAllTextNodes(),this._panels=this._strategy.collectPanels(flicking,camera.children)},__proto._createPanel=function(el,options){return this._strategy.createPanel(el,options)},__proto._resetPanelElementOrder=function(){var flicking=getFlickingAttached(this._flicking),cameraEl=flicking.camera.element,reversedElements=this._strategy.getRenderingElementsByOrder(flicking).reverse();reversedElements.forEach(function(el,idx){var nextEl=reversedElements[idx-1]?reversedElements[idx-1]:null;el.nextElementSibling!==nextEl&&cameraEl.insertBefore(el,nextEl)})},__proto._removeAllTextNodes=function(){var cameraElement=getFlickingAttached(this._flicking).camera.element;toArray(cameraElement.childNodes).forEach(function(node){node.nodeType===Node.TEXT_NODE&&cameraElement.removeChild(node)})},VanillaRenderer}(Renderer),ExternalRenderer=function(_super){function ExternalRenderer(){return null!==_super&&_super.apply(this,arguments)||this}__extends(ExternalRenderer,_super);var __proto=ExternalRenderer.prototype;return __proto._removePanelElements=function(panels){},__proto._removeAllChildsFromCamera=function(){},ExternalRenderer}(Renderer),Panel=function(){function Panel(_a){var index=_a.index,align=_a.align,flicking=_a.flicking,elementProvider=_a.elementProvider;this._index=index,this._flicking=flicking,this._elProvider=elementProvider,this._align=align,this._removed=!1,this._rendered=!0,this._loading=!1,this._resetInternalStates()}var __proto=Panel.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"elementProvider",{get:function(){return this._elProvider},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"position",{get:function(){return this._pos+this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"sizeIncludingMargin",{get:function(){return this._size+this._margin.prev+this._margin.next},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"alignPosition",{get:function(){return this._alignPos},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"removed",{get:function(){return this._removed},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rendered",{get:function(){return this._rendered},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"loading",{get:function(){return this._loading},set:function(val){this._loading=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"range",{get:function(){return{min:this._pos,max:this._pos+this._size}},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"toggled",{get:function(){return this._toggled},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"toggleDirection",{get:function(){return this._toggleDirection},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"offset",{get:function(){var toggleDirection=this._toggleDirection,cameraRangeDiff=this._flicking.camera.rangeDiff;return toggleDirection!==DIRECTION.NONE&&this._toggled?toggleDirection===DIRECTION.PREV?-cameraRangeDiff:cameraRangeDiff:0},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"progress",{get:function(){var flicking=this._flicking;return this.index-flicking.camera.progress},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"outsetProgress",{get:function(){var position=this.position+this.offset,alignPosition=this._alignPos,camera=this._flicking.camera,camPos=camera.position;if(camPos===position)return 0;if(camPos<position){var disappearPosNext=position+(camera.size-camera.alignPosition)+alignPosition;return-getProgress(camPos,position,disappearPosNext)}var disappearPosPrev=position-(camera.alignPosition+this._size-alignPosition);return 1-getProgress(camPos,disappearPosPrev,position)},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"visibleRatio",{get:function(){var range=this.range,size=this._size,offset=this.offset,visibleRange=this._flicking.camera.visibleRange,checkingRange_min=range.min+offset,checkingRange_max=range.max+offset;if(checkingRange_max<=visibleRange.min||checkingRange_min>=visibleRange.max)return 0;var visibleSize=size;return visibleRange.min>checkingRange_min&&(visibleSize-=visibleRange.min-checkingRange_min),visibleRange.max<checkingRange_max&&(visibleSize-=checkingRange_max-visibleRange.max),visibleSize/size},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"align",{get:function(){return this._align},set:function(val){this._align=val},enumerable:!1,configurable:!0}),__proto.markForShow=function(){this._rendered=!0,this._elProvider.show(this._flicking)},__proto.markForHide=function(){this._rendered=!1,this._elProvider.hide(this._flicking)},__proto.resize=function(cached){var _a,el=this.element,flicking=this._flicking,horizontal=flicking.horizontal,useFractionalSize=flicking.useFractionalSize;if(cached)this._size=cached.size,this._margin=__assign({},cached.margin),this._height=null!==(_a=cached.height)&&void 0!==_a?_a:getElementSize({el:el,horizontal:!1,useFractionalSize:useFractionalSize,useOffset:!0,style:getStyle(el)});else{var elStyle=getStyle(el);this._size=getElementSize({el:el,horizontal:horizontal,useFractionalSize:useFractionalSize,useOffset:!0,style:elStyle}),this._margin=horizontal?{prev:parseFloat(elStyle.marginLeft||"0"),next:parseFloat(elStyle.marginRight||"0")}:{prev:parseFloat(elStyle.marginTop||"0"),next:parseFloat(elStyle.marginBottom||"0")},this._height=horizontal?getElementSize({el:el,horizontal:!1,useFractionalSize:useFractionalSize,useOffset:!0,style:elStyle}):this._size}return this.updatePosition(),this._updateAlignPos(),this},__proto.setSize=function(size){return setSize(this.element,size),this},__proto.contains=function(element){var _a;return!!(null===(_a=this.element)||void 0===_a?void 0:_a.contains(element))},__proto.destroy=function(){this._resetInternalStates(),this._removed=!0},__proto.includePosition=function(pos,includeMargin){return void 0===includeMargin&&(includeMargin=!1),this.includeRange(pos,pos,includeMargin)},__proto.includeRange=function(min,max,includeMargin){void 0===includeMargin&&(includeMargin=!1);var margin=this._margin,panelRange=this.range;return includeMargin&&(panelRange.min-=margin.prev,panelRange.max+=margin.next),max>=panelRange.min&&min<=panelRange.max},__proto.isVisibleOnRange=function(min,max){var panelRange=this.range;return max>panelRange.min&&min<panelRange.max},__proto.focus=function(duration){return this._flicking.moveTo(this._index,duration)},__proto.prev=function(){var index=this._index,flicking=this._flicking,renderer=flicking.renderer,panelCount=renderer.panelCount;return 1===panelCount?null:flicking.circularEnabled?renderer.getPanel(0===index?panelCount-1:index-1):renderer.getPanel(index-1)},__proto.next=function(){var index=this._index,flicking=this._flicking,renderer=flicking.renderer,panelCount=renderer.panelCount;return 1===panelCount?null:flicking.circularEnabled?renderer.getPanel(index===panelCount-1?0:index+1):renderer.getPanel(index+1)},__proto.increaseIndex=function(val){return this._index+=Math.max(val,0),this},__proto.decreaseIndex=function(val){return this._index-=Math.max(val,0),this},__proto.updatePosition=function(){var prevPanel=this._flicking.renderer.panels[this._index-1];return this._pos=prevPanel?prevPanel.range.max+prevPanel.margin.next+this._margin.prev:this._margin.prev,this},__proto.toggle=function(prevPos,newPos){var toggleDirection=this._toggleDirection,togglePosition=this._togglePosition;if(toggleDirection===DIRECTION.NONE||newPos===prevPos)return!1;var prevToggled=this._toggled;return newPos>prevPos?togglePosition>=prevPos&&togglePosition<=newPos&&(this._toggled=toggleDirection===DIRECTION.NEXT):togglePosition<=prevPos&&togglePosition>=newPos&&(this._toggled=toggleDirection!==DIRECTION.NEXT),prevToggled!==this._toggled},__proto.updateCircularToggleDirection=function(){var flicking=this._flicking;if(!flicking.circularEnabled)return this._toggleDirection=DIRECTION.NONE,this._toggled=!1,this;var camera=flicking.camera,camRange=camera.range,camAlignPosition=camera.alignPosition,camVisibleRange=camera.visibleRange,camVisibleSize=camVisibleRange.max-camVisibleRange.min,minimumVisible=camRange.min-camAlignPosition,maximumVisible=camRange.max-camAlignPosition+camVisibleSize,shouldBeVisibleAtMin=this.includeRange(maximumVisible-camVisibleSize,maximumVisible,!1),shouldBeVisibleAtMax=this.includeRange(minimumVisible,minimumVisible+camVisibleSize,!1);return this._toggled=!1,shouldBeVisibleAtMin?(this._toggleDirection=DIRECTION.PREV,this._togglePosition=this.range.max+camRange.min-camRange.max+camAlignPosition,this.toggle(1/0,camera.position)):shouldBeVisibleAtMax?(this._toggleDirection=DIRECTION.NEXT,this._togglePosition=this.range.min+camRange.max-camVisibleSize+camAlignPosition,this.toggle(-1/0,camera.position)):(this._toggleDirection=DIRECTION.NONE,this._togglePosition=0),this},__proto._updateAlignPos=function(){this._alignPos=parseAlign$1(this._align,this._size)},__proto._resetInternalStates=function(){this._size=0,this._pos=0,this._margin={prev:0,next:0},this._height=0,this._alignPos=0,this._toggled=!1,this._togglePosition=0,this._toggleDirection=DIRECTION.NONE},Panel}(),NormalRenderingStrategy=function(){function NormalRenderingStrategy(_a){var providerCtor=_a.providerCtor;this._providerCtor=providerCtor}var __proto=NormalRenderingStrategy.prototype;return __proto.renderPanels=function(){},__proto.getRenderingIndexesByOrder=function(flicking){var renderedPanels=flicking.renderer.panels.filter(function(panel){return panel.rendered}),toggledPrev=renderedPanels.filter(function(panel){return panel.toggled&&panel.toggleDirection===DIRECTION.PREV}),toggledNext=renderedPanels.filter(function(panel){return panel.toggled&&panel.toggleDirection===DIRECTION.NEXT});return __spread(toggledPrev,renderedPanels.filter(function(panel){return!panel.toggled}),toggledNext).map(function(panel){return panel.index})},__proto.getRenderingElementsByOrder=function(flicking){var panels=flicking.panels;return this.getRenderingIndexesByOrder(flicking).map(function(index){return panels[index].element})},__proto.updateRenderingPanels=function(flicking){flicking.renderOnlyVisible?this._showOnlyVisiblePanels(flicking):flicking.panels.forEach(function(panel){return panel.markForShow()})},__proto.collectPanels=function(flicking,elements){var _this=this,align=parsePanelAlign(flicking.renderer.align);return elements.map(function(el,index){return new Panel({index:index,elementProvider:new _this._providerCtor(el),align:align,flicking:flicking})})},__proto.createPanel=function(element,options){return new Panel(__assign(__assign({},options),{elementProvider:new this._providerCtor(element)}))},__proto.updatePanelSizes=function(flicking,size){flicking.panels.forEach(function(panel){return panel.setSize(size)})},__proto._showOnlyVisiblePanels=function(flicking){var panels=flicking.renderer.panels,camera=flicking.camera,visibleIndexes=camera.visiblePanels.reduce(function(visibles,panel){return visibles[panel.index]=!0,visibles},{});panels.forEach(function(panel){panel.index in visibleIndexes||panel.loading?panel.markForShow():flicking.holding||panel.markForHide()}),camera.updateOffset()},NormalRenderingStrategy}(),VirtualPanel=function(_super){function VirtualPanel(options){var _this=_super.call(this,options)||this;return options.elementProvider.init(_this),_this._elProvider=options.elementProvider,_this._cachedInnerHTML=null,_this}__extends(VirtualPanel,_super);var __proto=VirtualPanel.prototype;return Object.defineProperty(__proto,"element",{get:function(){return this._elProvider.element},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"cachedInnerHTML",{get:function(){return this._cachedInnerHTML},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"elementIndex",{get:function(){var flicking=this._flicking,virtualElCount=flicking.panelsPerView+1,panelCount=flicking.panelCount,index=this._index;return this._toggled&&(index=this._toggleDirection===DIRECTION.NEXT?index+panelCount:index-panelCount),circulateIndex(index,virtualElCount)},enumerable:!1,configurable:!0}),__proto.cacheRenderResult=function(result){this._cachedInnerHTML=result},__proto.uncacheRenderResult=function(){this._cachedInnerHTML=null},__proto.render=function(){var _a=this._flicking.virtual,renderPanel=_a.renderPanel,cache=_a.cache,element=this._elProvider.element,newInnerHTML=this._cachedInnerHTML||renderPanel(this,this._index);newInnerHTML!==element.innerHTML&&(element.innerHTML=newInnerHTML,cache&&this.cacheRenderResult(newInnerHTML))},__proto.increaseIndex=function(val){return this.uncacheRenderResult(),_super.prototype.increaseIndex.call(this,val)},__proto.decreaseIndex=function(val){return this.uncacheRenderResult(),_super.prototype.decreaseIndex.call(this,val)},VirtualPanel}(Panel),VirtualRenderingStrategy=function(){function VirtualRenderingStrategy(){}var __proto=VirtualRenderingStrategy.prototype;return __proto.renderPanels=function(flicking){var virtualManager=flicking.virtual,visiblePanels=flicking.visiblePanels,invisibleIndexes=range(flicking.panelsPerView+1);visiblePanels.forEach(function(panel){var elementIndex=panel.elementIndex;panel.render(),virtualManager.show(elementIndex),invisibleIndexes[elementIndex]=-1}),invisibleIndexes.filter(function(val){return val>=0}).forEach(function(idx){virtualManager.hide(idx)})},__proto.getRenderingIndexesByOrder=function(flicking){var virtualManager=flicking.virtual,visiblePanels=__spread(flicking.visiblePanels).filter(function(panel){return panel.rendered}).sort(function(panel1,panel2){return panel1.position+panel1.offset-(panel2.position+panel2.offset)});return visiblePanels.length<=0?virtualManager.elements.map(function(_,idx){return idx}):__spread(visiblePanels.map(function(panel){return panel.elementIndex}),virtualManager.elements.map(function(el,idx){return __assign(__assign({},el),{idx:idx})}).filter(function(el){return!el.visible}).map(function(el){return el.idx}))},__proto.getRenderingElementsByOrder=function(flicking){var elements=flicking.virtual.elements;return this.getRenderingIndexesByOrder(flicking).map(function(index){return elements[index].nativeElement})},__proto.updateRenderingPanels=function(flicking){var panels=flicking.renderer.panels,camera=flicking.camera,visibleIndexes=camera.visiblePanels.reduce(function(visibles,panel){return visibles[panel.index]=!0,visibles},{});panels.forEach(function(panel){panel.index in visibleIndexes||panel.loading?panel.markForShow():panel.markForHide()}),camera.updateOffset()},__proto.collectPanels=function(flicking){var align=parsePanelAlign(flicking.renderer.align);return range(flicking.virtual.initialPanelCount).map(function(index){return new VirtualPanel({index:index,elementProvider:new VirtualElementProvider(flicking),align:align,flicking:flicking})})},__proto.createPanel=function(_el,options){return new VirtualPanel(__assign(__assign({},options),{elementProvider:new VirtualElementProvider(options.flicking)}))},__proto.updatePanelSizes=function(flicking,size){flicking.virtual.elements.forEach(function(el){setSize(el.nativeElement,size)}),flicking.panels.forEach(function(panel){return panel.setSize(size)})},VirtualRenderingStrategy}(),Flicking=function(_super){function Flicking(root,_a){var _b=void 0===_a?{}:_a,_c=_b.align,align=void 0===_c?ALIGN.CENTER:_c,_d=_b.defaultIndex,defaultIndex=void 0===_d?0:_d,_e=_b.horizontal,horizontal=void 0===_e||_e,_f=_b.circular,circular=void 0!==_f&&_f,_g=_b.circularFallback,circularFallback=void 0===_g?CIRCULAR_FALLBACK.LINEAR:_g,_h=_b.bound,bound=void 0!==_h&&_h,_j=_b.adaptive,adaptive=void 0!==_j&&_j,_k=_b.panelsPerView,panelsPerView=void 0===_k?-1:_k,_l=_b.noPanelStyleOverride,noPanelStyleOverride=void 0!==_l&&_l,_m=_b.resizeOnContentsReady,resizeOnContentsReady=void 0!==_m&&_m,_o=_b.nested,nested=void 0!==_o&&_o,_p=_b.needPanelThreshold,needPanelThreshold=void 0===_p?0:_p,_q=_b.preventEventsBeforeInit,preventEventsBeforeInit=void 0===_q||_q,_r=_b.deceleration,deceleration=void 0===_r?.0075:_r,_s=_b.duration,duration=void 0===_s?500:_s,_t=_b.easing,easing=void 0===_t?function(x){return 1-Math.pow(1-x,3)}:_t,_u=_b.inputType,inputType=void 0===_u?["mouse","touch"]:_u,_v=_b.moveType,moveType=void 0===_v?"snap":_v,_w=_b.threshold,threshold=void 0===_w?40:_w,_x=_b.interruptable,interruptable=void 0===_x||_x,_y=_b.bounce,bounce=void 0===_y?"20%":_y,_z=_b.iOSEdgeSwipeThreshold,iOSEdgeSwipeThreshold=void 0===_z?30:_z,_0=_b.preventClickOnDrag,preventClickOnDrag=void 0===_0||_0,_1=_b.disableOnInit,disableOnInit=void 0!==_1&&_1,_2=_b.changeOnHold,changeOnHold=void 0!==_2&&_2,_3=_b.renderOnlyVisible,renderOnlyVisible=void 0!==_3&&_3,_4=_b.virtual,virtual=void 0===_4?null:_4,_5=_b.autoInit,autoInit=void 0===_5||_5,_6=_b.autoResize,autoResize=void 0===_6||_6,_7=_b.useResizeObserver,useResizeObserver=void 0===_7||_7,_8=_b.resizeDebounce,resizeDebounce=void 0===_8?0:_8,_9=_b.maxResizeDebounce,maxResizeDebounce=void 0===_9?100:_9,_10=_b.useFractionalSize,useFractionalSize=void 0!==_10&&_10,_11=_b.externalRenderer,externalRenderer=void 0===_11?null:_11,_12=_b.renderExternal,renderExternal=void 0===_12?null:_12,_this=_super.call(this)||this;return _this._initialized=!1,_this._plugins=[],_this._align=align,_this._defaultIndex=defaultIndex,_this._horizontal=horizontal,_this._circular=circular,_this._circularFallback=circularFallback,_this._bound=bound,_this._adaptive=adaptive,_this._panelsPerView=panelsPerView,_this._noPanelStyleOverride=noPanelStyleOverride,_this._resizeOnContentsReady=resizeOnContentsReady,_this._nested=nested,_this._virtual=virtual,_this._needPanelThreshold=needPanelThreshold,_this._preventEventsBeforeInit=preventEventsBeforeInit,_this._deceleration=deceleration,_this._duration=duration,_this._easing=easing,_this._inputType=inputType,_this._moveType=moveType,_this._threshold=threshold,_this._interruptable=interruptable,_this._bounce=bounce,_this._iOSEdgeSwipeThreshold=iOSEdgeSwipeThreshold,_this._preventClickOnDrag=preventClickOnDrag,_this._disableOnInit=disableOnInit,_this._changeOnHold=changeOnHold,_this._renderOnlyVisible=renderOnlyVisible,_this._autoInit=autoInit,_this._autoResize=autoResize,_this._useResizeObserver=useResizeObserver,_this._resizeDebounce=resizeDebounce,_this._maxResizeDebounce=maxResizeDebounce,_this._useFractionalSize=useFractionalSize,_this._externalRenderer=externalRenderer,_this._renderExternal=renderExternal,_this._viewport=new Viewport(_this,getElement(root)),_this._autoResizer=new AutoResizer(_this),_this._renderer=_this._createRenderer(),_this._camera=_this._createCamera(),_this._control=_this._createControl(),_this._virtualManager=new VirtualManager(_this,virtual),_this._autoInit&&_this.init(),_this}__extends(Flicking,_super);var __proto=Flicking.prototype;return Object.defineProperty(__proto,"control",{get:function(){return this._control},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"camera",{get:function(){return this._camera},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderer",{get:function(){return this._renderer},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"viewport",{get:function(){return this._viewport},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"initialized",{get:function(){return this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"circularEnabled",{get:function(){return this._camera.circularEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"virtualEnabled",{get:function(){return this._panelsPerView>0&&null!=this._virtual},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"index",{get:function(){return this._control.activeIndex},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"element",{get:function(){return this._viewport.element},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"currentPanel",{get:function(){return this._control.activePanel},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panels",{get:function(){return this._renderer.panels},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panelCount",{get:function(){return this._renderer.panelCount},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"visiblePanels",{get:function(){return this._camera.visiblePanels},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"animating",{get:function(){return this._control.animating},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"holding",{get:function(){return this._control.holding},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"activePlugins",{get:function(){return this._plugins},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"align",{get:function(){return this._align},set:function(val){this._align=val,this._renderer.align=val,this._camera.align=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"defaultIndex",{get:function(){return this._defaultIndex},set:function(val){this._defaultIndex=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"horizontal",{get:function(){return this._horizontal},set:function(val){this._horizontal=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"circular",{get:function(){return this._circular},set:function(val){this._circular=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"circularFallback",{get:function(){return this._circularFallback},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"bound",{get:function(){return this._bound},set:function(val){this._bound=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"adaptive",{get:function(){return this._adaptive},set:function(val){this._adaptive=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"panelsPerView",{get:function(){return this._panelsPerView},set:function(val){this._panelsPerView=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"noPanelStyleOverride",{get:function(){return this._noPanelStyleOverride},set:function(val){this._noPanelStyleOverride=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"resizeOnContentsReady",{get:function(){return this._resizeOnContentsReady},set:function(val){this._resizeOnContentsReady=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"nested",{get:function(){return this._nested},set:function(val){this._nested=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"needPanelThreshold",{get:function(){return this._needPanelThreshold},set:function(val){this._needPanelThreshold=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"preventEventsBeforeInit",{get:function(){return this._preventEventsBeforeInit},set:function(val){this._preventEventsBeforeInit=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"deceleration",{get:function(){return this._deceleration},set:function(val){this._deceleration=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"easing",{get:function(){return this._easing},set:function(val){this._easing=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"duration",{get:function(){return this._duration},set:function(val){this._duration=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"inputType",{get:function(){return this._inputType},set:function(val){this._inputType=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"moveType",{get:function(){return this._moveType},set:function(val){this._moveType=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"threshold",{get:function(){return this._threshold},set:function(val){this._threshold=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"interruptable",{get:function(){return this._interruptable},set:function(val){this._interruptable=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"bounce",{get:function(){return this._bounce},set:function(val){this._bounce=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"iOSEdgeSwipeThreshold",{get:function(){return this._iOSEdgeSwipeThreshold},set:function(val){this._iOSEdgeSwipeThreshold=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"preventClickOnDrag",{get:function(){return this._preventClickOnDrag},set:function(val){if(val!==this._preventClickOnDrag){var controller=this._control.controller;val?controller.addPreventClickHandler():controller.removePreventClickHandler(),this._preventClickOnDrag=val}},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"disableOnInit",{get:function(){return this._disableOnInit},set:function(val){this._disableOnInit=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"changeOnHold",{get:function(){return this._changeOnHold},set:function(val){this._changeOnHold=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderOnlyVisible",{get:function(){return this._renderOnlyVisible},set:function(val){this._renderOnlyVisible=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"virtual",{get:function(){return this._virtualManager},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"autoInit",{get:function(){return this._autoInit},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"autoResize",{get:function(){return this._autoResize},set:function(val){this._autoResize=val,val?this._autoResizer.enable():this._autoResizer.disable()},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"useResizeObserver",{get:function(){return this._useResizeObserver},set:function(val){this._useResizeObserver=val,this._autoResize&&this._autoResizer.enable()},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"resizeDebounce",{get:function(){return this._resizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"maxResizeDebounce",{get:function(){return this._maxResizeDebounce},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"useFractionalSize",{get:function(){return this._useFractionalSize},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"externalRenderer",{get:function(){return this._externalRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderExternal",{get:function(){return this._renderExternal},enumerable:!1,configurable:!0}),__proto.init=function(){var _this=this;if(this._initialized)return Promise.resolve();var camera=this._camera,renderer=this._renderer,control=this._control,virtualManager=this._virtualManager,originalTrigger=this.trigger,preventEventsBeforeInit=this._preventEventsBeforeInit;return camera.init(),virtualManager.init(),renderer.init(this),control.init(this),preventEventsBeforeInit&&(this.trigger=function(){return _this}),this._initialResize(),this._moveToInitialPanel(),this._autoResize&&this._autoResizer.enable(),this._preventClickOnDrag&&control.controller.addPreventClickHandler(),this._disableOnInit&&this.disableInput(),renderer.checkPanelContentsReady(renderer.panels),renderer.render().then(function(){_this._plugins.forEach(function(plugin){return plugin.init(_this)}),_this._initialized=!0,preventEventsBeforeInit&&(_this.trigger=originalTrigger),_this.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.READY))})},__proto.destroy=function(){this.off(),this._autoResizer.disable(),this._control.destroy(),this._camera.destroy(),this._renderer.destroy(),this._plugins.forEach(function(plugin){return plugin.destroy()}),this._initialized=!1},__proto.prev=function(duration){var _a,_b,_c;return void 0===duration&&(duration=this._duration),this.moveTo(null!==(_c=null===(_b=null===(_a=this._control.activePanel)||void 0===_a?void 0:_a.prev())||void 0===_b?void 0:_b.index)&&void 0!==_c?_c:-1,duration,DIRECTION.PREV)},__proto.next=function(duration){var _a,_b,_c;return void 0===duration&&(duration=this._duration),this.moveTo(null!==(_c=null===(_b=null===(_a=this._control.activePanel)||void 0===_a?void 0:_a.next())||void 0===_b?void 0:_b.index)&&void 0!==_c?_c:this._renderer.panelCount,duration,DIRECTION.NEXT)},__proto.moveTo=function(index,duration,direction){void 0===duration&&(duration=this._duration),void 0===direction&&(direction=DIRECTION.NONE);var renderer=this._renderer,panelCount=renderer.panelCount,panel=renderer.getPanel(index);return panel?this._control.animating?Promise.reject(new FlickingError(MESSAGE_ANIMATION_ALREADY_PLAYING,CODE.ANIMATION_ALREADY_PLAYING)):this._control.moveToPanel(panel,{duration:duration,direction:direction}):Promise.reject(new FlickingError(MESSAGE_INDEX_OUT_OF_RANGE(index,0,panelCount-1),CODE.INDEX_OUT_OF_RANGE))},__proto.getPanel=function(index){return this._renderer.getPanel(index)},__proto.enableInput=function(){return this._control.enable(),this},__proto.disableInput=function(){return this._control.disable(),this},__proto.getStatus=function(_a){var _b,_c,_d=void 0===_a?{}:_a,_e=_d.index,index=void 0===_e||_e,_f=_d.position,position=void 0===_f||_f,_g=_d.includePanelHTML,includePanelHTML=void 0!==_g&&_g,_h=_d.visiblePanelsOnly,visiblePanelsOnly=void 0!==_h&&_h,camera=this._camera,status={panels:(visiblePanelsOnly?this.visiblePanels:this.panels).map(function(panel){var panelInfo={index:panel.index};return includePanelHTML&&(panelInfo.html=panel.element.outerHTML),panelInfo})};if(index&&(status.index=this.index),position){var nearestAnchor=camera.findNearestAnchor(camera.position);nearestAnchor&&(status.position={panel:nearestAnchor.panel.index,progressInPanel:camera.getProgressInPanel(nearestAnchor.panel)})}if(visiblePanelsOnly){var visiblePanels=this.visiblePanels;status.visibleOffset=null!==(_c=null===(_b=visiblePanels[0])||void 0===_b?void 0:_b.index)&&void 0!==_c?_c:0}return status},__proto.setStatus=function(status){var _a;if(!this._initialized)throw new FlickingError(MESSAGE_NOT_INITIALIZED,CODE.NOT_INITIALIZED);var index=status.index,position=status.position,visibleOffset=status.visibleOffset,panels=status.panels,renderer=this._renderer,control=this._control;if((null===(_a=panels[0])||void 0===_a?void 0:_a.html)&&!this._renderExternal&&(renderer.batchRemove({index:0,deleteCount:this.panels.length,hasDOMInElements:!0}),renderer.batchInsert({index:0,elements:parseElement(panels.map(function(panel){return panel.html})),hasDOMInElements:!0})),index){var panelIndex=visibleOffset?index-visibleOffset:index;this.moveTo(panelIndex,0).catch(function(){})}if(position&&this._moveType===MOVE_TYPE.FREE_SCROLL){var panel=position.panel,progressInPanel=position.progressInPanel,panelRange=(panelIndex=visibleOffset?panel-visibleOffset:panel,renderer.panels[panelIndex].range),newCameraPos=panelRange.min+(panelRange.max-panelRange.min)*progressInPanel;control.moveToPosition(newCameraPos,0).catch(function(){})}},__proto.addPlugins=function(){for(var _a,_this=this,plugins=[],_i=0;_i<arguments.length;_i++)plugins[_i]=arguments[_i];return this._initialized&&plugins.forEach(function(item){return item.init(_this)}),(_a=this._plugins).push.apply(_a,__spread(plugins)),this},__proto.removePlugins=function(){for(var _this=this,plugins=[],_i=0;_i<arguments.length;_i++)plugins[_i]=arguments[_i];return plugins.forEach(function(item){var foundIndex=findIndex(_this._plugins,function(val){return val===item});foundIndex>=0&&(item.destroy(),_this._plugins.splice(foundIndex,1))}),this},__proto.resize=function(){return __awaiter(this,void 0,void 0,function(){var viewport,renderer,camera,control,activePanel,prevWidth,prevHeight,prevProgressInPanel,newWidth,newHeight,sizeChanged;return __generator(this,function(_a){switch(_a.label){case 0:return viewport=this._viewport,renderer=this._renderer,camera=this._camera,control=this._control,activePanel=control.activePanel,prevWidth=viewport.width,prevHeight=viewport.height,prevProgressInPanel=activePanel?camera.getProgressInPanel(activePanel):0,this.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.BEFORE_RESIZE,{width:prevWidth,height:prevHeight,element:viewport.element})),viewport.resize(),[4,renderer.forceRenderAllPanels()];case 1:return _a.sent(),renderer.updatePanelSize(),camera.updateAlignPos(),camera.updateRange(),camera.updateAnchors(),camera.updateAdaptiveHeight(),camera.updateOffset(),[4,renderer.render()];case 2:return _a.sent(),control.animating||(control.updatePosition(prevProgressInPanel),control.updateInput()),newWidth=viewport.width,newHeight=viewport.height,sizeChanged=newWidth!==prevWidth||newHeight!==prevHeight,this.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.AFTER_RESIZE,{width:viewport.width,height:viewport.height,prev:{width:prevWidth,height:prevHeight},sizeChanged:sizeChanged,element:viewport.element})),[2]}})})},__proto.append=function(element){return this.insert(this._renderer.panelCount,element)},__proto.prepend=function(element){return this.insert(0,element)},__proto.insert=function(index,element){if(this._renderExternal)throw new FlickingError(MESSAGE_NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchInsert({index:index,elements:parseElement(element),hasDOMInElements:!0})},__proto.remove=function(index,deleteCount){if(void 0===deleteCount&&(deleteCount=1),this._renderExternal)throw new FlickingError(MESSAGE_NOT_ALLOWED_IN_FRAMEWORK,CODE.NOT_ALLOWED_IN_FRAMEWORK);return this._renderer.batchRemove({index:index,deleteCount:deleteCount,hasDOMInElements:!0})},__proto._createControl=function(){var _a,moveType=this._moveType,moveTypes=Object.keys(MOVE_TYPE).map(function(key){return MOVE_TYPE[key]}),moveTypeStr=Array.isArray(moveType)?moveType[0]:moveType,moveTypeOptions=Array.isArray(moveType)&&null!==(_a=moveType[1])&&void 0!==_a?_a:{};if(!includes(moveTypes,moveTypeStr))throw new FlickingError(MESSAGE_WRONG_OPTION("moveType",JSON.stringify(moveType)),CODE.WRONG_OPTION);switch(moveTypeStr){case MOVE_TYPE.SNAP:return new SnapControl(moveTypeOptions);case MOVE_TYPE.FREE_SCROLL:return new FreeControl(moveTypeOptions);case MOVE_TYPE.STRICT:return new StrictControl(moveTypeOptions)}},__proto._createCamera=function(){return this._circular&&this._bound&&console.warn('"circular" and "bound" option cannot be used together, ignoring bound.'),new Camera(this,{align:this._align})},__proto._createRenderer=function(){var externalRenderer=this._externalRenderer;return this._virtual&&this._panelsPerView<=0&&console.warn('"virtual" and "panelsPerView" option should be used together, ignoring virtual.'),externalRenderer||(this._renderExternal?this._createExternalRenderer():this._createVanillaRenderer())},__proto._createExternalRenderer=function(){var _a=this._renderExternal,renderer=_a.renderer,rendererOptions=_a.rendererOptions;return new renderer(__assign({align:this._align},rendererOptions))},__proto._createVanillaRenderer=function(){var virtual=this.virtualEnabled;return new VanillaRenderer({align:this._align,strategy:virtual?new VirtualRenderingStrategy:new NormalRenderingStrategy({providerCtor:VanillaElementProvider})})},__proto._moveToInitialPanel=function(){var renderer=this._renderer,control=this._control,camera=this._camera,defaultPanel=renderer.getPanel(this._defaultIndex)||renderer.getPanel(0);if(defaultPanel){var nearestAnchor=camera.findNearestAnchor(defaultPanel.position),initialPanel=nearestAnchor&&defaultPanel.index!==nearestAnchor.panel.index?nearestAnchor.panel:defaultPanel;if(control.setActive(initialPanel,null,!1),!nearestAnchor)throw new FlickingError(MESSAGE_POSITION_NOT_REACHABLE(initialPanel.position),CODE.POSITION_NOT_REACHABLE);var position=initialPanel.position;camera.canReach(initialPanel)||(position=nearestAnchor.position),camera.lookAt(position),control.updateInput(),camera.updateOffset()}},__proto._initialResize=function(){var viewport=this._viewport,renderer=this._renderer,camera=this._camera,control=this._control;this.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.BEFORE_RESIZE,{width:0,height:0,element:viewport.element})),viewport.resize(),renderer.updatePanelSize(),camera.updateAlignPos(),camera.updateRange(),camera.updateAnchors(),camera.updateOffset(),control.updateInput();var newWidth=viewport.width,newHeight=viewport.height,sizeChanged=0!==newWidth||0!==newHeight;this.trigger(new _egjs_component__WEBPACK_IMPORTED_MODULE_0__.ComponentEvent(EVENTS.AFTER_RESIZE,{width:viewport.width,height:viewport.height,prev:{width:0,height:0},sizeChanged:sizeChanged,element:viewport.element}))},Flicking.VERSION="4.9.1",Flicking}(_egjs_component__WEBPACK_IMPORTED_MODULE_0___default.a),withFlickingMethods=function(prototype,flickingName){[_egjs_component__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,Flicking.prototype].forEach(function(proto){Object.getOwnPropertyNames(proto).filter(function(name){return!prototype[name]&&0!==name.indexOf("_")&&"constructor"!==name}).forEach(function(name){var descriptor=Object.getOwnPropertyDescriptor(proto,name);if(descriptor.value)Object.defineProperty(prototype,name,{value:function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(_a=descriptor.value).call.apply(_a,__spread([this[flickingName]],args))}});else{var getterDescriptor={};descriptor.get&&(getterDescriptor.get=function(){var _a,flicking=this[flickingName];return flicking&&(null===(_a=descriptor.get)||void 0===_a?void 0:_a.call(flicking))}),descriptor.set&&(getterDescriptor.set=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return null===(_a=descriptor.set)||void 0===_a?void 0:_a.call.apply(_a,__spread([this[flickingName]],args))}),Object.defineProperty(prototype,name,getterDescriptor)}})})},sync=function(flicking,diffResult,rendered){var renderer=flicking.renderer,panels=renderer.panels,prevList=__spread(diffResult.prevList),added=[],removed=[];if(diffResult.removed.length>0){var endIdx_1=-1,prevIdx_1=-1;diffResult.removed.forEach(function(removedIdx){endIdx_1<0&&(endIdx_1=removedIdx),prevIdx_1>=0&&removedIdx!==prevIdx_1-1?(removed.push.apply(removed,__spread(batchRemove(renderer,prevIdx_1,endIdx_1+1))),endIdx_1=removedIdx,prevIdx_1=removedIdx):prevIdx_1=removedIdx,prevList.splice(removedIdx,1)}),removed.push.apply(removed,__spread(batchRemove(renderer,prevIdx_1,endIdx_1+1)))}if(diffResult.ordered.forEach(function(_a){var _b=__read(_a,2),from=_b[0],to=_b[1],prevPanel=panels.splice(from,1)[0];panels.splice(to,0,prevPanel)}),diffResult.ordered.length>0&&(panels.forEach(function(panel,idx){var indexDiff=idx-panel.index;indexDiff>0?panel.increaseIndex(indexDiff):panel.decreaseIndex(-indexDiff)}),panels.sort(function(panel1,panel2){return panel1.index-panel2.index}),panels.forEach(function(panel){panel.updatePosition()})),diffResult.added.length>0){var startIdx_1=-1,prevIdx_2=-1,addedElements_1=rendered.slice(prevList.length);diffResult.added.forEach(function(addedIdx,idx){startIdx_1<0&&(startIdx_1=idx),prevIdx_2>=0&&addedIdx!==prevIdx_2+1?(added.push.apply(added,__spread(batchInsert(renderer,diffResult,addedElements_1,startIdx_1,idx+1))),startIdx_1=-1,prevIdx_2=-1):prevIdx_2=addedIdx}),startIdx_1>=0&&added.push.apply(added,__spread(batchInsert(renderer,diffResult,addedElements_1,startIdx_1)))}(diffResult.added.length>0||diffResult.removed.length>0)&&renderer.updateAfterPanelChange(added,removed)},batchInsert=function(renderer,diffResult,addedElements,startIdx,endIdx){return renderer.batchInsertDefer.apply(renderer,__spread(diffResult.added.slice(startIdx,endIdx).map(function(index,elIdx){return{index:index,elements:[addedElements[elIdx]],hasDOMInElements:!1}})))},batchRemove=function(renderer,startIdx,endIdx){var removed=renderer.panels.slice(startIdx,endIdx);return renderer.batchRemoveDefer({index:startIdx,deleteCount:removed.length,hasDOMInElements:!1})},getRenderingPanels=function(flicking,diffResult){var removedPanels=diffResult.removed.reduce(function(map,idx){return map[idx]=!0,map},{}),maintainedMap=diffResult.maintained.reduce(function(map,_a){var _b=__read(_a,2),prev=_b[0],current=_b[1];return map[prev]=current,map},{});return __spread(flicking.panels.filter(function(panel){return!removedPanels[panel.index]}).sort(function(panel1,panel2){return panel1.position+panel1.offset-(panel2.position+panel2.offset)}).map(function(panel){return diffResult.list[maintainedMap[panel.index]]}),diffResult.added.map(function(idx){return diffResult.list[idx]}))},getDefaultCameraTransform=function(align,horizontal,firstPanelSize){void 0===align&&(align=ALIGN.CENTER),void 0===horizontal&&(horizontal=!0);var cameraAlign=getCameraAlign(align),panelAlign=getPanelAlign(align);if(null==panelAlign)return"";var camPosition="calc("+cameraAlign+" - ("+(firstPanelSize||"0px")+" * "+panelAlign.percentage+") - "+panelAlign.absolute+"px)";return horizontal?"translate("+camPosition+")":"translate(0, "+camPosition+")"},getCameraAlign=function(align){var alignVal="object"==typeof align?align.camera:align;return parseAlign(alignVal)},getPanelAlign=function(align){var alignVal="object"==typeof align?align.panel:align;return parseArithmeticExpression(parseAlign(alignVal))},parseAlign=function(alignVal){if("number"==typeof alignVal)return alignVal+"px";switch(alignVal){case ALIGN.CENTER:return"50%";case ALIGN.NEXT:return"100%";case ALIGN.PREV:return"0%";default:return alignVal}}},i9N9:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return egjs_ngx_flicking_NgxFlickingComponent}),__webpack_require__.d(__webpack_exports__,"b",function(){return NgxFlickingModule}),__webpack_require__.d(__webpack_exports__,"c",function(){return NgxFlickingPanel});var flicking_esm=__webpack_require__("dRl4"),core=__webpack_require__("fXoL"),common=__webpack_require__("ofXK"),PolyMap=function(){function PolyMap(){this.keys=[],this.values=[]}var __proto=PolyMap.prototype;return __proto.get=function(key){return this.values[this.keys.indexOf(key)]},__proto.set=function(key,value){var keys=this.keys,values=this.values,prevIndex=keys.indexOf(key),index=-1===prevIndex?keys.length:prevIndex;keys[index]=key,values[index]=value},PolyMap}(),HashMap=function(){function HashMap(){this.object={}}var __proto=HashMap.prototype;return __proto.get=function(key){return this.object[key]},__proto.set=function(key,value){this.object[key]=value},HashMap}(),SUPPORT_MAP="function"==typeof Map,Link=function(){function Link(){}var __proto=Link.prototype;return __proto.connect=function(prevLink,nextLink){this.prev=prevLink,this.next=nextLink,prevLink&&(prevLink.next=this),nextLink&&(nextLink.prev=this)},__proto.disconnect=function(){var prevLink=this.prev,nextLink=this.next;prevLink&&(prevLink.next=nextLink),nextLink&&(nextLink.prev=prevLink)},__proto.getIndex=function(){for(var link=this,index=-1;link;)link=link.prev,++index;return index},Link}();var Result=function(){function Result(prevList,list,added,removed,changed,maintained,changedBeforeAdded,fixed){this.prevList=prevList,this.list=list,this.added=added,this.removed=removed,this.changed=changed,this.maintained=maintained,this.changedBeforeAdded=changedBeforeAdded,this.fixed=fixed}var __proto=Result.prototype;return Object.defineProperty(__proto,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(__proto,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),__proto.caculateOrdered=function(){var ordered=function orderChanged(changed,fixed){var fromLinks=[],toLinks=[];return changed.forEach(function(_a){var from=_a[0],to=_a[1],link=new Link;fromLinks[from]=link,toLinks[to]=link}),fromLinks.forEach(function(link,i){link.connect(fromLinks[i-1])}),changed.filter(function(_,i){return!fixed[i]}).map(function(_a,i){var from=_a[0],to=_a[1];if(from===to)return[0,0];var fromLink=fromLinks[from],toLink=toLinks[to-1],fromIndex=fromLink.getIndex();return fromLink.disconnect(),toLink?fromLink.connect(toLink,toLink.next):fromLink.connect(void 0,fromLinks[0]),[fromIndex,fromLink.getIndex()]})}(this.changedBeforeAdded,this.fixed),changed=this.changed,pureChanged=[];this.cacheOrdered=ordered.filter(function(_a,i){var from=_a[0],to=_a[1],_b=changed[i],fromBefore=_b[0],toBefore=_b[1];if(from!==to)return pureChanged.push([fromBefore,toBefore]),!0}),this.cachePureChanged=pureChanged},Result}();var list_differ_esm=function(){function ListDiffer(list,findKeyCallback){void 0===list&&(list=[]),this.findKeyCallback=findKeyCallback,this.list=[].slice.call(list)}return ListDiffer.prototype.update=function(list){var newData=[].slice.call(list),result=function diff(prevList,list,findKeyCallback){var mapClass=SUPPORT_MAP?Map:findKeyCallback?HashMap:PolyMap,callback=findKeyCallback||function(e){return e},added=[],removed=[],maintained=[],prevKeys=prevList.map(callback),keys=list.map(callback),prevKeyMap=new mapClass,keyMap=new mapClass,changedBeforeAdded=[],fixed=[],removedMap={},changed=[],addedCount=0,removedCount=0;return prevKeys.forEach(function(key,prevListIndex){prevKeyMap.set(key,prevListIndex)}),keys.forEach(function(key,listIndex){keyMap.set(key,listIndex)}),prevKeys.forEach(function(key,prevListIndex){var listIndex=keyMap.get(key);void 0===listIndex?(++removedCount,removed.push(prevListIndex)):removedMap[listIndex]=removedCount}),keys.forEach(function(key,listIndex){var prevListIndex=prevKeyMap.get(key);void 0===prevListIndex?(added.push(listIndex),++addedCount):(maintained.push([prevListIndex,listIndex]),removedCount=removedMap[listIndex]||0,changedBeforeAdded.push([prevListIndex-removedCount,listIndex-addedCount]),fixed.push(listIndex===prevListIndex),prevListIndex!==listIndex&&changed.push([prevListIndex,listIndex]))}),removed.reverse(),new Result(prevList,list,added,removed,changed,maintained,changedBeforeAdded,fixed)}(this.list,newData,this.findKeyCallback);return this.list=newData,result},ListDiffer}(),tslib=__webpack_require__("zOht");const _c0=["*",[["","in-viewport",""]]];class NgxFlickingService{constructor(){}}NgxFlickingService.\u0275fac=function NgxFlickingService_Factory(t){return new(t||NgxFlickingService)},NgxFlickingService.\u0275prov=Object(core["\u0275\u0275defineInjectable"])({factory:function NgxFlickingService_Factory(){return new NgxFlickingService},token:NgxFlickingService,providedIn:"root"}),NgxFlickingService.ctorParameters=()=>[];class NgxFlickingPanel{constructor(_elementref,_renderer){this._elementref=_elementref,this._renderer=_renderer,this._rendered=!0}get nativeElement(){return this._elementref.nativeElement}get rendered(){return this._rendered}show(flicking){this._rendered=!0;const el=this.nativeElement,cameraEl=flicking.camera.element;el.parentElement!==cameraEl&&this._renderer.appendChild(cameraEl,el)}hide(flicking){this._rendered=!1;const el=this.nativeElement,cameraEl=flicking.camera.element;el.parentElement===cameraEl&&this._renderer.removeChild(cameraEl,el)}}NgxFlickingPanel.\u0275fac=function NgxFlickingPanel_Factory(t){return new(t||NgxFlickingPanel)(core["\u0275\u0275directiveInject"](core.ElementRef),core["\u0275\u0275directiveInject"](core.Renderer2))},NgxFlickingPanel.\u0275dir=core["\u0275\u0275defineDirective"]({type:NgxFlickingPanel,selectors:[["","flicking-panel",""],["","FlickingPanel",""]]}),NgxFlickingPanel.ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2}];const EVENT_NAMES=Object.keys(flicking_esm.EVENTS).map(key=>flicking_esm.EVENTS[key]);class FlickingInterface{}Object(tslib.__decorate)([flicking_esm.withFlickingMethods,Object(tslib.__metadata)("design:type",flicking_esm.default)],FlickingInterface.prototype,"_vanillaFlicking",void 0);class egjs_ngx_flicking_NgxRenderer extends flicking_esm.ExternalRenderer{constructor(options){super(options),this._ngxFlicking=options.ngxFlicking,this._ngxRenderer=options.ngxRenderer}render(){return Object(tslib.__awaiter)(this,void 0,void 0,function*(){const flicking=Object(flicking_esm.getFlickingAttached)(this._flicking),strategy=this._strategy;strategy.updateRenderingPanels(flicking),strategy.renderPanels(flicking),this._resetPanelElementOrder()})}_collectPanels(){const flicking=Object(flicking_esm.getFlickingAttached)(this._flicking),children=this._ngxFlicking.ngxPanels.toArray();this._panels=this._strategy.collectPanels(flicking,children)}_createPanel(externalComponent,options){return this._strategy.createPanel(externalComponent,options)}_resetPanelElementOrder(){const flicking=Object(flicking_esm.getFlickingAttached)(this._flicking),renderer=this._ngxRenderer,cameraEl=flicking.camera.element,reversedElements=this._strategy.getRenderingElementsByOrder(flicking).reverse();reversedElements.forEach((el,idx)=>{const nextEl=reversedElements[idx-1]?reversedElements[idx-1]:null;el.nextElementSibling!==nextEl&&renderer.insertBefore(cameraEl,el,nextEl)})}}class NgxElementProvider{constructor(el){this._el=el}get element(){return this._el.nativeElement}get rendered(){return this._el.rendered}show(flicking){this._el.show(flicking)}hide(flicking){this._el.hide(flicking)}}class egjs_ngx_flicking_NgxFlickingComponent extends FlickingInterface{constructor(elRef,renderer,platformId){super(),this.options={},this.plugins=[],this.hideBeforeInit=!1,this._pluginsDiffer=new list_differ_esm,this._elementDiffer=null,this._elRef=elRef,this._ngxRenderer=renderer,this._platformId=platformId,this._vanillaFlicking=null,EVENT_NAMES.forEach(evtName=>{this[evtName]=new core.EventEmitter})}get isVertical(){return!1===this.options.horizontal}get isHiddenBeforeInit(){const initialized=this._vanillaFlicking&&this._vanillaFlicking.initialized;return this.hideBeforeInit&&!initialized}get cameraStyleBeforeInit(){return!(this._vanillaFlicking&&this._vanillaFlicking.initialized)&&this.firstPanelSize?{transform:Object(flicking_esm.getDefaultCameraTransform)(this.options.align,this.options.horizontal,this.firstPanelSize)}:{}}get ngxPanels(){return this._ngxPanels}ngAfterViewInit(){if(!Object(common.isPlatformBrowser)(this._platformId))return;const options=this.options,viewportEl=this._elRef.nativeElement,virtual=options.virtual&&options.panelsPerView>0,rendererOptions={ngxFlicking:this,align:options.align,ngxRenderer:this._ngxRenderer,strategy:virtual?new flicking_esm.VirtualRenderingStrategy:new flicking_esm.NormalRenderingStrategy({providerCtor:NgxElementProvider})};virtual&&this._initVirtualElements();const flicking=new flicking_esm.default(viewportEl,Object.assign(Object.assign({},this.options),{externalRenderer:new egjs_ngx_flicking_NgxRenderer(rendererOptions)}));this._vanillaFlicking=flicking;const elementDiffer=new list_differ_esm(this._ngxPanels.toArray());this._elementDiffer=elementDiffer,this._bindEvents(),this._checkPlugins(),this.status&&flicking.setStatus(this.status),this._ngxPanels.changes.subscribe(()=>{const panels=this._ngxPanels.toArray(),diffResult=elementDiffer.update(panels);Object(flicking_esm.sync)(flicking,diffResult,[...diffResult.maintained.map(([_,idx])=>diffResult.list[idx]),...diffResult.added.map(idx=>diffResult.list[idx])])})}ngOnDestroy(){this._vanillaFlicking&&this._vanillaFlicking.destroy()}ngOnChanges(){const flicking=this._vanillaFlicking;flicking&&(flicking.renderer.forceRenderAllPanels(),this._checkPlugins())}_bindEvents(){const flicking=this._vanillaFlicking;EVENT_NAMES.forEach(evtName=>{flicking.on(evtName,e=>{const emitter=this[evtName];e.currentTarget=this,emitter&&emitter.emit(e)})})}_checkPlugins(){const flicking=this._vanillaFlicking;if(!flicking)return;const{list:list,added:added,removed:removed,prevList:prevList}=this._pluginsDiffer.update(this.plugins);flicking.addPlugins(...added.map(index=>list[index])),flicking.removePlugins(...removed.map(index=>prevList[index]))}_initVirtualElements(){const options=this.options,renderer=this._ngxRenderer,cameraElement=this._elRef.nativeElement.firstElementChild,panelsPerView=options.panelsPerView,virtual=options.virtual,fragment=document.createDocumentFragment();Object(flicking_esm.range)(panelsPerView+1).map(idx=>{var _a;const panelEl=renderer.createElement("div");return panelEl.className=null!==(_a=virtual.panelClass)&&void 0!==_a?_a:flicking_esm.CLASS.DEFAULT_VIRTUAL,panelEl.dataset.elementIndex=idx.toString(),panelEl}).forEach(el=>{fragment.appendChild(el)}),renderer.appendChild(cameraElement,fragment)}}egjs_ngx_flicking_NgxFlickingComponent.\u0275fac=function NgxFlickingComponent_Factory(t){return new(t||egjs_ngx_flicking_NgxFlickingComponent)(core["\u0275\u0275directiveInject"](core.ElementRef),core["\u0275\u0275directiveInject"](core.Renderer2),core["\u0275\u0275directiveInject"](core.PLATFORM_ID))},egjs_ngx_flicking_NgxFlickingComponent.\u0275cmp=core["\u0275\u0275defineComponent"]({type:egjs_ngx_flicking_NgxFlickingComponent,selectors:[["ngx-flicking"],["","NgxFlicking",""]],contentQueries:function NgxFlickingComponent_ContentQueries(rf,ctx,dirIndex){if(1&rf&&core["\u0275\u0275contentQuery"](dirIndex,NgxFlickingPanel,0),2&rf){let _t;core["\u0275\u0275queryRefresh"](_t=core["\u0275\u0275loadQuery"]())&&(ctx._ngxPanels=_t)}},hostAttrs:[1,"flicking-viewport",2,"display","block"],hostVars:4,hostBindings:function NgxFlickingComponent_HostBindings(rf,ctx){2&rf&&core["\u0275\u0275classProp"]("vertical",ctx.isVertical)("flicking-hidden",ctx.isHiddenBeforeInit)},inputs:{options:"options",plugins:"plugins",hideBeforeInit:"hideBeforeInit",status:"status",firstPanelSize:"firstPanelSize"},outputs:{ready:"ready",beforeResize:"beforeResize",afterResize:"afterResize",holdStart:"holdStart",holdEnd:"holdEnd",moveStart:"moveStart",move:"move",moveEnd:"moveEnd",willChange:"willChange",changed:"changed",willRestore:"willRestore",restored:"restored",select:"select",needPanel:"needPanel",visibleChange:"visibleChange",reachEdge:"reachEdge",panelChange:"panelChange"},features:[core["\u0275\u0275InheritDefinitionFeature"],core["\u0275\u0275NgOnChangesFeature"]],ngContentSelectors:["*","[in-viewport]"],decls:3,vars:1,consts:[[1,"flicking-camera",3,"ngStyle"]],template:function NgxFlickingComponent_Template(rf,ctx){1&rf&&(core["\u0275\u0275projectionDef"](_c0),core["\u0275\u0275elementStart"](0,"div",0),core["\u0275\u0275projection"](1),core["\u0275\u0275elementEnd"](),core["\u0275\u0275projection"](2,1)),2&rf&&core["\u0275\u0275property"]("ngStyle",ctx.cameraStyleBeforeInit)},directives:[common.NgStyle],styles:[".flicking-viewport{overflow:hidden;position:relative}.flicking-viewport.vertical,.flicking-viewport.vertical>.flicking-camera{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.flicking-viewport.vertical>.flicking-camera{-ms-flex-direction:column;-webkit-box-direction:normal;-webkit-box-orient:vertical;flex-direction:column}.flicking-viewport.flicking-hidden>.flicking-camera>*{visibility:hidden}.flicking-camera{-ms-flex-direction:row;-webkit-box-direction:normal;-webkit-box-orient:horizontal;display:-webkit-box;display:-ms-flexbox;display:flex;flex-direction:row;height:100%;position:relative;width:100%;will-change:transform;z-index:1}.flicking-camera>*{-ms-flex-negative:0;flex-shrink:0}"],encapsulation:2}),egjs_ngx_flicking_NgxFlickingComponent.ctorParameters=()=>[{type:core.ElementRef},{type:core.Renderer2},{type:void 0,decorators:[{type:core.Inject,args:[core.PLATFORM_ID]}]}],egjs_ngx_flicking_NgxFlickingComponent.propDecorators={options:[{type:core.Input}],plugins:[{type:core.Input}],status:[{type:core.Input}],hideBeforeInit:[{type:core.Input}],firstPanelSize:[{type:core.Input}],ready:[{type:core.Output}],beforeResize:[{type:core.Output}],afterResize:[{type:core.Output}],holdStart:[{type:core.Output}],holdEnd:[{type:core.Output}],moveStart:[{type:core.Output}],move:[{type:core.Output}],moveEnd:[{type:core.Output}],willChange:[{type:core.Output}],changed:[{type:core.Output}],willRestore:[{type:core.Output}],restored:[{type:core.Output}],select:[{type:core.Output}],needPanel:[{type:core.Output}],visibleChange:[{type:core.Output}],reachEdge:[{type:core.Output}],panelChange:[{type:core.Output}],isVertical:[{type:core.HostBinding,args:["class.vertical"]}],isHiddenBeforeInit:[{type:core.HostBinding,args:["class.flicking-hidden"]}],_ngxPanels:[{type:core.ContentChildren,args:[NgxFlickingPanel]}]};class NgxFlickingModule{}NgxFlickingModule.\u0275mod=core["\u0275\u0275defineNgModule"]({type:NgxFlickingModule}),NgxFlickingModule.\u0275inj=core["\u0275\u0275defineInjector"]({factory:function NgxFlickingModule_Factory(t){return new(t||NgxFlickingModule)},providers:[NgxFlickingService],imports:[[common.CommonModule]]})},iOY6:function(module,exports,__webpack_require__){module.exports=function(){"use strict";function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}var isUndefined=function(value){return void 0===value},ComponentEvent=function(){function ComponentEvent(eventType,props){var e_1,_a;if(this._canceled=!1,props)try{for(var _b=__values(Object.keys(props)),_c=_b.next();!_c.done;_c=_b.next()){var key=_c.value;this[key]=props[key]}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}this.eventType=eventType}var __proto=ComponentEvent.prototype;return __proto.stop=function(){this._canceled=!0},__proto.isCanceled=function(){return this._canceled},ComponentEvent}(),Component=function(){function Component(){this._eventHandler={}}var __proto=Component.prototype;return __proto.trigger=function(event){for(var params=[],_i=1;_i<arguments.length;_i++)params[_i-1]=arguments[_i];var eventName=event instanceof ComponentEvent?event.eventType:event,handlers=__spread(this._eventHandler[eventName]||[]);return handlers.length<=0||(event instanceof ComponentEvent?(event.currentTarget=this,handlers.forEach(function(handler){handler(event)})):handlers.forEach(function(handler){handler.apply(void 0,__spread(params))})),this},__proto.once=function(eventName,handlerToAttach){var _this=this;if("object"==typeof eventName&&isUndefined(handlerToAttach)){var eventHash=eventName;for(var key in eventHash)this.once(key,eventHash[key]);return this}if("string"==typeof eventName&&"function"==typeof handlerToAttach){var listener_1=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];handlerToAttach.apply(void 0,__spread(args)),_this.off(eventName,listener_1)};this.on(eventName,listener_1)}return this},__proto.hasOn=function(eventName){return!!this._eventHandler[eventName]},__proto.on=function(eventName,handlerToAttach){if("object"==typeof eventName&&isUndefined(handlerToAttach)){var eventHash=eventName;for(var name in eventHash)this.on(name,eventHash[name]);return this}if("string"==typeof eventName&&"function"==typeof handlerToAttach){var handlerList=this._eventHandler[eventName];isUndefined(handlerList)&&(this._eventHandler[eventName]=[],handlerList=this._eventHandler[eventName]),handlerList.push(handlerToAttach)}return this},__proto.off=function(eventName,handlerToDetach){var e_1,_a;if(isUndefined(eventName))return this._eventHandler={},this;if(isUndefined(handlerToDetach)){if("string"==typeof eventName)return delete this._eventHandler[eventName],this;var eventHash=eventName;for(var name in eventHash)this.off(name,eventHash[name]);return this}var handlerList=this._eventHandler[eventName];if(handlerList){var idx=0;try{for(var handlerList_1=__values(handlerList),handlerList_1_1=handlerList_1.next();!handlerList_1_1.done;handlerList_1_1=handlerList_1.next()){if(handlerList_1_1.value===handlerToDetach){handlerList.splice(idx,1),handlerList.length<=0&&delete this._eventHandler[eventName];break}idx++}}catch(e_1_1){e_1={error:e_1_1}}finally{try{handlerList_1_1&&!handlerList_1_1.done&&(_a=handlerList_1.return)&&_a.call(handlerList_1)}finally{if(e_1)throw e_1.error}}}return this},Component.VERSION="3.0.2",Component}(),ComponentEvent$1=ComponentEvent;return Component.ComponentEvent=ComponentEvent$1,Component}()},tM8A:function(module,exports,__webpack_require__){!function(exports,flicking){"use strict";var Parallax=function(){function Parallax(selector,scale){var _this=this;void 0===selector&&(selector=""),void 0===scale&&(scale=1),this.update=function(){_this._onMove()},this._onMove=function(){var flicking=_this._flicking;flicking&&flicking.visiblePanels.forEach(function(panel){var progress=panel.outsetProgress,el=panel.element,target=_this._selector?el.querySelector(_this._selector):el,parentTarget=target.parentNode,rect=target.getBoundingClientRect(),transform="translate(-50%) translate("+(parentTarget.getBoundingClientRect().width-rect.width)/2*progress*_this._scale+"px)";target.style.cssText+="transform: "+transform+";-webkit-transform: "+transform+";-ms-transform:"+transform})},this._flicking=null,this._selector=selector,this._scale=scale}var __proto=Parallax.prototype;return Object.defineProperty(__proto,"selector",{get:function(){return this._selector},set:function(val){this._selector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"scale",{get:function(){return this._scale},set:function(val){this._scale=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){this._flicking&&this.destroy(),this._flicking=flicking$1,flicking$1.on(flicking.EVENTS.MOVE,this._onMove),flicking$1.on(flicking.EVENTS.AFTER_RESIZE,this.update),this._onMove()},__proto.destroy=function(){this._flicking&&(this._flicking.off(flicking.EVENTS.MOVE,this._onMove),this._flicking.off(flicking.EVENTS.AFTER_RESIZE,this.update),this._flicking=null)},Parallax}(),Fade=function(){function Fade(selector,scale){var _this=this;void 0===selector&&(selector=""),void 0===scale&&(scale=1),this.update=function(){_this._onMove()},this._onMove=function(){var flicking=_this._flicking,selector=_this._selector,scale=_this._scale;flicking&&flicking.visiblePanels.forEach(function(panel){var progress=panel.outsetProgress,el=panel.element,target=selector?el.querySelector(selector):el,opacity=Math.min(1,Math.max(0,1-Math.abs(progress*scale)));target.style.opacity=""+opacity})},this._flicking=null,this._selector=selector,this._scale=scale}var __proto=Fade.prototype;return Object.defineProperty(__proto,"selector",{get:function(){return this._selector},set:function(val){this._selector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"scale",{get:function(){return this._scale},set:function(val){this._scale=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){this._flicking&&this.destroy(),this._flicking=flicking$1,flicking$1.on(flicking.EVENTS.MOVE,this._onMove),flicking$1.on(flicking.EVENTS.AFTER_RESIZE,this.update),this._onMove()},__proto.destroy=function(){this._flicking&&(this._flicking.off(flicking.EVENTS.MOVE,this._onMove),this._flicking.off(flicking.EVENTS.AFTER_RESIZE,this.update),this._flicking=null)},Fade}(),AutoPlay=function(){function AutoPlay(_a){var _this=this,_b=void 0===_a?{}:_a,_c=_b.duration,duration=void 0===_c?2e3:_c,_d=_b.direction,direction=void 0===_d?flicking.DIRECTION.NEXT:_d,_e=_b.stopOnHover,stopOnHover=void 0!==_e&&_e;this._flicking=null,this._timerId=0,this._mouseEntered=!1,this.play=function(){var flicking$1=_this._flicking,direction=_this._direction;flicking$1&&(_this.stop(),_this._mouseEntered||flicking$1.animating||(_this._timerId=window.setTimeout(function(){direction===flicking.DIRECTION.NEXT?flicking$1.next().catch(function(){}):flicking$1.prev().catch(function(){}),_this.play()},_this._duration)))},this.stop=function(){clearTimeout(_this._timerId)},this._onMouseEnter=function(){_this._mouseEntered=!0,_this.stop()},this._onMouseLeave=function(){_this._mouseEntered=!1,_this.play()},this._duration=duration,this._direction=direction,this._stopOnHover=stopOnHover}var __proto=AutoPlay.prototype;return Object.defineProperty(__proto,"duration",{get:function(){return this._duration},set:function(val){this._duration=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"direction",{get:function(){return this._direction},set:function(val){this._direction=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"stopOnHover",{get:function(){return this._stopOnHover},set:function(val){this._stopOnHover=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){var _a;if(this._flicking&&this.destroy(),flicking$1.on(((_a={})[flicking.EVENTS.MOVE_START]=this.stop,_a[flicking.EVENTS.HOLD_START]=this.stop,_a[flicking.EVENTS.MOVE_END]=this.play,_a[flicking.EVENTS.SELECT]=this.play,_a)),this._flicking=flicking$1,this._stopOnHover){var targetEl=this._flicking.element;targetEl.addEventListener("mouseenter",this._onMouseEnter,!1),targetEl.addEventListener("mouseleave",this._onMouseLeave,!1)}this.play()},__proto.destroy=function(){var flicking$1=this._flicking;if(this._mouseEntered=!1,this.stop(),flicking$1){flicking$1.off(flicking.EVENTS.MOVE_START,this.stop),flicking$1.off(flicking.EVENTS.HOLD_START,this.stop),flicking$1.off(flicking.EVENTS.MOVE_END,this.play),flicking$1.off(flicking.EVENTS.SELECT,this.play);var targetEl=flicking$1.element;targetEl.removeEventListener("mouseenter",this._onMouseEnter,!1),targetEl.removeEventListener("mouseleave",this._onMouseLeave,!1),this._flicking=null}},__proto.update=function(){},AutoPlay}(),BROWSER={CLICK:"click",MOUSE_DOWN:"mousedown",TOUCH_START:"touchstart"},ARROW={PREV_SELECTOR:".flicking-arrow-prev",NEXT_SELECTOR:".flicking-arrow-next",DISABLED_CLASS:"flicking-arrow-disabled"},PAGINATION={SELECTOR:".flicking-pagination",PREFIX:"flicking-pagination",BULLET_WRAPPER_SUFFIX:"bullets",BULLET_SUFFIX:"bullet",BULLET_ACTIVE_SUFFIX:"bullet-active",FRACTION_WRAPPER_SUFFIX:"fraction",FRACTION_CURRENT_SUFFIX:"fraction-current",FRACTION_TOTAL_SUFFIX:"fraction-total",SCROLL_UNINIT_SUFFIX:"uninitialized",SCROLL_WRAPPER_SUFFIX:"scroll",SCROLL_SLIDER_SUFFIX:"slider",SCROLL_PREV_SUFFIX:"bullet-prev",SCROLL_NEXT_SUFFIX:"bullet-next",TYPE:{BULLET:"bullet",FRACTION:"fraction",SCROLL:"scroll"}},SYNC={TYPE:{CAMERA:"camera",INDEX:"index"}},addClass=function(el,className){el&&(el.classList?el.classList.add(className):el.className.split(" ").indexOf(className)<0&&(el.className=el.className+" "+className))},removeClass=function(el,className){if(el)if(el.classList)el.classList.remove(className);else{var classRegex=new RegExp("( |^)"+className+"( |$)","g");el.className.replace(classRegex," ")}},getElement=function(selector,parent,pluginName){var el=parent.querySelector(selector);if(!el)throw new Error("[Flicking-"+pluginName+"] Couldn't find element with the given selector: "+selector);return el},Arrow=function(){function Arrow(_a){var _this=this,_b=void 0===_a?{}:_a,_c=_b.parentEl,parentEl=void 0===_c?null:_c,_d=_b.prevElSelector,prevElSelector=void 0===_d?ARROW.PREV_SELECTOR:_d,_e=_b.nextElSelector,nextElSelector=void 0===_e?ARROW.NEXT_SELECTOR:_e,_f=_b.disabledClass,disabledClass=void 0===_f?ARROW.DISABLED_CLASS:_f,_g=_b.moveCount,moveCount=void 0===_g?1:_g,_h=_b.moveByViewportSize,moveByViewportSize=void 0!==_h&&_h;this._flicking=null,this._preventInputPropagation=function(e){e.stopPropagation()},this._onPrevClick=function(){var flicking=_this._flicking,camera=flicking.camera,anchorPoints=camera.anchorPoints;if(!(flicking.animating||anchorPoints.length<=0)){var firstAnchor=anchorPoints[0],moveCount=_this._moveCount;if(_this._moveByViewportSize)flicking.control.moveToPosition(camera.position-camera.size,flicking.duration).catch(_this._onCatch);else if(flicking.circularEnabled){for(var targetPanel=flicking.currentPanel,i=0;i<moveCount;i++)targetPanel=targetPanel.prev();targetPanel.focus().catch(_this._onCatch)}else flicking.index>firstAnchor.panel.index?flicking.moveTo(Math.max(flicking.index-moveCount,firstAnchor.panel.index)).catch(_this._onCatch):camera.position>camera.range.min&&flicking.moveTo(flicking.index).catch(_this._onCatch)}},this._onNextClick=function(){var flicking=_this._flicking,camera=flicking.camera,anchorPoints=camera.anchorPoints;if(!(flicking.animating||anchorPoints.length<=0)){var lastAnchor=anchorPoints[anchorPoints.length-1],moveCount=_this._moveCount;if(_this._moveByViewportSize)flicking.control.moveToPosition(camera.position+camera.size,flicking.duration).catch(_this._onCatch);else if(flicking.circularEnabled){for(var targetPanel=flicking.currentPanel,i=0;i<moveCount;i++)targetPanel=targetPanel.next();targetPanel.focus().catch(_this._onCatch)}else flicking.index<lastAnchor.panel.index?flicking.moveTo(Math.min(flicking.index+moveCount,lastAnchor.panel.index)).catch(_this._onCatch):camera.position>camera.range.min&&flicking.moveTo(flicking.index).catch(_this._onCatch)}},this._onAnimation=function(){var flicking=_this._flicking,camera=flicking.camera,controller=flicking.control.controller;flicking.holding?_this._updateClass(camera.position):_this._updateClass(controller.animatingContext.end)},this._onCatch=function(err){if(!(err instanceof flicking.FlickingError))throw err},this._parentEl=parentEl,this._prevElSelector=prevElSelector,this._nextElSelector=nextElSelector,this._disabledClass=disabledClass,this._moveCount=moveCount,this._moveByViewportSize=moveByViewportSize}var __proto=Arrow.prototype;return Object.defineProperty(__proto,"prevEl",{get:function(){return this._prevEl},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"nextEl",{get:function(){return this._nextEl},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"parentEl",{get:function(){return this._parentEl},set:function(val){this._parentEl=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"prevElSelector",{get:function(){return this._prevElSelector},set:function(val){this._prevElSelector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"nextElSelector",{get:function(){return this._nextElSelector},set:function(val){this._nextElSelector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"disabledClass",{get:function(){return this._disabledClass},set:function(val){this._disabledClass=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"moveCount",{get:function(){return this._moveCount},set:function(val){this._moveCount=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"moveByViewportSize",{get:function(){return this._moveByViewportSize},set:function(val){this._moveByViewportSize=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){var _this=this;this._flicking&&this.destroy(),this._flicking=flicking$1,flicking$1.on(flicking.EVENTS.MOVE,this._onAnimation);var parentEl=this._parentEl?this._parentEl:flicking$1.element,prevEl=getElement(this._prevElSelector,parentEl,"Arrow"),nextEl=getElement(this._nextElSelector,parentEl,"Arrow");[BROWSER.MOUSE_DOWN,BROWSER.TOUCH_START].forEach(function(evt){prevEl.addEventListener(evt,_this._preventInputPropagation,{passive:!0}),nextEl.addEventListener(evt,_this._preventInputPropagation,{passive:!0})}),prevEl.addEventListener(BROWSER.CLICK,this._onPrevClick),nextEl.addEventListener(BROWSER.CLICK,this._onNextClick),this._prevEl=prevEl,this._nextEl=nextEl,this.update()},__proto.destroy=function(){var _this=this,flicking$1=this._flicking;if(flicking$1){flicking$1.off(flicking.EVENTS.MOVE,this._onAnimation);var prevEl=this._prevEl,nextEl=this._nextEl;[BROWSER.MOUSE_DOWN,BROWSER.TOUCH_START].forEach(function(evt){prevEl.removeEventListener(evt,_this._preventInputPropagation),nextEl.removeEventListener(evt,_this._preventInputPropagation)}),prevEl.removeEventListener(BROWSER.CLICK,this._onPrevClick),nextEl.removeEventListener(BROWSER.CLICK,this._onNextClick),this._flicking=null}},__proto.update=function(){this._updateClass(this._flicking.camera.position)},__proto._updateClass=function(pos){var flicking=this._flicking,disabledClass=this._disabledClass,prevEl=this._prevEl,nextEl=this._nextEl,cameraRange=flicking.camera.range,stopAtPrevEdge=!flicking.circularEnabled&&pos<=cameraRange.min,stopAtNextEdge=!flicking.circularEnabled&&pos>=cameraRange.max;stopAtPrevEdge?addClass(prevEl,disabledClass):removeClass(prevEl,disabledClass),stopAtNextEdge?addClass(nextEl,disabledClass):removeClass(nextEl,disabledClass)},Arrow}(),Sync=function(){function Sync(_a){var _this=this,_b=void 0===_a?{}:_a,_c=_b.type,type=void 0===_c?SYNC.TYPE.CAMERA:_c,_d=_b.synchronizedFlickingOptions,synchronizedFlickingOptions=void 0===_d?[]:_d;this._flicking=null,this._addEvents=function(){var type=_this._type;_this._synchronizedFlickingOptions.forEach(function(_a){var flicking$1=_a.flicking,isSlidable=_a.isSlidable,isClickable=_a.isClickable;type===SYNC.TYPE.CAMERA&&(flicking$1.on(flicking.EVENTS.MOVE,_this._onMove),flicking$1.on(flicking.EVENTS.MOVE_START,_this._onMoveStart),flicking$1.on(flicking.EVENTS.MOVE_END,_this._onMoveEnd)),type===SYNC.TYPE.INDEX&&isSlidable&&(flicking$1.on(flicking.EVENTS.WILL_CHANGE,_this._onIndexChange),flicking$1.on(flicking.EVENTS.WILL_RESTORE,_this._onIndexChange)),isClickable&&flicking$1.on(flicking.EVENTS.SELECT,_this._onSelect)})},this._removeEvents=function(){var type=_this._type;_this._synchronizedFlickingOptions.forEach(function(_a){var flicking$1=_a.flicking,isSlidable=_a.isSlidable,isClickable=_a.isClickable;type===SYNC.TYPE.CAMERA&&(flicking$1.off(flicking.EVENTS.MOVE,_this._onMove),flicking$1.off(flicking.EVENTS.MOVE_START,_this._onMoveStart),flicking$1.off(flicking.EVENTS.MOVE_END,_this._onMoveEnd)),type===SYNC.TYPE.INDEX&&isSlidable&&(flicking$1.off(flicking.EVENTS.WILL_CHANGE,_this._onIndexChange),flicking$1.off(flicking.EVENTS.WILL_RESTORE,_this._onIndexChange)),isClickable&&flicking$1.off(flicking.EVENTS.SELECT,_this._onSelect)})},this._onIndexChange=function(e){var flicking=e.currentTarget;flicking.initialized&&_this._synchronizeByIndex(flicking,e.index)},this._onMove=function(e){var camera=e.currentTarget.camera,progress=(camera.position-camera.range.min)/camera.rangeDiff;_this._synchronizedFlickingOptions.forEach(function(_a){var flicking=_a.flicking;if(flicking!==e.currentTarget){var targetPosition=0;targetPosition=camera.position<camera.range.min?camera.position:camera.position>camera.range.max?flicking.camera.range.max+camera.position-camera.range.max:flicking.camera.range.min+flicking.camera.rangeDiff*progress,flicking.camera.lookAt(targetPosition)}})},this._onMoveStart=function(e){_this._synchronizedFlickingOptions.forEach(function(_a){var flicking=_a.flicking;flicking!==e.currentTarget&&flicking.disableInput()})},this._onMoveEnd=function(e){_this._synchronizedFlickingOptions.forEach(function(_a){var flicking=_a.flicking;flicking!==e.currentTarget&&(flicking.enableInput(),flicking.control.updateInput())})},this._onSelect=function(e){e.currentTarget.moveTo(e.index).catch(function(){}),_this._synchronizeByIndex(e.currentTarget,e.index)},this._synchronizeByIndex=function(activeFlicking,index){var synchronizedFlickingOptions=_this._synchronizedFlickingOptions;_this._preventEvent(function(){synchronizedFlickingOptions.forEach(function(options){_this._updateClass(options,index);var flicking$1=options.flicking;if(flicking$1!==activeFlicking){var targetIndex=flicking.clamp(index,0,flicking$1.panels.length);flicking$1.animating?flicking$1.once(flicking.EVENTS.MOVE_END,function(){flicking$1.moveTo(targetIndex).catch(function(){})}):flicking$1.moveTo(targetIndex)}})})},this._updateClass=function(_a,index){var flicking=_a.flicking,activeClass=_a.activeClass;activeClass&&flicking.panels.forEach(function(panel){panel.index===index?addClass(panel.element,activeClass):removeClass(panel.element,activeClass)})},this._type=type,this._synchronizedFlickingOptions=synchronizedFlickingOptions}var __proto=Sync.prototype;return Object.defineProperty(__proto,"type",{get:function(){return this._type},set:function(val){this._type=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"synchronizedFlickingOptions",{get:function(){return this._synchronizedFlickingOptions},set:function(val){this._synchronizedFlickingOptions=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking){var _this=this,synced=this._synchronizedFlickingOptions;this._flicking&&this.destroy(),this._flicking=flicking,this._addEvents(),synced.forEach(function(options){var syncedFlicking=options.flicking;_this._updateClass(options,syncedFlicking.defaultIndex)})},__proto.destroy=function(){this._flicking&&(this._removeEvents(),this._flicking=null)},__proto.update=function(){var _this=this;this._synchronizedFlickingOptions.forEach(function(options){_this._updateClass(options,options.flicking.index)})},__proto._preventEvent=function(fn){this._removeEvents(),fn(),this._addEvents()},Sync}(),Perspective=function(){function Perspective(_a){var _this=this,_b=void 0===_a?{}:_a,_c=_b.selector,selector=void 0===_c?"":_c,_d=_b.scale,scale=void 0===_d?1:_d,_e=_b.rotate,rotate=void 0===_e?1:_e,_f=_b.perspective,perspective=void 0===_f?1e3:_f;this.update=function(){_this._onMove()},this._onMove=function(){var flicking=_this._flicking,selector=_this._selector,scale=_this._scale,rotate=_this._rotate,perspective=_this._perspective;if(flicking){var horizontal=flicking.horizontal;flicking.visiblePanels.forEach(function(panel){var progress=panel.outsetProgress,el=panel.element,target=selector?el.querySelector(selector):el,panelScale=1/(Math.abs(progress*scale)+1),rotateDegree=progress>0?Math.min(90,100*progress*rotate):Math.max(-90,100*progress*rotate),_a=horizontal?[0,rotateDegree]:[rotateDegree,0],rotateX=_a[0],rotateY=_a[1];target.style.transform="perspective("+perspective+"px) rotateX("+rotateX+"deg) rotateY("+rotateY+"deg) scale("+panelScale+")"})}},this._flicking=null,this._selector=selector,this._scale=scale,this._rotate=rotate,this._perspective=perspective}var __proto=Perspective.prototype;return Object.defineProperty(__proto,"selector",{get:function(){return this._selector},set:function(val){this._selector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"scale",{get:function(){return this._scale},set:function(val){this._scale=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"rotate",{get:function(){return this._rotate},set:function(val){this._rotate=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"perspective",{get:function(){return this._perspective},set:function(val){this._perspective=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){this._flicking&&this.destroy(),this._flicking=flicking$1,flicking$1.on(flicking.EVENTS.MOVE,this._onMove),flicking$1.on(flicking.EVENTS.AFTER_RESIZE,this.update),this._onMove()},__proto.destroy=function(){this._flicking&&(this._flicking.off(flicking.EVENTS.MOVE,this._onMove),this._flicking.off(flicking.EVENTS.AFTER_RESIZE,this.update),this._flicking=null)},Perspective}(),extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||from)}var Renderer=function(){function Renderer(_a){var flicking=_a.flicking,pagination=_a.pagination,wrapper=_a.wrapper;this._flicking=flicking,this._pagination=pagination,this._wrapper=wrapper}return Renderer}(),BulletRenderer=function(_super){function BulletRenderer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._childs=[],_this}__extends(BulletRenderer,_super);var __proto=BulletRenderer.prototype;return __proto.render=function(){var flicking$1=this._flicking,pagination=this._pagination,renderBullet=pagination.renderBullet,bulletWrapperClass=pagination.classPrefix+"-"+PAGINATION.BULLET_WRAPPER_SUFFIX,bulletClass=pagination.classPrefix+"-"+PAGINATION.BULLET_SUFFIX,bulletActiveClass=pagination.classPrefix+"-"+PAGINATION.BULLET_ACTIVE_SUFFIX,anchorPoints=flicking$1.camera.anchorPoints,wrapper=this._wrapper;addClass(wrapper,bulletWrapperClass),wrapper.innerHTML=anchorPoints.map(function(_,index){return renderBullet(bulletClass,index)}).join("\n");var bullets=[].slice.call(wrapper.children);bullets.forEach(function(bullet,index){var anchorPoint=anchorPoints[index];anchorPoint.panel.index===flicking$1.index&&addClass(bullet,bulletActiveClass),bullet.addEventListener(BROWSER.MOUSE_DOWN,function(e){e.stopPropagation()}),bullet.addEventListener(BROWSER.TOUCH_START,function(e){e.stopPropagation()},{passive:!0}),bullet.addEventListener(BROWSER.CLICK,function(){flicking$1.moveTo(anchorPoint.panel.index).catch(function(err){if(!(err instanceof flicking.FlickingError))throw err})})}),this._childs=bullets},__proto.update=function(index){var flicking=this._flicking,pagination=this._pagination,bullets=this._childs,activeClass=pagination.classPrefix+"-"+PAGINATION.BULLET_ACTIVE_SUFFIX,anchorPoints=flicking.camera.anchorPoints;if(!(anchorPoints.length<=0)){bullets.forEach(function(bullet){removeClass(bullet,activeClass)});var activeBullet=bullets[index-anchorPoints[0].panel.index];addClass(activeBullet,activeClass)}},BulletRenderer}(Renderer),FractionRenderer=function(_super){function FractionRenderer(){return null!==_super&&_super.apply(this,arguments)||this}__extends(FractionRenderer,_super);var __proto=FractionRenderer.prototype;return __proto.render=function(){var flicking=this._flicking,wrapper=this._wrapper,pagination=this._pagination,fractionWrapperClass=pagination.classPrefix+"-"+PAGINATION.FRACTION_WRAPPER_SUFFIX,fractionCurrentClass=pagination.classPrefix+"-"+PAGINATION.FRACTION_CURRENT_SUFFIX,fractionTotalClass=pagination.classPrefix+"-"+PAGINATION.FRACTION_TOTAL_SUFFIX;addClass(wrapper,fractionWrapperClass),wrapper.innerHTML=pagination.renderFraction(fractionCurrentClass,fractionTotalClass),this.update(flicking.index)},__proto.update=function(index){var flicking=this._flicking,wrapper=this._wrapper,pagination=this._pagination,fractionCurrentClass=pagination.classPrefix+"-"+PAGINATION.FRACTION_CURRENT_SUFFIX,fractionTotalClass=pagination.classPrefix+"-"+PAGINATION.FRACTION_TOTAL_SUFFIX,currentWrapper=wrapper.querySelector("."+fractionCurrentClass),totalWrapper=wrapper.querySelector("."+fractionTotalClass),anchorPoints=flicking.camera.anchorPoints,currentIndex=anchorPoints.length>0?index-anchorPoints[0].panel.index+1:0;currentWrapper.innerHTML=pagination.fractionCurrentFormat(currentIndex),totalWrapper.innerHTML=pagination.fractionTotalFormat(anchorPoints.length)},FractionRenderer}(Renderer),ScrollBulletRenderer=function(_super){function ScrollBulletRenderer(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this._bullets=[],_this._bulletSize=0,_this._previousIndex=-1,_this._sliderIndex=-1,_this.moveTo=function(index){var pagination=_this._pagination,sliderEl=_this._wrapper.firstElementChild,bulletSize=_this._bulletSize,wrapperSize=bulletSize*pagination.bulletCount;sliderEl.style.transform="translate("+(wrapperSize/2-(index+.5)*bulletSize)+"px)",_this._sliderIndex=index},_this}__extends(ScrollBulletRenderer,_super);var __proto=ScrollBulletRenderer.prototype;return __proto.render=function(){var wrapper=this._wrapper,flicking$1=this._flicking,pagination=this._pagination,renderBullet=pagination.renderBullet,anchorPoints=flicking$1.camera.anchorPoints,dynamicWrapperClass=pagination.classPrefix+"-"+PAGINATION.SCROLL_WRAPPER_SUFFIX,bulletClass=pagination.classPrefix+"-"+PAGINATION.BULLET_SUFFIX,sliderClass=pagination.classPrefix+"-"+PAGINATION.SCROLL_SLIDER_SUFFIX,uninitClass=pagination.classPrefix+"-"+PAGINATION.SCROLL_UNINIT_SUFFIX,sliderEl=document.createElement("div");addClass(sliderEl,sliderClass),addClass(wrapper,uninitClass),addClass(wrapper,dynamicWrapperClass),wrapper.appendChild(sliderEl),sliderEl.innerHTML=anchorPoints.map(function(_,index){return renderBullet(bulletClass,index)}).join("\n");var bullets=[].slice.call(sliderEl.children);if(bullets.forEach(function(bullet,index){var anchorPoint=anchorPoints[index];bullet.addEventListener(BROWSER.MOUSE_DOWN,function(e){e.stopPropagation()}),bullet.addEventListener(BROWSER.TOUCH_START,function(e){e.stopPropagation()},{passive:!0}),bullet.addEventListener(BROWSER.CLICK,function(){flicking$1.moveTo(anchorPoint.panel.index).catch(function(err){if(!(err instanceof flicking.FlickingError))throw err})})}),!(bullets.length<=0)){var bulletStyle=getComputedStyle(bullets[0]),bulletSize=bullets[0].clientWidth+parseFloat(bulletStyle.marginLeft)+parseFloat(bulletStyle.marginRight);wrapper.style.width=bulletSize*pagination.bulletCount+"px",this._bullets=bullets,this._bulletSize=bulletSize,this.update(this._flicking.index),window.requestAnimationFrame(function(){removeClass(wrapper,uninitClass)})}},__proto.update=function(index){var pagination=this._pagination,flicking$1=this._flicking,bullets=this._bullets,prevIndex=this._previousIndex,anchorPoints=flicking$1.camera.anchorPoints,activeIndex=index-anchorPoints[0].panel.index;if(!(anchorPoints.length<=0)){var bulletActiveClass=pagination.classPrefix+"-"+PAGINATION.BULLET_ACTIVE_SUFFIX,prevClassPrefix=pagination.classPrefix+"-"+PAGINATION.SCROLL_PREV_SUFFIX,nextClassPrefix=pagination.classPrefix+"-"+PAGINATION.SCROLL_NEXT_SUFFIX,bulletPrevClass=function(offset){return""+prevClassPrefix+(offset>1?offset:"")},bulletNextClass=function(offset){return""+nextClassPrefix+(offset>1?offset:"")},prevClassRegex=new RegExp("^"+prevClassPrefix),nextClassRegex=new RegExp("^"+nextClassPrefix);bullets.forEach(function(bullet,idx){for(var indexOffset=idx-activeIndex,_i=0,classList_1=bullet.className.split(" ");_i<classList_1.length;_i++){var className=classList_1[_i];(className===bulletActiveClass||prevClassRegex.test(className)||nextClassRegex.test(className))&&removeClass(bullet,className)}addClass(bullet,0===indexOffset?bulletActiveClass:indexOffset>0?bulletNextClass(Math.abs(indexOffset)):bulletPrevClass(Math.abs(indexOffset)))}),pagination.scrollOnChange(activeIndex,{total:bullets.length,prevIndex:prevIndex,sliderIndex:this._sliderIndex,direction:activeIndex>prevIndex?flicking.DIRECTION.NEXT:flicking.DIRECTION.PREV,bullets:__spreadArray([],bullets),moveTo:this.moveTo}),this._previousIndex=activeIndex}},ScrollBulletRenderer}(Renderer),Pagination=function(){function Pagination(_a){var _this=this,_b=void 0===_a?{}:_a,_c=_b.parentEl,parentEl=void 0===_c?null:_c,_d=_b.selector,selector=void 0===_d?PAGINATION.SELECTOR:_d,_e=_b.type,type=void 0===_e?PAGINATION.TYPE.BULLET:_e,_f=_b.classPrefix,classPrefix=void 0===_f?PAGINATION.PREFIX:_f,_g=_b.bulletCount,bulletCount=void 0===_g?5:_g,_h=_b.renderBullet,renderBullet=void 0===_h?function(className){return'<span class="'+className+'"></span>'}:_h,_j=_b.renderFraction,renderFraction=void 0===_j?function(currentClass,totalClass){return'<span class="'+currentClass+'"></span>/<span class="'+totalClass+'"></span>'}:_j,_k=_b.fractionCurrentFormat,fractionCurrentFormat=void 0===_k?function(index){return index.toString()}:_k,_l=_b.fractionTotalFormat,fractionTotalFormat=void 0===_l?function(index){return index.toString()}:_l,_m=_b.scrollOnChange,scrollOnChange=void 0===_m?function(index,ctx){return ctx.moveTo(index)}:_m;this._flicking=null,this.update=function(){_this._removeAllChilds(),_this._renderer.render()},this._onIndexChange=function(evt){_this._renderer.update(evt.index)},this._parentEl=parentEl,this._selector=selector,this._type=type,this._classPrefix=classPrefix,this._bulletCount=bulletCount,this._renderBullet=renderBullet,this._renderFraction=renderFraction,this._fractionCurrentFormat=fractionCurrentFormat,this._fractionTotalFormat=fractionTotalFormat,this._scrollOnChange=scrollOnChange}var __proto=Pagination.prototype;return Object.defineProperty(__proto,"parentEl",{get:function(){return this._parentEl},set:function(val){this._parentEl=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"selector",{get:function(){return this._selector},set:function(val){this._selector=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"type",{get:function(){return this._type},set:function(val){this._type=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"classPrefix",{get:function(){return this._classPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"bulletCount",{get:function(){return this._bulletCount},set:function(val){this._bulletCount=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderBullet",{get:function(){return this._renderBullet},set:function(val){this._renderBullet=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"renderFraction",{get:function(){return this._renderFraction},set:function(val){this._renderFraction=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"fractionCurrentFormat",{get:function(){return this._fractionCurrentFormat},set:function(val){this._fractionCurrentFormat=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"fractionTotalFormat",{get:function(){return this._fractionTotalFormat},set:function(val){this._fractionTotalFormat=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"scrollOnChange",{get:function(){return this._scrollOnChange},set:function(val){this._scrollOnChange=val},enumerable:!1,configurable:!0}),Object.defineProperty(__proto,"bulletWrapperclassPrefixClass",{set:function(val){this._classPrefix=val},enumerable:!1,configurable:!0}),__proto.init=function(flicking$1){this._flicking&&this.destroy(),this._flicking=flicking$1;var type=this._type,selector=this._selector,wrapper=(this._parentEl?this._parentEl:flicking$1.element).querySelector(selector);if(!wrapper)throw new Error("[Flicking-Pagination] Couldn't find element with the given selector: "+selector);this._wrapper=wrapper,this._renderer=this._createRenderer(type),flicking$1.on(flicking.EVENTS.WILL_CHANGE,this._onIndexChange),flicking$1.on(flicking.EVENTS.WILL_RESTORE,this._onIndexChange),flicking$1.on(flicking.EVENTS.PANEL_CHANGE,this.update),this.update()},__proto.destroy=function(){var flicking$1=this._flicking;flicking$1&&(flicking$1.off(flicking.EVENTS.WILL_CHANGE,this._onIndexChange),flicking$1.off(flicking.EVENTS.WILL_RESTORE,this._onIndexChange),flicking$1.off(flicking.EVENTS.PANEL_CHANGE,this.update),this._removeAllChilds(),this._flicking=null)},__proto._createRenderer=function(type){var options={flicking:this._flicking,pagination:this,wrapper:this._wrapper};switch(type){case PAGINATION.TYPE.BULLET:return new BulletRenderer(options);case PAGINATION.TYPE.FRACTION:return new FractionRenderer(options);case PAGINATION.TYPE.SCROLL:return new ScrollBulletRenderer(options);default:throw new Error('[Flicking-Pagination] type "'+type+'" is not supported.')}},__proto._removeAllChilds=function(){for(var wrapper=this._wrapper;wrapper.firstChild;)wrapper.removeChild(wrapper.firstChild)},Pagination}();exports.ARROW=ARROW,exports.Arrow=Arrow,exports.AutoPlay=AutoPlay,exports.Fade=Fade,exports.PAGINATION=PAGINATION,exports.Pagination=Pagination,exports.Parallax=Parallax,exports.Perspective=Perspective,exports.SYNC=SYNC,exports.Sync=Sync}(exports,__webpack_require__("dRl4"))}};